"use strict";(self.webpackChunkroomz_web_app=self.webpackChunkroomz_web_app||[]).push([[2],{2002:(pt,f,s)=>{s.r(f),s.d(f,{SearchResultModule:()=>lt});var d=s(3075),c=s(9808),g=s(1062),P=s(978),S=s(5326),u=s(7152),z=s(727),t=s(5e3),v=s(6010),w=s(5001),p=s(1894),T=s(2340),Z=s(279),D=s(4767),b=s(8054),x=s(2905),A=s(6042),F=s(2643),M=s(2683),y=s(3087),C=s(3640),k=s(8957),J=s(6462);function R(i,o){if(1&i&&t._UZ(0,"nz-option",12),2&i){const e=o.$implicit,n=t.oxw();t.Q6J("nzValue",e[n.lang])("nzLabel",e[n.lang])}}function L(i,o){if(1&i&&t._UZ(0,"nz-option",12),2&i){const e=o.$implicit;t.Q6J("nzValue",null==e?null:e.id)("nzLabel",e.property_type)}}function Q(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"div")(1,"input",33),t.NdJ("change",function(a){const l=t.CHM(e).$implicit;return t.oxw(2).onAmenitiesChange(a,l,l.id)}),t.qZA(),t.TgZ(2,"label",34),t._uU(3),t.qZA()()}if(2&i){const e=o.$implicit;t.xp6(1),t.Q6J("checked",e.checked)("value",e.id)("id",e.name),t.xp6(1),t.Q6J("for",e.name),t.xp6(1),t.Oqu(e.name)}}function I(i,o){1&i&&t._UZ(0,"i",35)}function H(i,o){1&i&&t._UZ(0,"i",36)}function N(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"div")(1,"input",33),t.NdJ("change",function(a){const l=t.CHM(e).$implicit;return t.oxw(2).onRulesChange(a,l,l.id)}),t.qZA(),t.TgZ(2,"label",34),t._uU(3),t.qZA()()}if(2&i){const e=o.$implicit;t.xp6(1),t.Q6J("checked",e.checked)("value",e.id)("id",e.rule),t.xp6(1),t.Q6J("for",e.rule),t.xp6(1),t.Oqu(e.rule)}}function U(i,o){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",13)(2,"p",14),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"nz-slider",15),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw().rangSlider=a}),t.qZA()(),t.TgZ(6,"div",16)(7,"p",17),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.YNc(10,Q,4,5,"div",18),t.qZA(),t.TgZ(11,"div",19)(12,"div",20)(13,"p",21),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"div",22)(17,"button",23)(18,"i",24),t.NdJ("click",function(){return t.CHM(e),t.oxw().counter("minus")}),t.qZA()(),t.TgZ(19,"span"),t._uU(20),t.qZA(),t.TgZ(21,"button",25),t.NdJ("click",function(){return t.CHM(e),t.oxw().counter("add")}),t._UZ(22,"i",26),t.qZA()()()(),t.TgZ(23,"div",27)(24,"p",14),t._uU(25),t.ALo(26,"translate"),t.qZA(),t.TgZ(27,"div",28)(28,"div",29)(29,"nz-switch",30),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw().flexibility=a}),t.qZA(),t.YNc(30,I,1,0,"ng-template",null,31,t.W1O),t.YNc(32,H,1,0,"ng-template",null,32,t.W1O),t.qZA()()(),t.TgZ(34,"div",16)(35,"p",17),t._uU(36),t.ALo(37,"translate"),t.qZA(),t.YNc(38,N,4,5,"div",18),t.qZA(),t.BQk()}if(2&i){const e=t.MAs(31),n=t.MAs(33),a=t.oxw();t.xp6(3),t.Oqu(t.lcZ(4,15,"SearchResultsPage.Budget")),t.xp6(2),t.Q6J("ngModel",a.rangSlider)("nzMarks",a.marks)("nzMax",8e3),t.xp6(3),t.Oqu(t.lcZ(9,17,"SearchResultsPage.Amenities")),t.xp6(2),t.Q6J("ngForOf",a.amenitiesData),t.xp6(4),t.Oqu(t.lcZ(15,19,"SearchResultsPage.Guests")),t.xp6(3),t.Q6J("disabled",0==a.countGuests),t.xp6(3),t.Oqu(a.countGuests),t.xp6(5),t.hij(" ",t.lcZ(26,21,"SearchResultsPage.CancellationFlexibility")," "),t.xp6(4),t.Q6J("ngModel",a.flexibility)("nzCheckedChildren",e)("nzUnCheckedChildren",n),t.xp6(7),t.Oqu(t.lcZ(37,23,"SearchResultsPage.Rules")),t.xp6(2),t.Q6J("ngForOf",a.houseRulesData)}}function j(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"div",37)(1,"button",38),t.NdJ("click",function(){return t.CHM(e),t.oxw().handleClear()}),t.TgZ(2,"span"),t._uU(3),t.ALo(4,"translate"),t.qZA()(),t.TgZ(5,"button",39),t.NdJ("click",function(){return t.CHM(e),t.oxw().handleOk()}),t._uU(6),t.ALo(7,"translate"),t.qZA()()}if(2&i){const e=t.oxw();t.xp6(3),t.Oqu(t.lcZ(4,3,"SearchResultsPage.ClearAll")),t.xp6(2),t.Q6J("nzLoading",e.isConfirmLoading),t.xp6(1),t.hij(" ",t.lcZ(7,5,"SearchResultsPage.Apply")," ")}}const h=function(){return{span:11}},m=function(){return{span:6}},Y=function(i,o){return[i,o]};let B=(()=>{class i{constructor(e,n,a,r){this.translateService=e,this.commonService=n,this.amenitiesService=a,this.houseRulesService=r,this.filter={city:"",property_type:"",start_date:"",end_date:""},this.date=null,this.isVisible=!1,this.isConfirmLoading=!1,this.rangSlider=0,this.marks={0:"0",500:"500",2e3:{label:"<span>500-1000</span>"},5e3:{label:"<span>1000-5000</span>"},8e3:{label:"<strong>5000<</strong>"}},this.adultsCount=1,this.childrenCount=1,this.startDatePlaceholder="",this.endDatePlaceholder="",this.citiesData=[],this.amenitiesData=[],this.amenitiesId=[],this.rulesHouseId=[],this.houseRulesData=[],this.citiesDataClone=[],this.flexibility=!1,this.countGuests=0,this.lang=T.N.lang,this.propertyTypesData=[],this.subscriptions=new z.w0}ngOnInit(){this.handleDatePlaceholder(),this.fetchAllCities(),this.fetchAllPropertyTypes(),this.fetchAllAmenities(),this.fetchAllHouseRules()}handleDatePlaceholder(){this.startDatePlaceholder=this.translateService.instant("HomePage.StartDate"),this.endDatePlaceholder=this.translateService.instant("HomePage.EndDate")}fetchAllCities(){this.subscriptions.add(this.commonService.fetchAllCities().subscribe(e=>{e.successful&&(this.citiesData=null==e?void 0:e.cities,this.citiesDataClone=e.cities)},e=>{this.commonService.showErrorAlert("Error","Failed to get cities, Please try again")}))}fetchAllAmenities(){this.subscriptions.add(this.amenitiesService.getAmenities().subscribe({next:e=>{this.amenitiesData=e.data,this.prepareAmenitiesData()}}))}prepareAmenitiesData(){this.amenitiesData=this.amenitiesData.map(e=>Object.assign(Object.assign({},e),{checked:!1}))}fetchAllHouseRules(){this.subscriptions.add(this.houseRulesService.getRulesHouse().subscribe({next:e=>{this.houseRulesData=e.data,this.prepareRulesData()}}))}prepareRulesData(){this.houseRulesData=this.houseRulesData.map(e=>Object.assign(Object.assign({},e),{checked:!1}))}onSearchInCities(e){var n;this.citiesData=this.citiesDataClone,(null===(n=null==e?void 0:e.trim())||void 0===n?void 0:n.length)>1&&(this.citiesData=this.citiesData.filter(a=>{var r,l;return(null===(r=null==a?void 0:a.ar)||void 0===r?void 0:r.toLowerCase().includes(e.toLowerCase()))||(null===(l=null==a?void 0:a.en)||void 0===l?void 0:l.toLowerCase().includes(e.toLowerCase()))}))}fetchAllPropertyTypes(){this.subscriptions.add(this.commonService.fetchAllPropertyTypes().subscribe(e=>{(null==e?void 0:e.successful)&&(this.propertyTypesData=e.data)},e=>{this.commonService.showErrorAlert("Error","Failed to get property types, Please try again")}))}ngOnChanges(e){var n;this.filter=null===(n=e.filterCriteria)||void 0===n?void 0:n.currentValue[0],this.selectedDate=[new Date(this.filter.start_date),new Date(this.filter.end_date)]}onChange(e){console.log("onChange: ",e)}showModal(){this.isVisible=!0}handleOk(){console.log({range:this.rangSlider,amenities:this.amenitiesId,rulesHouse:this.rulesHouseId,flexibility:this.flexibility,guests:this.countGuests})}handleClear(){this.prepareAmenitiesData(),this.prepareRulesData(),this.amenitiesId=[],this.countGuests=0,this.rulesHouseId=[],this.flexibility=!1,this.rangSlider=0}handleCancel(){this.isVisible=!1}onAmenitiesChange(e,n,a){if(1==e.target.checked)n.checked=!0,this.amenitiesId.push(a);else{const r=this.amenitiesId.findIndex(l=>l===a);n.checked=!1,this.amenitiesId.splice(r,1)}}onRulesChange(e,n,a){if(1==e.target.checked)n.checked=!0,this.rulesHouseId.push(a);else{const r=this.amenitiesId.findIndex(l=>l===a);n.checked=!1,this.rulesHouseId.splice(r,1)}}counter(e){"add"===e?this.countGuests++:this.countGuests--}cityCompareWith(e,n){return e===n}typeCompareWith(e,n){return e==n}ngOnDestroy(){this.subscriptions.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(g.sK),t.Y36(v.v),t.Y36(Z.c),t.Y36(D._))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-search-filter"]],inputs:{filterCriteria:"filterCriteria"},features:[t.TTD],decls:23,vars:47,consts:[["nz-row","",1,"filter-wrapper","justify-content-between","mt-3"],["nz-col","",1,"mb-3",3,"nzXs","nzLg"],["nzAllowClear","","nzShowSearch","","nzServerSearch","","nzAllowClear","",1,"city-select",3,"ngModel","compareWith","nzPlaceHolder","ngModelChange","nzOnSearch"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],["nzBorderless","","nzAllowClear","",1,"type-select",3,"ngModel","compareWith","nzPlaceHolder","ngModelChange"],["nzBorderless","","nzFormat","yyyy/MM/dd",1,"date-picker",3,"ngModel","nzPlaceHolder","ngModelChange"],["nz-col","",1,"filter-icon",3,"nzXs","nzLg"],["nz-button","","nzBorderless","",3,"click"],["nz-icon","","nzType","filter","nzTheme","outline"],["nzWidth","700px",3,"nzVisible","nzOkText","nzTitle","nzVisibleChange","nzOnCancel"],[4,"nzModalContent"],["class","modal-footer",4,"nzModalFooter"],[3,"nzValue","nzLabel"],[1,"group"],[1,"label"],["nzIncluded","",3,"ngModel","nzMarks","nzMax","ngModelChange"],[1,"group","selector"],[1,"label","d-block","mb-3","w-100"],[4,"ngFor","ngForOf"],[1,"group","guests-group"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"label","mb-0"],[1,"input-wrapper"],["nz-button","","nzType","primary","nzShape","circle",1,"me-3","d-inline-block",3,"disabled"],["nz-icon","","nzType","minus","nzTheme","outline",3,"click"],["nz-button","","nzType","primary","nzShape","circle",1,"ms-3","me-0","d-inline-block",3,"click"],["nz-icon","","nzType","plus","nzTheme","outline"],[1,"group","switch-group"],[1,"switch-wrapper"],[1,"switch"],[3,"ngModel","nzCheckedChildren","nzUnCheckedChildren","ngModelChange"],["checkedTemplate",""],["unCheckedTemplate",""],["type","checkbox",1,"label",3,"checked","value","id","change"],[3,"for"],["nz-icon","","nzType","check"],["nz-icon","","nzType","close"],[1,"modal-footer"],["nz-button","","nzType","link",1,"clear-btn",3,"click"],["nz-button","","nzType","primary",3,"nzLoading","click"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"nz-select",2),t.NdJ("ngModelChange",function(r){return n.filter.city=r})("nzOnSearch",function(r){return n.onSearchInCities(r)}),t.ALo(3,"translate"),t.YNc(4,R,1,2,"nz-option",3),t.qZA()(),t.TgZ(5,"div",1)(6,"nz-select",4),t.NdJ("ngModelChange",function(r){return n.filter.property_type=r}),t.ALo(7,"translate"),t.YNc(8,L,1,2,"nz-option",3),t.qZA()(),t.TgZ(9,"div",1)(10,"nz-range-picker",5),t.NdJ("ngModelChange",function(r){return n.selectedDate=r}),t.ALo(11,"translate"),t.ALo(12,"translate"),t.qZA()(),t.TgZ(13,"div",6)(14,"button",7),t.NdJ("click",function(){return n.showModal()}),t._uU(15),t.ALo(16,"translate"),t._UZ(17,"i",8),t.qZA()()(),t.TgZ(18,"nz-modal",9),t.NdJ("nzVisibleChange",function(r){return n.isVisible=r})("nzOnCancel",function(){return n.handleCancel()}),t.ALo(19,"translate"),t.ALo(20,"translate"),t.YNc(21,U,39,25,"ng-container",10),t.YNc(22,j,8,7,"div",11),t.qZA()),2&e&&(t.xp6(1),t.Q6J("nzXs",t.DdM(36,h))("nzLg",t.DdM(37,m)),t.xp6(1),t.s9C("nzPlaceHolder",t.lcZ(3,22,"HomePage.ChooseCity")),t.Q6J("ngModel",n.filter.city)("compareWith",n.cityCompareWith),t.xp6(2),t.Q6J("ngForOf",n.citiesData),t.xp6(1),t.Q6J("nzXs",t.DdM(38,h))("nzLg",t.DdM(39,m)),t.xp6(1),t.s9C("nzPlaceHolder",t.lcZ(7,24,"HomePage.PropertyType")),t.Q6J("ngModel",n.filter.property_type)("compareWith",n.typeCompareWith),t.xp6(2),t.Q6J("ngForOf",n.propertyTypesData),t.xp6(1),t.Q6J("nzXs",t.DdM(40,h))("nzLg",t.DdM(41,m)),t.xp6(1),t.Q6J("ngModel",n.selectedDate)("nzPlaceHolder",t.WLB(42,Y,t.lcZ(11,26,"HomePage.StartDate"),t.lcZ(12,28,"HomePage.EndDate"))),t.xp6(3),t.Q6J("nzXs",t.DdM(45,h))("nzLg",t.DdM(46,m)),t.xp6(2),t.hij(" ",t.lcZ(16,30,"SearchResultsPage.MoreFilters")," "),t.xp6(3),t.s9C("nzOkText",t.lcZ(19,32,"SearchResultsPage.Apply")),t.s9C("nzTitle",t.lcZ(20,34,"SearchResultsPage.MoreFilters")),t.Q6J("nzVisible",n.isVisible))},directives:[p.SK,p.t3,b.Vq,d.JJ,d.On,c.sg,b.Ip,x.uw,x.wS,A.ix,F.dQ,M.w,y.Ls,C.du,C.Hf,k.jS,J.i,C.Uh],pipes:[g.X$],styles:[".city-select[_ngcontent-%COMP%], .type-select[_ngcontent-%COMP%], .date-picker[_ngcontent-%COMP%]{width:90%;background-color:#eee!important}@media (max-width: 575px){.city-select[_ngcontent-%COMP%], .type-select[_ngcontent-%COMP%], .date-picker[_ngcontent-%COMP%]{width:100%}}.filter-icon[_ngcontent-%COMP%]{text-align:end}.filter-icon[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-color:transparent!important;color:var(--bs-primary)!important}.filter-icon[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:18px}.group[_ngcontent-%COMP%]{padding-bottom:3em;margin-bottom:2em;border-bottom:2px solid var(--bs-gray-300)}.group.selector[_ngcontent-%COMP%]{display:flex;align-items:center;flex-wrap:wrap}.group.selector[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;margin-inline-end:10px;margin-block-end:10px;height:32px;justify-content:center;cursor:pointer;position:relative;-webkit-user-select:none;user-select:none}.group.selector[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover   label[_ngcontent-%COMP%]{color:var(--bs-primary)}.group.selector[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;opacity:0;height:0;width:0}.group.selector[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]{background-color:var(--bs-primary);color:var(--bs-white);border-color:transparent}.group.selector[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{border-radius:5px;border:1px solid #d9d9d9;padding:5px 15px;width:100%;height:100%;font-size:14px;cursor:pointer;transition:color .3s,background-color .3s,border-color .3s,box-shadow .3s}.group[_ngcontent-%COMP%]:last-of-type{border-bottom:0;margin-bottom:0;padding-bottom:1em}.group[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:16px;color:var(--bs-dark);margin-bottom:2em}.radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:flex-start}.radio-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-inline-end:1em;margin-bottom:1em;border-radius:2px}.switch-group[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;padding-bottom:0}.switch-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .switch-group[_ngcontent-%COMP%]   .switch-wrapper[_ngcontent-%COMP%]{display:inline-block}.guests-group[_ngcontent-%COMP%]{padding-bottom:1em;margin-bottom:2em}.guests-group[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700;font-size:19px}.guests-group[_ngcontent-%COMP%]   .guest-type-wrapper[_ngcontent-%COMP%]{padding-right:1em;padding-left:1em;display:flex;flex-direction:row;justify-content:space-between;margin-bottom:1em}.guests-group[_ngcontent-%COMP%]   .guest-type-wrapper[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{font-size:14px;margin-bottom:0}.guests-group[_ngcontent-%COMP%]   .guest-type-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;width:15%}@media (max-width: 1024px){.guests-group[_ngcontent-%COMP%]   .guest-type-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]{width:25%}}@media (max-width: 576px){.guests-group[_ngcontent-%COMP%]   .guest-type-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]{width:45%}}.guests-group[_ngcontent-%COMP%]   .guest-type-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{text-align:center}.modal-footer[_ngcontent-%COMP%]{justify-content:space-between}.modal-footer[_ngcontent-%COMP%]   .clear-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--bs-dark);border-bottom:2px solid var(--bs-dark)}  .city-select .ant-select-selector,   .type-select .ant-select-selector{border-color:#eee!important;background-color:#eee!important}  .ant-slider-dot-active,   .ant-slider-handle{border-color:var(--bs-primary)!important}  .ant-slider-track{background-color:var(--bs-primary)!important}  .radio-group .ant-radio-button-wrapper-checked:not(.ant-radio-button-wrapper-disabled){color:var(--bs-white)!important;background-color:var(--bs-primary)!important;border-color:var(--bs-primary)!important}  .radio-group .ant-radio-button-wrapper-checked:not(.ant-radio-button-wrapper-disabled):before{background-color:var(--bs-primary)!important}  .radio-group .ant-radio-button-wrapper:hover{color:var(--bs-primary)!important}  .switch-group .ant-switch-inner{line-height:.5em}  .switch-group .ant-switch-checked{background-color:var(--bs-primary)!important}input[_ngcontent-%COMP%]::-webkit-outer-spin-button, input[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}"]}),i})();var _=s(9576);function E(i,o){if(1&i&&(t.TgZ(0,"agm-marker",3)(1,"agm-info-window",4),t._uU(2),t.qZA()()),2&i){const e=o.$implicit;t.Q6J("latitude",e.latitude)("longitude",e.longitude),t.xp6(1),t.Q6J("isOpen",!0),t.xp6(1),t.hij(" ",null==e?null:e.name," ")}}let V=(()=>{class i{constructor(){this.zoom=16,this.minZoom=16,this.maxZoom=16,this.icon="assets/imgs/map-pin.svg"}ngOnInit(){}clickedMarker(e,n){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-search-map"]],inputs:{placesData:"placesData"},decls:3,vars:7,consts:[["nz-row","",1,"filter-wrapper","mt-3","mb-5"],["zoomControl","true",3,"latitude","longitude","zoom","minZoom","maxZoom","disableDefaultUI"],[3,"latitude","longitude",4,"ngFor","ngForOf"],[3,"latitude","longitude"],[3,"isOpen"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"agm-map",1),t.YNc(2,E,3,4,"agm-marker",2),t.qZA()()),2&e&&(t.xp6(1),t.Q6J("latitude",n.placesData[0].latitude)("longitude",n.placesData[0].longitude)("zoom",n.zoom)("minZoom",n.minZoom)("maxZoom",n.maxZoom)("disableDefaultUI",!1),t.xp6(1),t.Q6J("ngForOf",n.placesData))},directives:[p.SK,_.SA,c.sg,_.pt,_.d],styles:["agm-map[_ngcontent-%COMP%]{width:100%;height:25em;border-radius:5px}"]}),i})();var X=s(7413),W=s(1711),q=s(5181),G=s(9590);const O=function(){return{span:24}},$=function(){return{span:6}};function K(i,o){if(1&i&&(t.TgZ(0,"div",11),t._UZ(1,"app-place-card",12),t.qZA()),2&i){const e=o.$implicit;t.Q6J("nzXs",t.DdM(3,O))("nzLg",t.DdM(4,$)),t.xp6(1),t.Q6J("cardData",e)}}function tt(i,o){if(1&i){const e=t.EpF();t.ynx(0),t._UZ(1,"app-search-map",6),t.TgZ(2,"div",7),t.YNc(3,K,2,5,"div",8),t.qZA(),t.TgZ(4,"div",9)(5,"nz-pagination",10),t.NdJ("nzPageIndexChange",function(a){return t.CHM(e),t.oxw().pageChanged(a)}),t.qZA()(),t.BQk()}if(2&i){const e=t.oxw();t.xp6(1),t.Q6J("placesData",e.resultData),t.xp6(2),t.Q6J("ngForOf",e.resultData),t.xp6(2),t.Q6J("nzPageIndex",e.filterCriteria.page)("nzTotal",e.totalResults)("nzPageSize",10)}}function et(i,o){if(1&i&&t._UZ(0,"app-empty-state",13),2&i){const e=t.oxw();t.Q6J("title",e.emptyData.title)("text",e.emptyData.text)("icon",e.emptyData.icon)("withBtn",e.emptyData.withBtn)("btnText",e.emptyData.btnText)}}function nt(i,o){1&i&&t._UZ(0,"span",17)}function it(i,o){if(1&i&&(t.TgZ(0,"div",14),t.YNc(1,nt,1,0,"ng-template",null,15,t.W1O),t._UZ(3,"nz-spin",16),t.qZA()),2&i){const e=t.MAs(2);t.xp6(3),t.Q6J("nzIndicator",e)}}const at=function(){return{span:20}},ot=function(i){return[i]},rt=[{path:"",component:(()=>{class i{constructor(e,n,a,r,l){this.commonService=e,this.searchResultService=n,this.route=a,this.router=r,this.translateService=l,this.filterCriteria={city:void 0,property_type:void 0,start_date:void 0,end_date:void 0,page:1,pageSize:10},this.emptyData={title:"",text:"",icon:"",withBtn:!1,btnText:""},this.resultData=[],this.loading=!1,this.markersData=[],this.subscriptions=new z.w0}ngOnInit(){this.filterCriteria=Object.assign(Object.assign({},this.filterCriteria),this.route.snapshot.queryParams),this.fetchSearchResults(),this.handleEmptyData()}prepareFilterCriteria(){const e={page:this.filterCriteria.page,pageSize:this.filterCriteria.pageSize};return this.filterCriteria.city&&(e.city=this.filterCriteria.city),this.filterCriteria.city&&(e.property_type=this.filterCriteria.property_type),this.filterCriteria.city&&(e.start_date=this.filterCriteria.start_date),this.filterCriteria.city&&(e.end_date=this.filterCriteria.end_date),e}fetchSearchResults(){this.loading=!0,this.subscriptions.add(this.searchResultService.fetchSearchResults(this.prepareFilterCriteria()).subscribe(e=>{var n,a,r;(null==e?void 0:e.successful)&&(this.resultData=null===(n=null==e?void 0:e.properties)||void 0===n?void 0:n.data,this.totalResults=null===(r=null===(a=null==e?void 0:e.properties)||void 0===a?void 0:a.meta)||void 0===r?void 0:r.total),this.loading=!1},e=>{var n;this.loading=!1,this.commonService.showErrorAlert(this.translateService.instant("General.Error"),null===(n=null==e?void 0:e.error)||void 0===n?void 0:n.message)}))}handleEmptyData(){this.emptyData={title:this.translateService.instant("General.NoData"),text:this.translateService.instant("General.NoResultData"),icon:"https://gw.alipayobjects.com/zos/antfincdn/ZHrcdLPrvN/empty.svg",withBtn:!1,btnText:""}}pageChanged(e){this.filterCriteria.page=e,this.fetchSearchResults()}onChange(e){console.log("onChange: ",e)}ngOnDestroy(){this.subscriptions.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(v.v),t.Y36(w.J),t.Y36(u.gz),t.Y36(u.F0),t.Y36(g.sK))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-search-result"]],decls:6,vars:10,consts:[["nz-row","",1,"search-result-wrapper","mt-4","mb-5"],["nz-col","",1,"m-auto",3,"nzXs","nzLg"],[3,"filterCriteria"],[4,"ngIf"],[3,"title","text","icon","withBtn","btnText",4,"ngIf"],["class","loader-wrapper mt-3",4,"ngIf"],[3,"placesData"],["nz-row","",1,"result-cards-wrapper","mt-3"],["class","mb-3","nz-col","",3,"nzXs","nzLg",4,"ngFor","ngForOf"],[1,"pagination","mt-2","mb-2"],[3,"nzPageIndex","nzTotal","nzPageSize","nzPageIndexChange"],["nz-col","",1,"mb-3",3,"nzXs","nzLg"],[3,"cardData"],[3,"title","text","icon","withBtn","btnText"],[1,"loader-wrapper","mt-3"],["indicatorTemplate",""],["nzSimple","",3,"nzIndicator"],["nz-icon","","nzType","loading"]],template:function(e,n){1&e&&(t.TgZ(0,"section",0)(1,"div",1),t._UZ(2,"app-search-filter",2),t.YNc(3,tt,6,5,"ng-container",3),t.YNc(4,et,1,5,"app-empty-state",4),t.YNc(5,it,4,1,"div",5),t.qZA()()),2&e&&(t.xp6(1),t.Q6J("nzXs",t.DdM(6,O))("nzLg",t.DdM(7,at)),t.xp6(1),t.Q6J("filterCriteria",t.VKq(8,ot,n.filterCriteria)),t.xp6(1),t.Q6J("ngIf",!n.loading&&(null==n.resultData?null:n.resultData.length)),t.xp6(1),t.Q6J("ngIf",!(n.loading||null!=n.resultData&&n.resultData.length)),t.xp6(1),t.Q6J("ngIf",n.loading))},directives:[p.SK,p.t3,B,c.O5,V,c.sg,X.$,W.dE,q.s,M.w,y.Ls,G.W],styles:[".search-result-wrapper[_ngcontent-%COMP%]   .filter-wrapper[_ngcontent-%COMP%]   app-search-filter[_ngcontent-%COMP%]{width:100%}.result-cards-wrapper[_ngcontent-%COMP%]{justify-content:start;text-align:start}.loader-wrapper[_ngcontent-%COMP%]{justify-content:center;text-align:center;min-height:60vh;display:flex;align-items:center}.loader-wrapper[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em}.pagination[_ngcontent-%COMP%]{text-align:center;display:block}.pagination[_ngcontent-%COMP%]   nz-pagination[_ngcontent-%COMP%]{text-align:center}  .ant-pagination-next .ant-pagination-item-link,   .ant-pagination-prev .ant-pagination-item-link{line-height:0em}  .ant-pagination-item a,   .ant-pagination-item:focus-visible a,   .ant-pagination-item:hover a{text-decoration:none;line-height:1.9em}"]}),i})()}];let st=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[u.Bz.forChild(rt)],u.Bz]}),i})(),lt=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[c.ez,st,P.P,S.m,g.aw,d.u5,d.UX,_.su]]}),i})()}}]);