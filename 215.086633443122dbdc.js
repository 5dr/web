"use strict";(self.webpackChunkroomz_web_app=self.webpackChunkroomz_web_app||[]).push([[215],{2215:(T,w,i)=>{i.r(w),i.d(w,{UserReviewsModule:()=>J});var t=i(3075),d=i(9808),g=i(1062),C=i(5858),_=i(4239),h=i(727),n=i(5e3),f=i(2340),x=i(520);let M=(()=>{class a{constructor(e){this.http=e}fetchUserReviews(e,r){return this.http.get(`${f.N.endPointUrl}/review-property/get-user-rate/${e}`,{params:r})}}return a.\u0275fac=function(e){return new(e||a)(n.LFG(x.eN))},a.\u0275prov=n.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var O=i(6010),c=i(1894),s=i(2683),o=i(3087),l=i(4971),p=i(1711),u=i(9590),P=i(5181);const y=function(){return{span:24}},E=function(){return{span:6}};function R(a,v){if(1&a&&(n.TgZ(0,"div",13),n._UZ(1,"app-review-card",14),n.qZA()),2&a){const e=v.$implicit;n.Q6J("nzXs",n.DdM(3,y))("nzLg",n.DdM(4,E)),n.xp6(1),n.Q6J("reviewData",e)}}function U(a,v){if(1&a){const e=n.EpF();n.ynx(0),n.TgZ(1,"div",8),n.YNc(2,R,2,5,"div",9),n.qZA(),n.TgZ(3,"div",10)(4,"nz-pagination",11),n.NdJ("nzPageIndexChange",function(m){return n.CHM(e),n.oxw().pageChanged(m)}),n.qZA()(),n._UZ(5,"div",12),n.BQk()}if(2&a){const e=n.oxw();n.xp6(2),n.Q6J("ngForOf",e.reviewsData),n.xp6(2),n.Q6J("nzPageIndex",e.reviewFilterCriteria.page)("nzTotal",e.totalReviews)("nzPageSize",e.reviewFilterCriteria.pageSize)}}function b(a,v){1&a&&n._UZ(0,"span",18)}function I(a,v){if(1&a&&(n.TgZ(0,"div",15),n.YNc(1,b,1,0,"ng-template",null,16,n.W1O),n._UZ(3,"nz-spin",17),n.qZA()),2&a){const e=n.MAs(2);n.xp6(3),n.Q6J("nzIndicator",e)}}function A(a,v){if(1&a&&(n.TgZ(0,"div",19),n._UZ(1,"app-empty-state",20),n.qZA()),2&a){const e=n.oxw();n.xp6(1),n.Q6J("title",e.emptyData.title)("text",e.emptyData.text)("icon",e.emptyData.icon)}}const Z=function(){return{span:20}},S=[{path:":id/:userType",component:(()=>{class a{constructor(e,r,m,z){this.userReviewsService=e,this.route=r,this.commonService=m,this.translateService=z,this.reviewFilterCriteria={page:1,pageSize:10,is_host:null},this.reviewsData=[],this.loading=!1,this.emptyData={title:"",text:"",icon:""},this.subscriptions=new h.w0,this.commonService.handleTravellerPage()}ngOnInit(){this.getUserId(),this.handleEmptyData()}getUserId(){this.route.paramMap.subscribe(e=>{var r,m,z,D;(null===(r=null==e?void 0:e.params)||void 0===r?void 0:r.id)&&(null===(m=null==e?void 0:e.params)||void 0===m?void 0:m.userType)&&(this.userId=+(null===(z=null==e?void 0:e.params)||void 0===z?void 0:z.id),this.userType=+(null===(D=null==e?void 0:e.params)||void 0===D?void 0:D.userType),this.reviewFilterCriteria.is_host=this.userType,this.getUserReviews())})}getUserReviews(){this.loading=!0,this.subscriptions.add(this.userReviewsService.fetchUserReviews(this.userId,this.reviewFilterCriteria).subscribe({next:e=>{var r,m;this.loading=!1,(null==e?void 0:e.successful)&&(this.reviewsData=e.userRate.data,this.totalReviews=null===(m=null===(r=null==e?void 0:e.userRate)||void 0===r?void 0:r.meta)||void 0===m?void 0:m.total,this.userData=null==e?void 0:e.userDetails,console.log(this.userData))},error:e=>{var r;this.loading=!1,this.commonService.showErrorAlert(this.translateService.instant("General.Error"),null===(r=null==e?void 0:e.error)||void 0===r?void 0:r.message)}}))}handleEmptyData(){this.emptyData={title:this.translateService.instant("General.NoData"),text:this.translateService.instant("General.NoReviewsFound"),icon:"https://gw.alipayobjects.com/zos/antfincdn/ZHrcdLPrvN/empty.svg"}}pageChanged(e){this.reviewFilterCriteria.page=e,this.getUserReviews()}ngOnDestroy(){this.subscriptions.unsubscribe()}}return a.\u0275fac=function(e){return new(e||a)(n.Y36(M),n.Y36(_.gz),n.Y36(O.v),n.Y36(g.sK))},a.\u0275cmp=n.Xpm({type:a,selectors:[["app-user-reviews"]],decls:16,vars:16,consts:[["nz-row","",1,"user-reviews"],["nz-col","",1,"mx-auto",3,"nzXs","nzLg"],[1,"title","mb-5"],[1,"rate"],["nz-icon","","nzType","star","nzTheme","fill"],[4,"ngIf"],["class","loader-wrapper mt-5 mb-5",4,"ngIf"],["class","empty-state",4,"ngIf"],["nz-row","",1,"reviews-wrapper"],["class","","nz-col","",3,"nzXs","nzLg",4,"ngFor","ngForOf"],[1,"pagination","justify-content-center","mt-2","mb-2"],[3,"nzPageIndex","nzTotal","nzPageSize","nzPageIndexChange"],[1,"pagination-notifi"],["nz-col","",1,"",3,"nzXs","nzLg"],[3,"reviewData"],[1,"loader-wrapper","mt-5","mb-5"],["indicatorTemplate",""],["nzSimple","",3,"nzIndicator"],["nz-icon","","nzType","loading"],[1,"empty-state"],[3,"title","text","icon"]],template:function(e,r){1&e&&(n.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"h2")(4,"span"),n._uU(5),n.qZA(),n._uU(6),n.ALo(7,"translate"),n.qZA(),n.TgZ(8,"p",3),n._UZ(9,"i",4),n.TgZ(10,"span"),n._uU(11),n.ALo(12,"translate"),n.qZA()()(),n.YNc(13,U,6,4,"ng-container",5),n.YNc(14,I,4,1,"div",6),n.YNc(15,A,2,3,"div",7),n.qZA()()),2&e&&(n.xp6(1),n.Q6J("nzXs",n.DdM(14,y))("nzLg",n.DdM(15,Z)),n.xp6(4),n.Oqu((null==r.userData?null:r.userData.first_name)+" "+(null==r.userData?null:r.userData.last_name)),n.xp6(1),n.hij(" ",n.lcZ(7,10,"ReviewsPage.Reviews")," "),n.xp6(5),n.lnq(" ",null==r.userData?null:r.userData.rate," ( ",r.reviewsData.length," ",n.lcZ(12,12,"ReviewsPage.review")," )"),n.xp6(2),n.Q6J("ngIf",(null==r.reviewsData?null:r.reviewsData.length)&&!r.loading),n.xp6(1),n.Q6J("ngIf",r.loading),n.xp6(1),n.Q6J("ngIf",!(null!=r.reviewsData&&r.reviewsData.length||r.loading)))},directives:[c.SK,c.t3,s.w,o.Ls,d.O5,d.sg,l.I,p.dE,u.W,P.s],pipes:[g.X$],styles:[".user-reviews[_ngcontent-%COMP%]{padding:50px 24px 20px}.user-reviews[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:22px;font-weight:700;line-height:30px;color:var(--bs-dark)}.user-reviews[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--bs-primary)}.user-reviews[_ngcontent-%COMP%]   .rate[_ngcontent-%COMP%]{font-size:14px;font-weight:700;margin-top:1em}.user-reviews[_ngcontent-%COMP%]   .rate[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#ffc107;padding-inline-end:5px;font-size:18px}.user-reviews[_ngcontent-%COMP%]   .rate[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--bs-gray-600);vertical-align:sub}.user-reviews[_ngcontent-%COMP%]   .reviews-wrapper[_ngcontent-%COMP%]{margin-bottom:2em;min-height:50vh}.user-reviews[_ngcontent-%COMP%]   .reviews-wrapper[_ngcontent-%COMP%]   .review-item[_ngcontent-%COMP%]{margin-bottom:1em;padding-bottom:1em;border-bottom:1px solid var(--bs-gray-300)}.user-reviews[_ngcontent-%COMP%]   .reviews-wrapper[_ngcontent-%COMP%]   .review-item[_ngcontent-%COMP%]:last-child{border-bottom:0}.loader-wrapper[_ngcontent-%COMP%]{justify-content:center;text-align:center;min-height:60vh;display:flex;align-items:center}.loader-wrapper[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em}  .user-reviews .ant-pagination-next .ant-pagination-item-link,   .user-reviews .ant-pagination-prev .ant-pagination-item-link{line-height:0em}  .user-reviews .ant-pagination-item a,   .user-reviews .ant-pagination-item:focus-visible a,   .user-reviews .ant-pagination-item:hover a{text-decoration:none;line-height:1.9em}  .comment-rate{margin-bottom:1em}  .comment-rate .ant-rate{font-size:14px}"]}),a})()}];let F=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=n.oAB({type:a}),a.\u0275inj=n.cJS({imports:[[_.Bz.forChild(S)],_.Bz]}),a})();var L=i(5326);let J=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=n.oAB({type:a}),a.\u0275inj=n.cJS({imports:[[d.ez,F,C.P,g.aw,L.m,t.u5,t.UX]]}),a})()},5181:(T,w,i)=>{i.d(w,{s:()=>c});var t=i(5e3),d=i(685),g=i(9808),C=i(6042),_=i(2643),h=i(2683),n=i(1062);function f(s,o){if(1&s&&(t.TgZ(0,"h5",3),t._uU(1),t.ALo(2,"translate"),t.qZA(),t.TgZ(3,"p",4),t._uU(4),t.ALo(5,"translate"),t.qZA()),2&s){const l=t.oxw();t.xp6(1),t.Oqu(t.lcZ(2,2,l.title)),t.xp6(3),t.Oqu(t.lcZ(5,4,l.text))}}function x(s,o){if(1&s){const l=t.EpF();t.TgZ(0,"button",7),t.NdJ("click",function(){return t.CHM(l),t.oxw(2).onButtonClicked()}),t._uU(1),t.ALo(2,"translate"),t.qZA()}if(2&s){const l=t.oxw(2);t.xp6(1),t.Oqu(t.lcZ(2,1,l.btnText))}}function M(s,o){if(1&s){const l=t.EpF();t.TgZ(0,"button",8),t.NdJ("click",function(){return t.CHM(l),t.oxw(2).onEditClicked()}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&s&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"CreateListing.Edit")))}function O(s,o){if(1&s&&(t.YNc(0,x,3,3,"button",5),t.YNc(1,M,3,3,"button",6)),2&s){const l=t.oxw();t.Q6J("ngIf",l.withBtn),t.xp6(1),t.Q6J("ngIf",l.isPublish)}}let c=(()=>{class s{constructor(){this.title="",this.text="",this.icon="",this.btnText="",this.isPublish=!1,this.btnClicked=new t.vpe,this.editClicked=new t.vpe}ngOnInit(){}onButtonClicked(){this.btnClicked.emit()}onEditClicked(){this.editClicked.emit()}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-empty-state"]],inputs:{title:"title",text:"text",icon:"icon",withBtn:"withBtn",btnText:"btnText",isPublish:"isPublish"},outputs:{btnClicked:"btnClicked",editClicked:"editClicked"},decls:5,vars:3,consts:[[1,"empty-wrapper","pt-5","pb-5",3,"nzNotFoundImage","nzNotFoundContent","nzNotFoundFooter"],["contentTpl",""],["footerTpl",""],[1,"title"],[1,"description"],["nz-button","","nzType","primary","class","mr-1 ml-1",3,"click",4,"ngIf"],["nz-button","","class","edit-btn mr-1 ml-1",3,"click",4,"ngIf"],["nz-button","","nzType","primary",1,"mr-1","ml-1",3,"click"],["nz-button","",1,"edit-btn","mr-1","ml-1",3,"click"]],template:function(l,p){if(1&l&&(t.TgZ(0,"nz-empty",0),t.YNc(1,f,6,6,"ng-template",null,1,t.W1O),t.YNc(3,O,2,2,"ng-template",null,2,t.W1O),t.qZA()),2&l){const u=t.MAs(2),P=t.MAs(4);t.Q6J("nzNotFoundImage",p.icon?p.icon:"https://gw.alipayobjects.com/zos/antfincdn/ZHrcdLPrvN/empty.svg")("nzNotFoundContent",u)("nzNotFoundFooter",P)}},directives:[d.p9,g.O5,C.ix,_.dQ,h.w],pipes:[n.X$],styles:[".title[_ngcontent-%COMP%]{font-weight:600;margin-top:1em;margin-bottom:1em;color:var(--bs-dark)}.description[_ngcontent-%COMP%]{width:50%;margin:auto;color:var(--bs-gray-600)}.edit-btn[_ngcontent-%COMP%]{border-color:var(--bs-gray-300);color:var(--bs-dark);background-color:var(--bs-gray-300)}.mr-1[_ngcontent-%COMP%]{margin-inline-start:5px}.ml-1[_ngcontent-%COMP%]{margin-inline-end:5px}"]}),s})()},4971:(T,w,i)=>{i.d(w,{I:()=>O});var t=i(5e3),d=i(7484),g=i(1344),C=i(9808),_=i(6699),h=i(6761),n=i(3075);function f(c,s){1&c&&t._UZ(0,"nz-avatar",8),2&c&&t.Q6J("nzSize",48)}function x(c,s){if(1&c&&t._UZ(0,"nz-avatar",9),2&c){const o=t.oxw(2);t.Q6J("nzSize",48)("nzSrc",null==o.reviewData?null:o.reviewData.rateFrom.avatar)}}function M(c,s){if(1&c){const o=t.EpF();t.TgZ(0,"nz-comment",3),t.YNc(1,f,1,1,"nz-avatar",4),t.YNc(2,x,1,2,"nz-avatar",5),t.TgZ(3,"nz-comment-content")(4,"div",6)(5,"nz-rate",7),t.NdJ("ngModelChange",function(p){return t.CHM(o),t.oxw().reviewData.total_rate=p}),t.qZA()()()()}if(2&c){const o=t.oxw();t.Q6J("nzAuthor",(null==o.reviewData||null==o.reviewData.rateFrom?null:o.reviewData.rateFrom.first_name)+" "+(null==o.reviewData||null==o.reviewData.rateFrom?null:o.reviewData.rateFrom.last_name)),t.xp6(1),t.Q6J("ngIf",!(null!=o.reviewData&&null!=o.reviewData.rateFrom&&o.reviewData.rateFrom.avatar)),t.xp6(1),t.Q6J("ngIf",null==o.reviewData?null:o.reviewData.rateFrom.avatar),t.xp6(3),t.Q6J("ngModel",o.reviewData.total_rate)("nzAllowHalf",!0)}}let O=(()=>{class c{constructor(){}ngOnInit(){}}return c.\u0275fac=function(o){return new(o||c)},c.\u0275cmp=t.Xpm({type:c,selectors:[["app-review-card"]],inputs:{reviewData:"reviewData"},decls:4,vars:1,consts:[[1,"review-card-item"],[3,"nzDescription"],["descriptionTemplate",""],[3,"nzAuthor"],["nz-comment-avatar","","nzIcon","user","nzSrc","//zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png",3,"nzSize",4,"ngIf"],["nz-comment-avatar","","nzIcon","user",3,"nzSize","nzSrc",4,"ngIf"],[1,"comment-rate"],["nzDisabled","",3,"ngModel","nzAllowHalf","ngModelChange"],["nz-comment-avatar","","nzIcon","user","nzSrc","//zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png",3,"nzSize"],["nz-comment-avatar","","nzIcon","user",3,"nzSize","nzSrc"]],template:function(o,l){if(1&o&&(t.TgZ(0,"nz-card",0),t._UZ(1,"nz-card-meta",1),t.qZA(),t.YNc(2,M,6,5,"ng-template",null,2,t.W1O)),2&o){const p=t.MAs(3);t.xp6(1),t.Q6J("nzDescription",p)}},directives:[d.bd,d.l7,g.WE,C.O5,_.Dz,g.DA,g.Y4,h.sn,n.JJ,n.On],styles:[".review-card-item[_ngcontent-%COMP%]{border-radius:5px;cursor:pointer;text-align:start}.review-card-item[_ngcontent-%COMP%]   .review-group[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:var(--bs-gray-600);font-size:15px;padding-inline-end:10px}.review-card-item[_ngcontent-%COMP%]   .review-group[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{color:var(--bs-dark);font-size:15px;font-weight:600}.review-card-item[_ngcontent-%COMP%]   .review-group[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .rate[_ngcontent-%COMP%]{color:var(--font-rate);vertical-align:0;font-size:17px}  .review-card-item .ant-card-body{padding:12px}  .review-card-item .ant-comment-content-author-name{font-size:14px;text-transform:capitalize}  .review-card-item .ant-comment-avatar img{width:100%;height:100%}"]}),c})()}}]);