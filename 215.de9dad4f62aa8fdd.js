"use strict";(self.webpackChunkroomz_web_app=self.webpackChunkroomz_web_app||[]).push([[215],{2215:(Q,d,i)=>{i.r(d),i.d(d,{UserReviewsModule:()=>D});var s=i(3075),v=i(9808),l=i(1062),u=i(5858),c=i(4239),w=i(727),e=i(5e3),z=i(2340),h=i(520);let f=(()=>{class t{constructor(n){this.http=n}fetchUserReviews(n){return this.http.get(`${z.N.endPointUrl}/user/reviews`,{params:n})}}return t.\u0275fac=function(n){return new(n||t)(e.LFG(h.eN))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var C=i(6010),p=i(1894),x=i(2683),M=i(3087),g=i(1344),U=i(6699),_=i(6761),R=i(1711),P=i(9590);function O(t,o){1&t&&e._UZ(0,"nz-avatar",18)}function S(t,o){if(1&t&&e._UZ(0,"nz-avatar",19),2&t){const n=e.oxw().$implicit;e.Q6J("nzSrc",n.user.avatar)}}function T(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"div",12)(1,"nz-comment",13),e.YNc(2,O,1,0,"nz-avatar",14),e.YNc(3,S,1,1,"nz-avatar",15),e.TgZ(4,"nz-comment-content")(5,"div",16)(6,"nz-rate",17),e.NdJ("ngModelChange",function(a){return e.CHM(n).$implicit.rate=a}),e.qZA()()()()()}if(2&t){const n=o.$implicit;e.xp6(1),e.Q6J("nzAuthor",(null==n||null==n.user?null:n.user.first_name)+" "+(null==n||null==n.user?null:n.user.last_name)),e.xp6(1),e.Q6J("ngIf",!(null!=n&&null!=n.user&&n.user.avatar)),e.xp6(1),e.Q6J("ngIf",n.user.avatar),e.xp6(3),e.Q6J("ngModel",n.rate)("nzAllowHalf",!0)}}const I=function(){return{span:24}},Z=function(){return{span:20}};function A(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"section",2)(1,"div",3)(2,"div",4)(3,"h2")(4,"span"),e._uU(5," USER NAME "),e.qZA(),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"p",5),e._UZ(9,"i",6),e.qZA()(),e.TgZ(10,"div",7),e.YNc(11,T,7,5,"div",8),e.qZA(),e.TgZ(12,"div",9)(13,"nz-pagination",10),e.NdJ("nzPageIndexChange",function(a){return e.CHM(n),e.oxw().pageChanged(a)}),e.qZA()(),e._UZ(14,"div",11),e.qZA()()}if(2&t){const n=e.oxw();e.xp6(1),e.Q6J("nzXs",e.DdM(9,I))("nzLg",e.DdM(10,Z)),e.xp6(5),e.hij(" ",e.lcZ(7,7,"ReviewsPage.Reviews")," "),e.xp6(5),e.Q6J("ngForOf",n.reviewsData),e.xp6(2),e.Q6J("nzPageIndex",n.reviewFilterCriteria.page)("nzTotal",n.totalReviews)("nzPageSize",n.reviewFilterCriteria.pageSize)}}function y(t,o){1&t&&e._UZ(0,"span",23)}function b(t,o){if(1&t&&(e.TgZ(0,"div",20),e.YNc(1,y,1,0,"ng-template",null,21,e.W1O),e._UZ(3,"nz-spin",22),e.qZA()),2&t){const n=e.MAs(2);e.xp6(3),e.Q6J("nzIndicator",n)}}const J=[{path:"/:id",component:(()=>{class t{constructor(n,r,a,m){this.userReviewsService=n,this.route=r,this.commonService=a,this.translateService=m,this.reviewFilterCriteria={page:1,pageSize:10},this.reviewsData=[],this.loading=!1,this.subscriptions=new w.w0,this.commonService.handleTravellerPage()}ngOnInit(){this.getUserId()}getUserId(){this.route.paramMap.subscribe(n=>{var r,a;(null===(r=null==n?void 0:n.params)||void 0===r?void 0:r.id)&&(null==n?void 0:n.params.rate)&&(this.userId=null===(a=null==n?void 0:n.params)||void 0===a?void 0:a.id,this.getUserReviews())})}getUserReviews(){this.loading=!0,this.subscriptions.add(this.userReviewsService.fetchUserReviews(this.reviewFilterCriteria).subscribe({next:n=>{var r;this.loading=!1,this.reviewsData=n.data[0].reviews.data,this.totalReviews=null===(r=null==n?void 0:n.data[0].reviews.meta)||void 0===r?void 0:r.total},error:n=>{var r;this.loading=!1,this.commonService.showErrorAlert(this.translateService.instant("General.Error"),null===(r=null==n?void 0:n.error)||void 0===r?void 0:r.message)}}))}pageChanged(n){this.reviewFilterCriteria.page=n,this.getUserReviews()}ngOnDestroy(){this.subscriptions.unsubscribe()}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(f),e.Y36(c.gz),e.Y36(C.v),e.Y36(l.sK))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-user-reviews"]],decls:2,vars:2,consts:[["nz-row","","class","user-reviews",4,"ngIf"],["class","loader-wrapper mt-5 mb-5",4,"ngIf"],["nz-row","",1,"user-reviews"],["nz-col","",1,"mx-auto",3,"nzXs","nzLg"],[1,"title","mb-5"],[1,"rate"],["nz-icon","","nzType","star","nzTheme","fill"],[1,"reviews-wrapper"],["class","review-item",4,"ngFor","ngForOf"],[1,"pagination","justify-content-center","mt-2","mb-2"],[3,"nzPageIndex","nzTotal","nzPageSize","nzPageIndexChange"],[1,"pagination-notifi"],[1,"review-item"],[3,"nzAuthor"],["nz-comment-avatar","","nzIcon","user","nzSrc","//zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png",4,"ngIf"],["nz-comment-avatar","","nzIcon","user",3,"nzSrc",4,"ngIf"],[1,"comment-rate"],["nzDisabled","",3,"ngModel","nzAllowHalf","ngModelChange"],["nz-comment-avatar","","nzIcon","user","nzSrc","//zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png"],["nz-comment-avatar","","nzIcon","user",3,"nzSrc"],[1,"loader-wrapper","mt-5","mb-5"],["indicatorTemplate",""],["nzSimple","",3,"nzIndicator"],["nz-icon","","nzType","loading"]],template:function(n,r){1&n&&(e.YNc(0,A,15,11,"section",0),e.YNc(1,b,4,1,"div",1)),2&n&&(e.Q6J("ngIf",(null==r.reviewsData?null:r.reviewsData.length)&&!r.loading),e.xp6(1),e.Q6J("ngIf",r.loading))},directives:[v.O5,p.SK,p.t3,x.w,M.Ls,v.sg,g.WE,U.Dz,g.DA,g.Y4,_.sn,s.JJ,s.On,R.dE,P.W],pipes:[l.X$],styles:[".user-reviews[_ngcontent-%COMP%]{padding:50px 24px 20px}.user-reviews[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:22px;font-weight:700;line-height:30px;color:var(--bs-dark)}.user-reviews[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--bs-primary)}.user-reviews[_ngcontent-%COMP%]   .rate[_ngcontent-%COMP%]{font-size:14px;font-weight:700;margin-top:1em}.user-reviews[_ngcontent-%COMP%]   .rate[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#ffc107;padding-inline-end:5px;font-size:18px}.user-reviews[_ngcontent-%COMP%]   .rate[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--bs-gray-600);vertical-align:sub}.user-reviews[_ngcontent-%COMP%]   .reviews-wrapper[_ngcontent-%COMP%]{margin-bottom:2em;min-height:50vh}.user-reviews[_ngcontent-%COMP%]   .reviews-wrapper[_ngcontent-%COMP%]   .review-item[_ngcontent-%COMP%]{margin-bottom:1em;padding-bottom:1em;border-bottom:1px solid var(--bs-gray-300)}.user-reviews[_ngcontent-%COMP%]   .reviews-wrapper[_ngcontent-%COMP%]   .review-item[_ngcontent-%COMP%]:last-child{border-bottom:0}.loader-wrapper[_ngcontent-%COMP%]{justify-content:center;text-align:center;min-height:60vh;display:flex;align-items:center}.loader-wrapper[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em}  .user-reviews .ant-pagination-next .ant-pagination-item-link,   .user-reviews .ant-pagination-prev .ant-pagination-item-link{line-height:0em}  .user-reviews .ant-pagination-item a,   .user-reviews .ant-pagination-item:focus-visible a,   .user-reviews .ant-pagination-item:hover a{text-decoration:none;line-height:1.9em}  .comment-rate{margin-bottom:1em}  .comment-rate .ant-rate{font-size:14px}"]}),t})()}];let F=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[c.Bz.forChild(J)],c.Bz]}),t})();var Y=i(5326);let D=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[v.ez,F,u.P,l.aw,Y.m,s.u5,s.UX]]}),t})()}}]);