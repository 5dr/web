"use strict";(self.webpackChunkroomz_web_app=self.webpackChunkroomz_web_app||[]).push([[215],{2215:(T,w,o)=>{o.r(w),o.d(w,{UserReviewsModule:()=>J});var t=o(3075),d=o(9808),g=o(1062),C=o(5858),_=o(4239),h=o(727),n=o(5e3),f=o(2340),x=o(520);let M=(()=>{class i{constructor(e){this.http=e}fetchUserReviews(e,a){return this.http.get(`${f.N.endPointUrl}/review-property/get-user-rate/${e}`,{params:a})}}return i.\u0275fac=function(e){return new(e||i)(n.LFG(x.eN))},i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var O=o(6010),l=o(1894),r=o(2683),s=o(3087),c=o(4971),v=o(1711),u=o(9590),P=o(5181);const y=function(){return{span:24}},E=function(){return{span:6}};function R(i,m){if(1&i&&(n.TgZ(0,"div",13),n._UZ(1,"app-review-card",14),n.qZA()),2&i){const e=m.$implicit;n.Q6J("nzXs",n.DdM(3,y))("nzLg",n.DdM(4,E)),n.xp6(1),n.Q6J("reviewData",e)}}function U(i,m){if(1&i){const e=n.EpF();n.ynx(0),n.TgZ(1,"div",8),n.YNc(2,R,2,5,"div",9),n.qZA(),n.TgZ(3,"div",10)(4,"nz-pagination",11),n.NdJ("nzPageIndexChange",function(p){return n.CHM(e),n.oxw().pageChanged(p)}),n.qZA()(),n._UZ(5,"div",12),n.BQk()}if(2&i){const e=n.oxw();n.xp6(2),n.Q6J("ngForOf",e.reviewsData),n.xp6(2),n.Q6J("nzPageIndex",e.reviewFilterCriteria.page)("nzTotal",e.totalReviews)("nzPageSize",e.reviewFilterCriteria.pageSize)}}function b(i,m){1&i&&n._UZ(0,"span",18)}function I(i,m){if(1&i&&(n.TgZ(0,"div",15),n.YNc(1,b,1,0,"ng-template",null,16,n.W1O),n._UZ(3,"nz-spin",17),n.qZA()),2&i){const e=n.MAs(2);n.xp6(3),n.Q6J("nzIndicator",e)}}function A(i,m){if(1&i&&(n.TgZ(0,"div",19),n._UZ(1,"app-empty-state",20),n.qZA()),2&i){const e=n.oxw();n.xp6(1),n.Q6J("title",e.emptyData.title)("text",e.emptyData.text)("icon",e.emptyData.icon)}}const Z=function(){return{span:20}},S=[{path:":id/:userType",component:(()=>{class i{constructor(e,a,p,z){this.userReviewsService=e,this.route=a,this.commonService=p,this.translateService=z,this.reviewFilterCriteria={page:1,pageSize:10,is_host:null},this.reviewsData=[],this.loading=!1,this.emptyData={title:"",text:"",icon:""},this.subscriptions=new h.w0,this.commonService.handleTravellerPage()}ngOnInit(){this.getUserId(),this.handleEmptyData()}getUserId(){this.route.paramMap.subscribe(e=>{var a,p,z,D;(null===(a=null==e?void 0:e.params)||void 0===a?void 0:a.id)&&(null===(p=null==e?void 0:e.params)||void 0===p?void 0:p.userType)&&(this.userId=+(null===(z=null==e?void 0:e.params)||void 0===z?void 0:z.id),this.userType=+(null===(D=null==e?void 0:e.params)||void 0===D?void 0:D.userType),this.reviewFilterCriteria.is_host=this.userType,this.getUserReviews())})}getUserReviews(){this.loading=!0,this.subscriptions.add(this.userReviewsService.fetchUserReviews(this.userId,this.reviewFilterCriteria).subscribe({next:e=>{var a,p;this.loading=!1,(null==e?void 0:e.successful)&&(this.reviewsData=e.userRate.data,this.totalReviews=null===(p=null===(a=null==e?void 0:e.userRate)||void 0===a?void 0:a.meta)||void 0===p?void 0:p.total,this.userData=null==e?void 0:e.userDetails,console.log(this.userData))},error:e=>{var a;this.loading=!1,this.commonService.showErrorAlert(this.translateService.instant("General.Error"),null===(a=null==e?void 0:e.error)||void 0===a?void 0:a.message)}}))}handleEmptyData(){this.emptyData={title:this.translateService.instant("General.NoData"),text:this.translateService.instant("General.NoReviewsFound"),icon:"https://gw.alipayobjects.com/zos/antfincdn/ZHrcdLPrvN/empty.svg"}}pageChanged(e){this.reviewFilterCriteria.page=e,this.getUserReviews()}ngOnDestroy(){this.subscriptions.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(n.Y36(M),n.Y36(_.gz),n.Y36(O.v),n.Y36(g.sK))},i.\u0275cmp=n.Xpm({type:i,selectors:[["app-user-reviews"]],decls:16,vars:16,consts:[["nz-row","",1,"user-reviews"],["nz-col","",1,"mx-auto",3,"nzXs","nzLg"],[1,"title","mb-5"],[1,"rate"],["nz-icon","","nzType","star","nzTheme","fill"],[4,"ngIf"],["class","loader-wrapper mt-5 mb-5",4,"ngIf"],["class","empty-state",4,"ngIf"],["nz-row","",1,"reviews-wrapper"],["class","","nz-col","",3,"nzXs","nzLg",4,"ngFor","ngForOf"],[1,"pagination","justify-content-center","mt-2","mb-2"],[3,"nzPageIndex","nzTotal","nzPageSize","nzPageIndexChange"],[1,"pagination-notifi"],["nz-col","",1,"",3,"nzXs","nzLg"],[3,"reviewData"],[1,"loader-wrapper","mt-5","mb-5"],["indicatorTemplate",""],["nzSimple","",3,"nzIndicator"],["nz-icon","","nzType","loading"],[1,"empty-state"],[3,"title","text","icon"]],template:function(e,a){1&e&&(n.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"h2")(4,"span"),n._uU(5),n.qZA(),n._uU(6),n.ALo(7,"translate"),n.qZA(),n.TgZ(8,"p",3),n._UZ(9,"i",4),n.TgZ(10,"span"),n._uU(11),n.ALo(12,"translate"),n.qZA()()(),n.YNc(13,U,6,4,"ng-container",5),n.YNc(14,I,4,1,"div",6),n.YNc(15,A,2,3,"div",7),n.qZA()()),2&e&&(n.xp6(1),n.Q6J("nzXs",n.DdM(14,y))("nzLg",n.DdM(15,Z)),n.xp6(4),n.Oqu((null==a.userData?null:a.userData.first_name)+" "+(null==a.userData?null:a.userData.last_name)),n.xp6(1),n.hij(" ",n.lcZ(7,10,"ReviewsPage.Reviews")," "),n.xp6(5),n.lnq(" ",null==a.userData?null:a.userData.rate," ( ",a.reviewsData.length," ",n.lcZ(12,12,"ReviewsPage.review")," )"),n.xp6(2),n.Q6J("ngIf",(null==a.reviewsData?null:a.reviewsData.length)&&!a.loading),n.xp6(1),n.Q6J("ngIf",a.loading),n.xp6(1),n.Q6J("ngIf",!(null!=a.reviewsData&&a.reviewsData.length||a.loading)))},directives:[l.SK,l.t3,r.w,s.Ls,d.O5,d.sg,c.I,v.dE,u.W,P.s],pipes:[g.X$],styles:[".user-reviews[_ngcontent-%COMP%]{padding:50px 24px 20px}.user-reviews[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:22px;font-weight:700;line-height:30px;color:var(--bs-dark)}.user-reviews[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--bs-primary)}.user-reviews[_ngcontent-%COMP%]   .rate[_ngcontent-%COMP%]{font-size:14px;font-weight:700;margin-top:1em}.user-reviews[_ngcontent-%COMP%]   .rate[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#ffc107;padding-inline-end:5px;font-size:18px}.user-reviews[_ngcontent-%COMP%]   .rate[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--bs-gray-600);vertical-align:sub}.user-reviews[_ngcontent-%COMP%]   .reviews-wrapper[_ngcontent-%COMP%]{margin-bottom:2em;min-height:50vh}.user-reviews[_ngcontent-%COMP%]   .reviews-wrapper[_ngcontent-%COMP%]   .review-item[_ngcontent-%COMP%]{margin-bottom:1em;padding-bottom:1em;border-bottom:1px solid var(--bs-gray-300)}.user-reviews[_ngcontent-%COMP%]   .reviews-wrapper[_ngcontent-%COMP%]   .review-item[_ngcontent-%COMP%]:last-child{border-bottom:0}.loader-wrapper[_ngcontent-%COMP%]{justify-content:center;text-align:center;min-height:60vh;display:flex;align-items:center}.loader-wrapper[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em}  .user-reviews .ant-pagination-next .ant-pagination-item-link,   .user-reviews .ant-pagination-prev .ant-pagination-item-link{line-height:0em}  .user-reviews .ant-pagination-item a,   .user-reviews .ant-pagination-item:focus-visible a,   .user-reviews .ant-pagination-item:hover a{text-decoration:none;line-height:1.9em}  .comment-rate{margin-bottom:1em}  .comment-rate .ant-rate{font-size:14px}"]}),i})()}];let F=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=n.oAB({type:i}),i.\u0275inj=n.cJS({imports:[[_.Bz.forChild(S)],_.Bz]}),i})();var L=o(5326);let J=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=n.oAB({type:i}),i.\u0275inj=n.cJS({imports:[[d.ez,F,C.P,g.aw,L.m,t.u5,t.UX]]}),i})()},5181:(T,w,o)=>{o.d(w,{s:()=>l});var t=o(5e3),d=o(685),g=o(9808),C=o(6042),_=o(2643),h=o(2683),n=o(1062);function f(r,s){if(1&r&&(t.TgZ(0,"h5",3),t._uU(1),t.ALo(2,"translate"),t.qZA(),t.TgZ(3,"p",4),t._uU(4),t.ALo(5,"translate"),t.qZA()),2&r){const c=t.oxw();t.xp6(1),t.Oqu(t.lcZ(2,2,c.title)),t.xp6(3),t.Oqu(t.lcZ(5,4,c.text))}}function x(r,s){if(1&r){const c=t.EpF();t.TgZ(0,"button",7),t.NdJ("click",function(){return t.CHM(c),t.oxw(2).onButtonClicked()}),t._uU(1),t.ALo(2,"translate"),t.qZA()}if(2&r){const c=t.oxw(2);t.xp6(1),t.Oqu(t.lcZ(2,1,c.btnText))}}function M(r,s){if(1&r){const c=t.EpF();t.TgZ(0,"button",8),t.NdJ("click",function(){return t.CHM(c),t.oxw(2).onEditClicked()}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&r&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"CreateListing.Edit")))}function O(r,s){if(1&r&&(t.YNc(0,x,3,3,"button",5),t.YNc(1,M,3,3,"button",6)),2&r){const c=t.oxw();t.Q6J("ngIf",c.withBtn&&c.btnText),t.xp6(1),t.Q6J("ngIf",c.isPublish)}}let l=(()=>{class r{constructor(){this.title="",this.text="",this.icon="",this.btnText="",this.isPublish=!1,this.btnClicked=new t.vpe,this.editClicked=new t.vpe}ngOnInit(){}onButtonClicked(){this.btnClicked.emit()}onEditClicked(){this.editClicked.emit()}}return r.\u0275fac=function(c){return new(c||r)},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-empty-state"]],inputs:{title:"title",text:"text",icon:"icon",withBtn:"withBtn",btnText:"btnText",isPublish:"isPublish"},outputs:{btnClicked:"btnClicked",editClicked:"editClicked"},decls:5,vars:3,consts:[[1,"empty-wrapper","pt-5","pb-5",3,"nzNotFoundImage","nzNotFoundContent","nzNotFoundFooter"],["contentTpl",""],["footerTpl",""],[1,"title"],[1,"description"],["nz-button","","nzType","primary","class","mr-1 ml-1",3,"click",4,"ngIf"],["nz-button","","class","edit-btn mr-1 ml-1",3,"click",4,"ngIf"],["nz-button","","nzType","primary",1,"mr-1","ml-1",3,"click"],["nz-button","",1,"edit-btn","mr-1","ml-1",3,"click"]],template:function(c,v){if(1&c&&(t.TgZ(0,"nz-empty",0),t.YNc(1,f,6,6,"ng-template",null,1,t.W1O),t.YNc(3,O,2,2,"ng-template",null,2,t.W1O),t.qZA()),2&c){const u=t.MAs(2),P=t.MAs(4);t.Q6J("nzNotFoundImage",v.icon?v.icon:"https://gw.alipayobjects.com/zos/antfincdn/ZHrcdLPrvN/empty.svg")("nzNotFoundContent",u)("nzNotFoundFooter",P)}},directives:[d.p9,g.O5,C.ix,_.dQ,h.w],pipes:[n.X$],styles:[".title[_ngcontent-%COMP%]{font-weight:600;margin-top:1em;margin-bottom:1em;color:var(--bs-dark)}.description[_ngcontent-%COMP%]{width:50%;margin:auto;color:var(--bs-gray-600)}.edit-btn[_ngcontent-%COMP%]{border-color:var(--bs-gray-300);color:var(--bs-dark);background-color:var(--bs-gray-300)}.mr-1[_ngcontent-%COMP%]{margin-inline-start:5px}.ml-1[_ngcontent-%COMP%]{margin-inline-end:5px}"]}),r})()},4971:(T,w,o)=>{o.d(w,{I:()=>O});var t=o(5e3),d=o(7484),g=o(1344),C=o(9808),_=o(6699),h=o(6761),n=o(3075);function f(l,r){1&l&&t._UZ(0,"nz-avatar",8),2&l&&t.Q6J("nzSize",48)}function x(l,r){if(1&l&&t._UZ(0,"nz-avatar",9),2&l){const s=t.oxw(2);t.Q6J("nzSize",48)("nzSrc",s.reviewData.rateFrom.avatar)}}function M(l,r){if(1&l){const s=t.EpF();t.TgZ(0,"nz-comment",3),t.YNc(1,f,1,1,"nz-avatar",4),t.YNc(2,x,1,2,"nz-avatar",5),t.TgZ(3,"nz-comment-content")(4,"div",6)(5,"nz-rate",7),t.NdJ("ngModelChange",function(v){return t.CHM(s),t.oxw().reviewData.total_rate=v}),t.qZA()()()()}if(2&l){const s=t.oxw();t.Q6J("nzAuthor",s.reviewData.rateFrom.first_name+" "+s.reviewData.rateFrom.last_name),t.xp6(1),t.Q6J("ngIf",!(null!=s.reviewData&&null!=s.reviewData.rateFrom&&s.reviewData.rateFrom.avatar)),t.xp6(1),t.Q6J("ngIf",s.reviewData.rateFrom.avatar),t.xp6(3),t.Q6J("ngModel",s.reviewData.total_rate)("nzAllowHalf",!0)}}let O=(()=>{class l{constructor(){}ngOnInit(){}}return l.\u0275fac=function(s){return new(s||l)},l.\u0275cmp=t.Xpm({type:l,selectors:[["app-review-card"]],inputs:{reviewData:"reviewData"},decls:4,vars:1,consts:[[1,"review-card-item"],[3,"nzDescription"],["descriptionTemplate",""],[3,"nzAuthor"],["nz-comment-avatar","","nzIcon","user","nzSrc","//zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png",3,"nzSize",4,"ngIf"],["nz-comment-avatar","","nzIcon","user",3,"nzSize","nzSrc",4,"ngIf"],[1,"comment-rate"],["nzDisabled","",3,"ngModel","nzAllowHalf","ngModelChange"],["nz-comment-avatar","","nzIcon","user","nzSrc","//zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png",3,"nzSize"],["nz-comment-avatar","","nzIcon","user",3,"nzSize","nzSrc"]],template:function(s,c){if(1&s&&(t.TgZ(0,"nz-card",0),t._UZ(1,"nz-card-meta",1),t.qZA(),t.YNc(2,M,6,5,"ng-template",null,2,t.W1O)),2&s){const v=t.MAs(3);t.xp6(1),t.Q6J("nzDescription",v)}},directives:[d.bd,d.l7,g.WE,C.O5,_.Dz,g.DA,g.Y4,h.sn,n.JJ,n.On],styles:[".review-card-item[_ngcontent-%COMP%]{border-radius:5px;cursor:pointer;text-align:start}.review-card-item[_ngcontent-%COMP%]   .review-group[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:var(--bs-gray-600);font-size:15px;padding-inline-end:10px}.review-card-item[_ngcontent-%COMP%]   .review-group[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{color:var(--bs-dark);font-size:15px;font-weight:600}.review-card-item[_ngcontent-%COMP%]   .review-group[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .rate[_ngcontent-%COMP%]{color:var(--font-rate);vertical-align:0;font-size:17px}  .review-card-item .ant-card-body{padding:12px}  .review-card-item .ant-comment-content-author-name{font-size:14px;text-transform:capitalize}  .review-card-item .ant-comment-avatar img{width:100%;height:100%}"]}),l})()}}]);