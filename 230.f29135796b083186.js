"use strict";(self.webpackChunkroomz_web_app=self.webpackChunkroomz_web_app||[]).push([[230],{5181:(E,u,a)=>{a.d(u,{s:()=>m});var t=a(5e3),v=a(685),C=a(9808),p=a(6042),h=a(2643),O=a(2683),g=a(1062);function P(i,_){if(1&i&&(t.TgZ(0,"h5",3),t._uU(1),t.ALo(2,"translate"),t.qZA(),t.TgZ(3,"p",4),t._uU(4),t.ALo(5,"translate"),t.qZA()),2&i){const r=t.oxw();t.xp6(1),t.Oqu(t.lcZ(2,2,r.title)),t.xp6(3),t.Oqu(t.lcZ(5,4,r.text))}}function x(i,_){if(1&i){const r=t.EpF();t.TgZ(0,"button",7),t.NdJ("click",function(){return t.CHM(r),t.oxw(2).onButtonClicked()}),t._uU(1),t.ALo(2,"translate"),t.qZA()}if(2&i){const r=t.oxw(2);t.xp6(1),t.Oqu(t.lcZ(2,1,r.btnText))}}function f(i,_){if(1&i){const r=t.EpF();t.TgZ(0,"button",8),t.NdJ("click",function(){return t.CHM(r),t.oxw(2).onEditClicked()}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&i&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"CreateListing.Edit")))}function b(i,_){if(1&i&&(t.YNc(0,x,3,3,"button",5),t.YNc(1,f,3,3,"button",6)),2&i){const r=t.oxw();t.Q6J("ngIf",r.withBtn),t.xp6(1),t.Q6J("ngIf",r.isPublish)}}let m=(()=>{class i{constructor(){this.title="",this.text="",this.icon="",this.btnText="",this.isPublish=!1,this.btnClicked=new t.vpe,this.editClicked=new t.vpe}ngOnInit(){}onButtonClicked(){this.btnClicked.emit()}onEditClicked(){this.editClicked.emit()}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-empty-state"]],inputs:{title:"title",text:"text",icon:"icon",withBtn:"withBtn",btnText:"btnText",isPublish:"isPublish"},outputs:{btnClicked:"btnClicked",editClicked:"editClicked"},decls:5,vars:3,consts:[[1,"empty-wrapper","pt-5","pb-5",3,"nzNotFoundImage","nzNotFoundContent","nzNotFoundFooter"],["contentTpl",""],["footerTpl",""],[1,"title"],[1,"description"],["nz-button","","nzType","primary","class","mr-1 ml-1",3,"click",4,"ngIf"],["nz-button","","class","edit-btn mr-1 ml-1",3,"click",4,"ngIf"],["nz-button","","nzType","primary",1,"mr-1","ml-1",3,"click"],["nz-button","",1,"edit-btn","mr-1","ml-1",3,"click"]],template:function(r,s){if(1&r&&(t.TgZ(0,"nz-empty",0),t.YNc(1,P,6,6,"ng-template",null,1,t.W1O),t.YNc(3,b,2,2,"ng-template",null,2,t.W1O),t.qZA()),2&r){const d=t.MAs(2),D=t.MAs(4);t.Q6J("nzNotFoundImage",s.icon?s.icon:"https://gw.alipayobjects.com/zos/antfincdn/ZHrcdLPrvN/empty.svg")("nzNotFoundContent",d)("nzNotFoundFooter",D)}},directives:[v.p9,C.O5,p.ix,h.dQ,O.w],pipes:[g.X$],styles:[".title[_ngcontent-%COMP%]{font-weight:600;margin-top:1em;margin-bottom:1em;color:var(--bs-dark)}.description[_ngcontent-%COMP%]{width:50%;margin:auto;color:var(--bs-gray-600)}.edit-btn[_ngcontent-%COMP%]{border-color:var(--bs-gray-300);color:var(--bs-dark);background-color:var(--bs-gray-300)}.mr-1[_ngcontent-%COMP%]{margin-inline-start:5px}.ml-1[_ngcontent-%COMP%]{margin-inline-end:5px}"]}),i})()},7413:(E,u,a)=>{a.d(u,{$:()=>Z});var t=a(5e3),v=a(727),C=a(6010),p=a(1062),h=a(4239),O=a(9592),g=a(7484),P=a(6699),x=a(6042),f=a(2643),b=a(2683),m=a(9808),i=a(3087),_=a(4401);function r(o,l){if(1&o&&t._UZ(0,"nz-avatar",5),2&o){const n=t.oxw();t.Q6J("nzSrc",null==n.cardData?null:n.cardData.cover_photo)}}function s(o,l){1&o&&t._UZ(0,"i",12)}function d(o,l){1&o&&t._UZ(0,"i",13)}function D(o,l){1&o&&(t.TgZ(0,"nz-badge",14),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"PlaceDetails.Booked")))}function T(o,l){if(1&o){const n=t.EpF();t.TgZ(0,"div",6),t._UZ(1,"img",7),t.TgZ(2,"button",8),t.NdJ("click",function(){return t.CHM(n),t.oxw().onFavoriteChange()}),t.YNc(3,s,1,0,"i",9),t.YNc(4,d,1,0,"i",10),t.qZA(),t.YNc(5,D,3,3,"nz-badge",11),t.qZA()}if(2&o){const n=t.oxw();t.xp6(1),t.Q6J("src",null==n.cardData?null:n.cardData.cover_photo,t.LSH),t.xp6(2),t.Q6J("ngIf",!(null!=n.cardData&&n.cardData.is_favorite)),t.xp6(1),t.Q6J("ngIf",null==n.cardData?null:n.cardData.is_favorite),t.xp6(1),t.Q6J("ngIf",null==n.cardData?null:n.cardData.is_booked)}}function z(o,l){1&o&&(t.TgZ(0,"span"),t._uU(1,"..."),t.qZA())}function A(o,l){if(1&o){const n=t.EpF();t.TgZ(0,"div",15),t.NdJ("click",function(){t.CHM(n);const c=t.oxw();return c.onOpenPlace(null==c.cardData?null:c.cardData.id)}),t.TgZ(1,"div",16)(2,"span",17),t._UZ(3,"i",18),t._uU(4),t.qZA(),t.TgZ(5,"span",19),t._uU(6),t.ALo(7,"translate"),t.qZA()(),t.TgZ(8,"h6",20),t._uU(9),t.qZA(),t.TgZ(10,"p",21),t._uU(11),t.ALo(12,"slice"),t.YNc(13,z,2,0,"span",22),t.qZA(),t.TgZ(14,"div",23)(15,"div",24)(16,"span",25),t._uU(17),t.qZA(),t._UZ(18,"i",26),t.TgZ(19,"p",27),t._uU(20),t.ALo(21,"translate"),t.qZA()(),t.TgZ(22,"div",24)(23,"span",25),t._uU(24),t.qZA(),t._UZ(25,"i",28),t.TgZ(26,"p",27),t._uU(27),t.ALo(28,"translate"),t.qZA()(),t.TgZ(29,"div",24)(30,"span",25),t._uU(31),t.qZA(),t._UZ(32,"i",29),t.TgZ(33,"p",27),t._uU(34),t.ALo(35,"translate"),t.qZA()()()()}if(2&o){const n=t.oxw();t.xp6(4),t.AsE(" ",null==n.cardData?null:n.cardData.country," - ",null==n.cardData?null:n.cardData.city," "),t.xp6(2),t.AsE("",null==n.cardData?null:n.cardData.base_price," ",t.lcZ(7,13,"Booking.SAR"),""),t.xp6(3),t.Oqu(null==n.cardData?null:n.cardData.name),t.xp6(2),t.hij("",t.Dn7(12,15,null==n.cardData?null:n.cardData.description,0,80)," "),t.xp6(2),t.Q6J("ngIf",(null==n.cardData||null==n.cardData.description?null:n.cardData.description.length)>80),t.xp6(4),t.Oqu(null==n.cardData?null:n.cardData.no_of_bedrooms),t.xp6(3),t.Oqu(t.lcZ(21,19,"PlaceDetails.Bedrooms")),t.xp6(4),t.Oqu(null==n.cardData?null:n.cardData.no_of_bathrooms),t.xp6(3),t.Oqu(t.lcZ(28,21,"PlaceDetails.Bathrooms")),t.xp6(4),t.Oqu(null==n.cardData?null:n.cardData.area),t.xp6(3),t.Oqu(t.lcZ(35,23,"PlaceDetails.Square"))}}let Z=(()=>{class o{constructor(n,e,c,M){this.commonService=n,this.translateService=e,this.router=c,this.cookieService=M,this.favoriteChanged=new t.vpe,this.subscriptions=new v.w0}ngOnInit(){this.getUserData()}getUserData(){this.cookieService.get("userData")&&(this.userData=JSON.parse(this.cookieService.get("userData")))}onOpenPlace(n){this.router.navigateByUrl("/place-details/"+n)}onFavoriteChange(){var n,e;(null===(n=this.userData)||void 0===n?void 0:n.id)?(null===(e=this.cardData)||void 0===e?void 0:e.is_favorite)?this.removeFromFavorite():this.addToFavorite():this.commonService.showInfoAlert(this.translateService.instant("General.Warning"),this.translateService.instant("General.LoginFirst"))}removeFromFavorite(){var n;this.loading=!0,this.subscriptions.add(this.commonService.removeFromFavorite(null===(n=this.cardData)||void 0===n?void 0:n.id).subscribe({next:e=>{this.loading=!1,(null==e?void 0:e.data)&&(this.cardData.is_favorite=!1,this.commonService.showSuccessAlert(this.translateService.instant("General.Success"),null==e?void 0:e.message),this.favoriteChanged.emit(!0))},error:e=>{var c;this.loading=!1,this.commonService.showErrorAlert(this.translateService.instant("General.Error"),null===(c=null==e?void 0:e.error)||void 0===c?void 0:c.message)}}))}addToFavorite(){var n;this.loading=!0,this.subscriptions.add(this.commonService.addToFavorite({property_id:null===(n=this.cardData)||void 0===n?void 0:n.id}).subscribe({next:e=>{this.loading=!1,(null==e?void 0:e.data)&&(this.cardData.is_favorite=!0,this.commonService.showSuccessAlert(this.translateService.instant("General.Success"),null==e?void 0:e.message),this.favoriteChanged.emit(!0))},error:e=>{var c;this.loading=!1,this.commonService.showErrorAlert(this.translateService.instant("General.Error"),null===(c=null==e?void 0:e.error)||void 0===c?void 0:c.message)}}))}ngOnDestroy(){this.subscriptions.unsubscribe()}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(C.v),t.Y36(p.sK),t.Y36(h.F0),t.Y36(O.N_))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-place-card"]],inputs:{cardData:"cardData"},outputs:{favoriteChanged:"favoriteChanged"},decls:8,vars:2,consts:[[1,"place-card",2,"width","300px",3,"nzCover"],[3,"nzDescription"],["avatarTemplate",""],["coverTemplate",""],["descriptionTemplate",""],[3,"nzSrc"],[1,"place-img-wrapper"],["alt","example",1,"place-img",3,"src"],["nz-button","",1,"fav-btn",3,"click"],["nz-icon","","nzType","heart","nzTheme","outline",4,"ngIf"],["nz-icon","","nzType","heart","nzTheme","fill",4,"ngIf"],["nzStandalone","",4,"ngIf"],["nz-icon","","nzType","heart","nzTheme","outline"],["nz-icon","","nzType","heart","nzTheme","fill"],["nzStandalone",""],[1,"card-data-wrapper",3,"click"],[1,"location-price-row"],[1,"location"],["nz-icon","","nzType","environment","nzTheme","outline"],[1,"price"],[1,"place-name"],[1,"description"],[4,"ngIf"],[1,"specs"],[1,"spec-item"],[1,"number"],[1,"fa-solid","fa-bed"],[1,"type"],[1,"fa-solid","fa-bath"],[1,"fa-solid","fa-arrow-up-right-from-square"]],template:function(n,e){if(1&n&&(t.TgZ(0,"nz-card",0),t._UZ(1,"nz-card-meta",1),t.qZA(),t.YNc(2,r,1,1,"ng-template",null,2,t.W1O),t.YNc(4,T,6,4,"ng-template",null,3,t.W1O),t.YNc(6,A,36,25,"ng-template",null,4,t.W1O)),2&n){const c=t.MAs(5),M=t.MAs(7);t.Q6J("nzCover",c),t.xp6(1),t.Q6J("nzDescription",M)}},directives:[g.bd,g.l7,P.Dz,x.ix,f.dQ,b.w,m.O5,i.Ls,_.x7],pipes:[p.X$,m.OU],styles:[".place-card[_ngcontent-%COMP%]{padding:15px;border-radius:5px;cursor:pointer;text-align:start}  .place-card{width:98%!important}  .place-card .ant-card-body{padding:15px 0!important}.ant-card-body[_ngcontent-%COMP%]{padding:15px 0!important}.place-img-wrapper[_ngcontent-%COMP%]{position:relative;height:12em}.place-img-wrapper[_ngcontent-%COMP%]   .place-img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:5px}.place-img-wrapper[_ngcontent-%COMP%]   .distance[_ngcontent-%COMP%]{position:absolute;z-index:1;inset-block-start:5%;inset-inline-start:5%;padding:5px;background-color:var(--bs-gray-600);line-height:1.2em;color:var(--bs-white);border-radius:5px}.place-img-wrapper[_ngcontent-%COMP%]   .fav-btn[_ngcontent-%COMP%]{position:absolute;z-index:1;inset-block-start:5%;inset-inline-end:5%;width:36px;height:36px;border-radius:50%;border-color:var(--bs-primary);background-color:var(--bs-white)}.place-img-wrapper[_ngcontent-%COMP%]   .fav-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--bs-primary)}.place-img-wrapper[_ngcontent-%COMP%]   nz-badge[_ngcontent-%COMP%]{position:absolute;z-index:1;inset-block-start:5%;inset-inline-start:5%;background-color:var(--bs-green);color:var(--bs-white);padding:3px 5px;font-size:12px}.location-price-row[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:space-between}.location-price-row[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]{line-height:1em;color:var(--bs-dark)}.location-price-row[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--bs-primary);vertical-align:bottom}.location-price-row[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{color:var(--bs-dark);font-weight:600;line-height:1em}.place-name[_ngcontent-%COMP%]{color:var(--bs-dark);font-weight:700;margin-top:1em;margin-bottom:.5em}.description[_ngcontent-%COMP%]{font-size:12px;height:4em}.rate[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#ffc107;padding-inline-end:5px}.rate[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--bs-dark);vertical-align:middle}.specs[_ngcontent-%COMP%]{background-color:var(--bs-gray-100);display:flex;flex-direction:row;justify-content:space-between;padding:5px 5px 0;border-radius:5px}.specs[_ngcontent-%COMP%]   .spec-item[_ngcontent-%COMP%]{margin-bottom:5px}.specs[_ngcontent-%COMP%]   .spec-item[_ngcontent-%COMP%]   .number[_ngcontent-%COMP%]{font-weight:600;color:var(--bs-primary);margin-inline-end:5px}.specs[_ngcontent-%COMP%]   .spec-item[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]{font-size:12px;margin-bottom:0}"]}),o})()}}]);