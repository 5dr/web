"use strict";(self.webpackChunkroomz_web_app=self.webpackChunkroomz_web_app||[]).push([[329],{5329:(zt,R,c)=>{c.r(R),c.d(R,{MessagesModule:()=>Un});var a={};c.r(a),c.d(a,{Decoder:()=>rt,Encoder:()=>ze,PacketType:()=>u,protocol:()=>Et});var S={};c.r(S),c.d(S,{Manager:()=>V,Socket:()=>at,connect:()=>O,default:()=>O,io:()=>O,protocol:()=>Et});var x=c(9808),W=c(5858),A=c(1062),U=c(727),C=c(2340),t=c(5e3),$=c(1515),T=c(3640);function X(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"div",6)(1,"span",17),t._uU(2),t.ALo(3,"translate"),t._UZ(4,"br"),t.TgZ(5,"span",18),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).openModelDateils("host")}),t._uU(6),t.qZA()()()}if(2&i){const e=t.oxw(2);t.xp6(2),t.hij("",t.lcZ(3,3,"PlaceDetails.HostedBy")," : "),t.xp6(4),t.AsE("",null==e.bookingDetails||null==e.bookingDetails.host?null:e.bookingDetails.host.first_name," ",null==e.bookingDetails||null==e.bookingDetails.host?null:e.bookingDetails.host.last_name,"")}}function G(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"div",6)(1,"span",17),t._uU(2),t.ALo(3,"translate"),t._UZ(4,"br"),t.TgZ(5,"span",18),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).openModelDateils("Traveller")}),t._uU(6),t.qZA()()()}if(2&i){const e=t.oxw(2);t.xp6(2),t.hij("",t.lcZ(3,3,"PlaceDetails.BookedBy")," : "),t.xp6(4),t.AsE("",null==e.bookingDetails||null==e.bookingDetails.traveller?null:e.bookingDetails.traveller.first_name," ",null==e.bookingDetails||null==e.bookingDetails.traveller?null:e.bookingDetails.traveller.last_name,"")}}function g(i,n){if(1&i&&(t.TgZ(0,"li",14),t._uU(1),t.ALo(2,"translate"),t.ALo(3,"translate"),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.HOy(" ",null==e.priceDetails||null==e.priceDetails.normal_days?null:e.priceDetails.normal_days.base_price," ",t.lcZ(2,4,"Payment.SAR")," x ",null==e.priceDetails||null==e.priceDetails.normal_days?null:e.priceDetails.normal_days.no_normal_days," ",t.lcZ(3,6,"PlaceDetails.Night")," ")}}function P(i,n){if(1&i&&(t.TgZ(0,"li",14),t._uU(1),t.ALo(2,"translate"),t.ALo(3,"translate"),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.HOy(" ",null==e.priceDetails||null==e.priceDetails.weekend_days?null:e.priceDetails.weekend_days.weekend_offer," ",t.lcZ(2,4,"Payment.SAR")," x ",null==e.priceDetails||null==e.priceDetails.weekend_days?null:e.priceDetails.weekend_days.no_weekend_days," ",t.lcZ(3,6,"PlaceDetails.Night")," ")}}function _(i,n){if(1&i&&(t.TgZ(0,"li",14),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.AsE(" ",null==e.priceDetails||null==e.priceDetails.special_days?null:e.priceDetails.special_days.no_special_days," ",t.lcZ(2,2,"CreateListing.SpecialNight")," ")}}function Z(i,n){if(1&i&&(t.TgZ(0,"li",14),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.AsE(" ",t.lcZ(2,2,"PlaceDetails.ServiceFees")," ",e.serviceFees," % ")}}function B(i,n){if(1&i&&(t.TgZ(0,"li",14),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.AsE(" ",t.lcZ(2,2,"PlaceDetails.Vat")," ",e.vat," % ")}}function tt(i,n){1&i&&(t.TgZ(0,"li",14),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"PlaceDetails.Insurance")," "))}function Rt(i,n){if(1&i&&(t.TgZ(0,"li",15),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.AsE(" ",null==e.priceDetails||null==e.priceDetails.normal_days?null:e.priceDetails.normal_days.normal_days_price," ",t.lcZ(2,2,"Payment.SAR")," ")}}function Ut(i,n){if(1&i&&(t.TgZ(0,"li",15),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.AsE(" ",null==e.priceDetails||null==e.priceDetails.weekend_days?null:e.priceDetails.weekend_days.weekend_days_price," ",t.lcZ(2,2,"Payment.SAR")," ")}}function qt(i,n){if(1&i&&(t.TgZ(0,"li",15),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.AsE(" ",null==e.priceDetails||null==e.priceDetails.special_days?null:e.priceDetails.special_days.special_days_price," ",t.lcZ(2,2,"Payment.SAR")," ")}}function Jt(i,n){if(1&i&&(t.TgZ(0,"li",15),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.AsE(" ",null==e.priceDetails?null:e.priceDetails.total_service_fee," ",t.lcZ(2,2,"Payment.SAR")," ")}}function Ft(i,n){if(1&i&&(t.TgZ(0,"li",15),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.AsE(" ",null==e.priceDetails?null:e.priceDetails.total_vat," ",t.lcZ(2,2,"Payment.SAR")," ")}}function Yt(i,n){if(1&i&&(t.TgZ(0,"li",15),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.AsE(" ",null==e.priceDetails?null:e.priceDetails.insurance_price," ",t.lcZ(2,2,"Payment.SAR")," ")}}function Qt(i,n){if(1&i&&(t.TgZ(0,"div",19)(1,"div",20)(2,"h4"),t._uU(3),t.ALo(4,"translate"),t.qZA()(),t.TgZ(5,"div",21)(6,"ul",22),t.YNc(7,g,4,8,"li",23),t.YNc(8,P,4,8,"li",23),t.YNc(9,_,3,4,"li",23),t.YNc(10,Z,3,4,"li",23),t.YNc(11,B,3,4,"li",23),t.YNc(12,tt,3,3,"li",23),t.qZA(),t.TgZ(13,"ul",24),t.YNc(14,Rt,3,4,"li",25),t.YNc(15,Ut,3,4,"li",25),t.YNc(16,qt,3,4,"li",25),t.YNc(17,Jt,3,4,"li",25),t.YNc(18,Ft,3,4,"li",25),t.YNc(19,Yt,3,4,"li",25),t.qZA()(),t.TgZ(20,"div",26)(21,"h3",27),t._uU(22),t.ALo(23,"translate"),t.qZA(),t.TgZ(24,"h3",27),t._uU(25),t.ALo(26,"translate"),t.qZA()()()),2&i){const e=t.oxw(2);t.xp6(3),t.Oqu(t.lcZ(4,16,"Chat.PaymentDetails")),t.xp6(4),t.Q6J("ngIf",(null==e.priceDetails||null==e.priceDetails.normal_days?null:e.priceDetails.normal_days.no_normal_days)>0),t.xp6(1),t.Q6J("ngIf",(null==e.priceDetails||null==e.priceDetails.weekend_days?null:e.priceDetails.weekend_days.no_weekend_days)>0),t.xp6(1),t.Q6J("ngIf",(null==e.priceDetails||null==e.priceDetails.special_days?null:e.priceDetails.special_days.no_special_days)>0),t.xp6(1),t.Q6J("ngIf",e.serviceFees&&(null==e.priceDetails?null:e.priceDetails.total_service_fee)>0),t.xp6(1),t.Q6J("ngIf",e.vat&&(null==e.priceDetails?null:e.priceDetails.total_vat)>0),t.xp6(1),t.Q6J("ngIf",null==e.priceDetails?null:e.priceDetails.insurance_price),t.xp6(2),t.Q6J("ngIf",(null==e.priceDetails||null==e.priceDetails.normal_days?null:e.priceDetails.normal_days.no_normal_days)>0),t.xp6(1),t.Q6J("ngIf",(null==e.priceDetails||null==e.priceDetails.weekend_days?null:e.priceDetails.weekend_days.no_weekend_days)>0),t.xp6(1),t.Q6J("ngIf",(null==e.priceDetails||null==e.priceDetails.special_days?null:e.priceDetails.special_days.no_special_days)>0),t.xp6(1),t.Q6J("ngIf",e.serviceFees&&(null==e.priceDetails?null:e.priceDetails.total_service_fee)>0),t.xp6(1),t.Q6J("ngIf",e.vat&&(null==e.priceDetails?null:e.priceDetails.total_vat)>0),t.xp6(1),t.Q6J("ngIf",null==e.priceDetails?null:e.priceDetails.insurance_price),t.xp6(3),t.Oqu(t.lcZ(23,18,"PlaceDetails.TotalPrice")),t.xp6(3),t.AsE(" ",null==e.priceDetails?null:e.priceDetails.total_price," ",t.lcZ(26,20,"Payment.SAR")," ")}}function Ht(i,n){if(1&i&&(t.TgZ(0,"section",4)(1,"div",5)(2,"div",6)(3,"h4",7),t._uU(4),t.qZA()()(),t.TgZ(5,"div",8)(6,"div",9),t._UZ(7,"img",10),t.qZA(),t.YNc(8,X,7,5,"div",11),t.YNc(9,G,7,5,"div",11),t.qZA(),t.TgZ(10,"div",12)(11,"div",13)(12,"span",14),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.TgZ(15,"span",15)(16,"span"),t._uU(17),t.ALo(18,"date"),t.qZA(),t._uU(19," - "),t.TgZ(20,"span"),t._uU(21),t.ALo(22,"date"),t.qZA()()()(),t.YNc(23,Qt,27,22,"div",16),t.qZA()),2&i){const e=t.oxw();t.xp6(4),t.Oqu(null==e.bookingDetails?null:e.bookingDetails.property_name),t.xp6(3),t.Q6J("src",null==e.bookingDetails?null:e.bookingDetails.cover_photo,t.LSH),t.xp6(1),t.Q6J("ngIf","TRAVELLER"===e.userRole),t.xp6(1),t.Q6J("ngIf","HOST"===e.userRole),t.xp6(4),t.Oqu(t.lcZ(14,8,"Chat.Booking")),t.xp6(4),t.Oqu(t.xi3(18,10,null==e.bookingDetails?null:e.bookingDetails.booked_from,"shortDate")),t.xp6(4),t.Oqu(t.xi3(22,13,null==e.bookingDetails?null:e.bookingDetails.booked_to,"shortDate")),t.xp6(2),t.Q6J("ngIf",e.priceDetails)}}function Vt(i,n){if(1&i&&(t.TgZ(0,"div",37)(1,"div",38)(2,"span",34),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"span",35),t._UZ(6,"img",39),t.qZA()()()),2&i){const e=t.oxw(3);t.xp6(3),t.hij(" ",t.lcZ(4,2,"Profile.ProfileImg")," : "),t.xp6(3),t.Q6J("src",null==e.bookingDetails||null==e.bookingDetails.host?null:e.bookingDetails.host.avatar,t.LSH)}}function jt(i,n){1&i&&(t.TgZ(0,"div",37)(1,"div",38)(2,"span",34),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"span",35),t._UZ(6,"img",40),t.qZA()()()),2&i&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"Profile.ProfileImg")," : "))}function Kt(i,n){if(1&i&&(t.TgZ(0,"div",29)(1,"div",30),t.YNc(2,Vt,7,4,"div",31),t.YNc(3,jt,7,3,"div",31),t.TgZ(4,"div",32)(5,"div",33)(6,"span",34),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"span",35),t._uU(10),t.qZA()()(),t.TgZ(11,"div",32)(12,"div",33)(13,"span",34),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"span",35),t._uU(17),t.qZA()()(),t.TgZ(18,"div",36)(19,"div",33)(20,"span",34),t._uU(21),t.ALo(22,"translate"),t.qZA(),t.TgZ(23,"span",35),t._uU(24),t.qZA()()(),t.TgZ(25,"div",36)(26,"div",33)(27,"span",34),t._uU(28),t.ALo(29,"translate"),t.qZA(),t.TgZ(30,"span",35),t._uU(31),t.qZA()()()()()),2&i){const e=t.oxw(2);t.xp6(2),t.Q6J("ngIf",null==e.bookingDetails||null==e.bookingDetails.host?null:e.bookingDetails.host.avatar),t.xp6(1),t.Q6J("ngIf",!(null!=e.bookingDetails&&null!=e.bookingDetails.host&&e.bookingDetails.host.avatar)),t.xp6(4),t.hij(" ",t.lcZ(8,11,"Auth.FirstName")," : "),t.xp6(3),t.hij(" ",null==e.bookingDetails||null==e.bookingDetails.host?null:e.bookingDetails.host.first_name," "),t.xp6(4),t.hij(" ",t.lcZ(15,13,"Auth.LastName")," : "),t.xp6(3),t.hij(" ",null==e.bookingDetails||null==e.bookingDetails.host?null:e.bookingDetails.host.last_name," "),t.xp6(4),t.hij(" ",t.lcZ(22,15,"Auth.PhoneNumber")," : "),t.xp6(3),t.AsE(" ",null==e.bookingDetails||null==e.bookingDetails.host?null:e.bookingDetails.host.country_code,"\xa0",null==e.bookingDetails||null==e.bookingDetails.host?null:e.bookingDetails.host.phone_number," "),t.xp6(4),t.hij(" ",t.lcZ(29,17,"Auth.Email")," : "),t.xp6(3),t.hij(" ",null==e.bookingDetails||null==e.bookingDetails.host?null:e.bookingDetails.host.email," ")}}function Wt(i,n){if(1&i&&(t.TgZ(0,"div",37)(1,"div",38)(2,"span",34),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"span",41),t._UZ(6,"img",42),t.qZA()()()),2&i){const e=t.oxw(3);t.xp6(3),t.hij(" ",t.lcZ(4,2,"Profile.ProfileImg")," : "),t.xp6(3),t.Q6J("src",null==e.bookingDetails||null==e.bookingDetails.traveller?null:e.bookingDetails.traveller.avatar,t.LSH)}}function $t(i,n){1&i&&(t.TgZ(0,"div",37)(1,"div",38)(2,"span",34),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"span",41),t._UZ(6,"img",40),t.qZA()()()),2&i&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"Profile.ProfileImg")," : "))}function Xt(i,n){if(1&i&&(t.TgZ(0,"div",29)(1,"div",29)(2,"div",30),t.YNc(3,Wt,7,4,"div",31),t.YNc(4,$t,7,3,"div",31),t.TgZ(5,"div",32)(6,"div",33)(7,"span",34),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"span",35),t._uU(11),t.qZA()()(),t.TgZ(12,"div",32)(13,"div",33)(14,"span",34),t._uU(15),t.ALo(16,"translate"),t.qZA(),t.TgZ(17,"span",35),t._uU(18),t.qZA()()(),t.TgZ(19,"div",36)(20,"div",33)(21,"span",34),t._uU(22),t.ALo(23,"translate"),t.qZA(),t.TgZ(24,"span",35),t._uU(25),t.qZA()()(),t.TgZ(26,"div",36)(27,"div",33)(28,"span",34),t._uU(29),t.ALo(30,"translate"),t.qZA(),t.TgZ(31,"span",35),t._uU(32),t.qZA()()()()()()),2&i){const e=t.oxw(2);t.xp6(3),t.Q6J("ngIf",null==e.bookingDetails||null==e.bookingDetails.traveller?null:e.bookingDetails.traveller.avatar),t.xp6(1),t.Q6J("ngIf",!(null!=e.bookingDetails&&null!=e.bookingDetails.traveller&&e.bookingDetails.traveller.avatar)),t.xp6(4),t.hij(" ",t.lcZ(9,11,"Auth.FirstName")," : "),t.xp6(3),t.hij(" ",null==e.bookingDetails||null==e.bookingDetails.traveller?null:e.bookingDetails.traveller.first_name," "),t.xp6(4),t.hij(" ",t.lcZ(16,13,"Auth.LastName")," : "),t.xp6(3),t.hij(" ",null==e.bookingDetails||null==e.bookingDetails.traveller?null:e.bookingDetails.traveller.last_name," "),t.xp6(4),t.hij(" ",t.lcZ(23,15,"Auth.PhoneNumber")," : "),t.xp6(3),t.AsE(" ",null==e.bookingDetails||null==e.bookingDetails.traveller?null:e.bookingDetails.traveller.country_code,"\xa0",null==e.bookingDetails||null==e.bookingDetails.traveller?null:e.bookingDetails.traveller.phone_number," "),t.xp6(4),t.hij(" ",t.lcZ(30,17,"Auth.Email")," : "),t.xp6(3),t.hij(" ",null==e.bookingDetails||null==e.bookingDetails.traveller?null:e.bookingDetails.traveller.email," ")}}function Gt(i,n){if(1&i&&(t.ynx(0),t.YNc(1,Kt,32,19,"div",28),t.YNc(2,Xt,33,19,"div",28),t.BQk()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf","TRAVELLER"===e.userRole),t.xp6(1),t.Q6J("ngIf","HOST"===e.userRole)}}function te(i,n){1&i&&t.GkF(0)}let ct=(()=>{class i{constructor(e,s){this.propertyBookingService=e,this.translateService=s,this.lang=C.N.lang,this.isVisible=!1,this.userRole=C.N.userRole,this.subscriptions=new U.w0}ngOnInit(){console.log(this.bookingDetails),this.fetchVatDetails()}fetchVatDetails(){this.subscriptions.add(this.propertyBookingService.fetchVatDetails().subscribe(e=>{var s,o;console.log(e),(null==e?void 0:e.successful)&&(this.serviceFees=null===(s=null==e?void 0:e.data)||void 0===s?void 0:s.service_fee,this.vat=null===(o=null==e?void 0:e.data)||void 0===o?void 0:o.vat)}))}openModelDateils(e){this.namePopUp="host"==e?this.translateService.instant("PlaceDetails.Host")+" "+this.translateService.instant("Chat.Details"):this.translateService.instant("Auth.Traveller")+" "+this.translateService.instant("Chat.Details"),this.isVisible=!0}handleCancel(){this.isVisible=!1}ngOnDestroy(){this.subscriptions.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36($.v),t.Y36(A.sK))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-details-booking"]],inputs:{bookingDetails:"bookingDetails",priceDetails:"priceDetails"},decls:4,vars:3,consts:[["class","booking-masse",4,"ngIf"],[3,"nzVisible","nzTitle","nzVisibleChange","nzOnCancel"],[4,"nzModalContent"],[4,"nzModalFooter"],[1,"booking-masse"],[1,"details","d-flex","justify-content-between","align-items-center"],[1,"d-flex","flex-column"],[1,"title-details"],[1,"hosted","d-flex","align-items-center"],[1,"img-avatar"],["alt","",3,"src"],["class","d-flex flex-column",4,"ngIf"],[1,"date-guest"],[1,"d-flex","justify-content-between","align-items-center"],[1,"desc"],[1,"main-font"],["class","payment-detail",4,"ngIf"],[1,"name"],[1,"h-name",3,"click"],[1,"payment-detail"],[1,"title","d-flex","justify-content-between","align-items-center"],[1,"conta-list","d-flex","justify-content-between","align-items-center"],[1,"list-price","first-list","list-unstyled"],["class","desc",4,"ngIf"],[1,"list-price","secound-list","list-unstyled"],["class","main-font",4,"ngIf"],[1,"total","d-flex","justify-content-between","align-items-center"],[1,"my-0"],["class","details-modal",4,"ngIf"],[1,"details-modal"],[1,"row","align-items-center"],["class"," col-md-8 mb-3",4,"ngIf"],[1,"col-md-6","mb-3"],[1,"modal-group","d-flex","align-items-center"],[1,"label"],[1,"content"],[1,"col-md-10","mb-3"],[1,"col-md-8","mb-3"],[1,"modal-group","d-flex"],["width","80px","height","80px",1,"img-fluid","rounded-circle","avatar-img",3,"src"],["src","assets/imgs/user-profile-img.svg","width","84px","height","79px",1,"img-fluid","avatar-img","border-0"],[1,"content","img"],["width","80px","height","80px",1,"rounded-circle","avatar-img",3,"src"]],template:function(e,s){1&e&&(t.YNc(0,Ht,24,16,"section",0),t.TgZ(1,"nz-modal",1),t.NdJ("nzVisibleChange",function(r){return s.isVisible=r})("nzOnCancel",function(){return s.handleCancel()}),t.YNc(2,Gt,3,2,"ng-container",2),t.YNc(3,te,1,0,"ng-container",3),t.qZA()),2&e&&(t.Q6J("ngIf",s.bookingDetails),t.xp6(1),t.Q6J("nzVisible",s.isVisible)("nzTitle",s.namePopUp))},directives:[x.O5,T.du,T.Hf,T.Uh],pipes:[A.X$,x.uU],styles:[".booking-masse[_ngcontent-%COMP%]   .main-font[_ngcontent-%COMP%]{color:var(--bs-dark);font-size:14px;font-weight:600}.booking-masse[_ngcontent-%COMP%]   .main-font[_ngcontent-%COMP%]:lang(ar){font-size:12px}.booking-masse[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{color:var(--bs-gray-600);font-size:14px}.booking-masse[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]:lang(ar){font-size:12px}.booking-masse[_ngcontent-%COMP%]   .main-font.discount[_ngcontent-%COMP%]{color:var(--font-success)}.booking-masse[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{padding:28px 30px;border-bottom:1px solid #E6E6E6}.booking-masse[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;font-weight:700;line-height:30px;color:var(--bs-dark);margin-bottom:0}.booking-masse[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px;cursor:pointer}.booking-masse[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%], .booking-masse[_ngcontent-%COMP%]   .date-guest[_ngcontent-%COMP%]{border-bottom:1px solid #E6E6E6;padding:20px 25px}.booking-masse[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .title-details[_ngcontent-%COMP%], .booking-masse[_ngcontent-%COMP%]   .date-guest[_ngcontent-%COMP%]   .title-details[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:var(--bs-dark);margin-bottom:5px}.booking-masse[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .booking-masse[_ngcontent-%COMP%]   .date-guest[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px;cursor:pointer;display:block;margin-inline-start:20px}.booking-masse[_ngcontent-%COMP%]   .hosted[_ngcontent-%COMP%]{padding:15px 25px;border-bottom:1px solid #E6E6E6}.booking-masse[_ngcontent-%COMP%]   .hosted[_ngcontent-%COMP%]   .img-avatar[_ngcontent-%COMP%]{margin-inline-end:12px}.booking-masse[_ngcontent-%COMP%]   .hosted[_ngcontent-%COMP%]   .img-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:45px;height:45px;border-radius:100%}.booking-masse[_ngcontent-%COMP%]   .hosted[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:16px;color:var(--bs-dark)}.booking-masse[_ngcontent-%COMP%]   .hosted[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]   .h-name[_ngcontent-%COMP%]{font-weight:600;color:var(--bs-blue);cursor:pointer}.booking-masse[_ngcontent-%COMP%]   .hosted[_ngcontent-%COMP%]   .reviews[_ngcontent-%COMP%]{color:var(--bs-gray-600);font-size:12px}.booking-masse[_ngcontent-%COMP%]   .payment-details[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;font-weight:600;line-height:18px;color:var(--bs-dark);margin-block-end:3px}.booking-masse[_ngcontent-%COMP%]   .payment-details[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--bs-gray-600);font-size:12px;line-height:15px}.booking-masse[_ngcontent-%COMP%]   .payment-details[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-weight:600;font-size:24px;color:var(--bs-primary)}.booking-masse[_ngcontent-%COMP%]   .payment-detail[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{padding:28px 20px 0;border:none}.booking-masse[_ngcontent-%COMP%]   .payment-detail[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:16px;font-weight:700}.booking-masse[_ngcontent-%COMP%]   .payment-detail[_ngcontent-%COMP%]   .conta-list[_ngcontent-%COMP%]{padding:20px 20px 0}.booking-masse[_ngcontent-%COMP%]   .payment-detail[_ngcontent-%COMP%]   .conta-list[_ngcontent-%COMP%]   .main-font[_ngcontent-%COMP%], .booking-masse[_ngcontent-%COMP%]   .payment-detail[_ngcontent-%COMP%]   .conta-list[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{margin-bottom:15px}.booking-masse[_ngcontent-%COMP%]   .payment-detail[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{padding:20px;border-top:1px solid #E6E6E6}.booking-masse[_ngcontent-%COMP%]   .payment-detail[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--bs-dark);font-weight:600;font-size:16px}.btn-modal[_ngcontent-%COMP%]{border-color:var(--bs-primary)!important;font-size:16px;padding-right:2em;padding-left:2em;color:var(--bs-white)!important;background-color:var(--bs-primary)!important}.details-modal[_ngcontent-%COMP%]   .modal-group[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:var(--bs-gray-600);font-size:15px;padding-inline-end:10px}.details-modal[_ngcontent-%COMP%]   .modal-group[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{color:var(--bs-dark);font-size:15px}"]}),i})();const k=Object.create(null);k.open="0",k.close="1",k.ping="2",k.pong="3",k.message="4",k.upgrade="5",k.noop="6";const q=Object.create(null);Object.keys(k).forEach(i=>{q[k[i]]=i});const ee={type:"error",data:"parser error"},ne="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),ie="function"==typeof ArrayBuffer,ut=(i,n)=>{const e=new FileReader;return e.onload=function(){const s=e.result.split(",")[1];n("b"+s)},e.readAsDataURL(i)},ht=({type:i,data:n},e,s)=>ne&&n instanceof Blob?e?s(n):ut(n,s):ie&&(n instanceof ArrayBuffer||(i=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(i):i&&i.buffer instanceof ArrayBuffer)(n))?e?s(n):ut(new Blob([n]),s):s(k[i]+(n||"")),E="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",N="undefined"==typeof Uint8Array?[]:new Uint8Array(256);for(let i=0;i<E.length;i++)N[E.charCodeAt(i)]=i;const ae="function"==typeof ArrayBuffer,ce=(i,n)=>{if(ae){const e=(i=>{let s,r,l,h,d,n=.75*i.length,e=i.length,o=0;"="===i[i.length-1]&&(n--,"="===i[i.length-2]&&n--);const m=new ArrayBuffer(n),f=new Uint8Array(m);for(s=0;s<e;s+=4)r=N[i.charCodeAt(s)],l=N[i.charCodeAt(s+1)],h=N[i.charCodeAt(s+2)],d=N[i.charCodeAt(s+3)],f[o++]=r<<2|l>>4,f[o++]=(15&l)<<4|h>>2,f[o++]=(3&h)<<6|63&d;return m})(i);return pt(e,n)}return{base64:!0,data:i}},pt=(i,n)=>"blob"===n&&i instanceof ArrayBuffer?new Blob([i]):i,dt=(i,n)=>{if("string"!=typeof i)return{type:"message",data:pt(i,n)};const e=i.charAt(0);return"b"===e?{type:"message",data:ce(i.substring(1),n)}:q[e]?i.length>1?{type:q[e],data:i.substring(1)}:{type:q[e]}:ee},gt=String.fromCharCode(30);function p(i){if(i)return function pe(i){for(var n in p.prototype)i[n]=p.prototype[n];return i}(i)}p.prototype.on=p.prototype.addEventListener=function(i,n){return this._callbacks=this._callbacks||{},(this._callbacks["$"+i]=this._callbacks["$"+i]||[]).push(n),this},p.prototype.once=function(i,n){function e(){this.off(i,e),n.apply(this,arguments)}return e.fn=n,this.on(i,e),this},p.prototype.off=p.prototype.removeListener=p.prototype.removeAllListeners=p.prototype.removeEventListener=function(i,n){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var e=this._callbacks["$"+i];if(!e)return this;if(1==arguments.length)return delete this._callbacks["$"+i],this;for(var s,o=0;o<e.length;o++)if((s=e[o])===n||s.fn===n){e.splice(o,1);break}return 0===e.length&&delete this._callbacks["$"+i],this},p.prototype.emitReserved=p.prototype.emit=function(i){this._callbacks=this._callbacks||{};for(var n=new Array(arguments.length-1),e=this._callbacks["$"+i],s=1;s<arguments.length;s++)n[s-1]=arguments[s];if(e){s=0;for(var o=(e=e.slice(0)).length;s<o;++s)e[s].apply(this,n)}return this},p.prototype.listeners=function(i){return this._callbacks=this._callbacks||{},this._callbacks["$"+i]||[]},p.prototype.hasListeners=function(i){return!!this.listeners(i).length};const D="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")();function ft(i,...n){return n.reduce((e,s)=>(i.hasOwnProperty(s)&&(e[s]=i[s]),e),{})}const de=setTimeout,ge=clearTimeout;function J(i,n){n.useNativeTimers?(i.setTimeoutFn=de.bind(D),i.clearTimeoutFn=ge.bind(D)):(i.setTimeoutFn=setTimeout.bind(D),i.clearTimeoutFn=clearTimeout.bind(D))}function fe(i){return"string"==typeof i?function me(i){let n=0,e=0;for(let s=0,o=i.length;s<o;s++)n=i.charCodeAt(s),n<128?e+=1:n<2048?e+=2:n<55296||n>=57344?e+=3:(s++,e+=4);return e}(i):Math.ceil(1.33*(i.byteLength||i.size))}class ve extends Error{constructor(n,e,s){super(n),this.description=e,this.context=s,this.type="TransportError"}}class mt extends p{constructor(n){super(),this.writable=!1,J(this,n),this.opts=n,this.query=n.query,this.readyState="",this.socket=n.socket}onError(n,e,s){return super.emitReserved("error",new ve(n,e,s)),this}open(){return("closed"===this.readyState||""===this.readyState)&&(this.readyState="opening",this.doOpen()),this}close(){return("opening"===this.readyState||"open"===this.readyState)&&(this.doClose(),this.onClose()),this}send(n){"open"===this.readyState&&this.write(n)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(n){const e=dt(n,this.socket.binaryType);this.onPacket(e)}onPacket(n){super.emitReserved("packet",n)}onClose(n){this.readyState="closed",super.emitReserved("close",n)}}const vt="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),yt={};let xt,bt=0,w=0;function Ct(i){let n="";do{n=vt[i%64]+n,i=Math.floor(i/64)}while(i>0);return n}function kt(){const i=Ct(+new Date);return i!==xt?(bt=0,xt=i):i+"."+Ct(bt++)}for(;w<64;w++)yt[vt[w]]=w;function Mt(i){let n="";for(let e in i)i.hasOwnProperty(e)&&(n.length&&(n+="&"),n+=encodeURIComponent(e)+"="+encodeURIComponent(i[e]));return n}let Ot=!1;try{Ot="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(i){}const be=Ot;function Pt(i){const n=i.xdomain;try{if("undefined"!=typeof XMLHttpRequest&&(!n||be))return new XMLHttpRequest}catch(e){}if(!n)try{return new(D[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(e){}}function xe(){}const Ce=null!=new Pt({xdomain:!1}).responseType;let Y=(()=>{class i extends p{constructor(e,s){super(),J(this,s),this.opts=s,this.method=s.method||"GET",this.uri=e,this.async=!1!==s.async,this.data=void 0!==s.data?s.data:null,this.create()}create(){const e=ft(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this.opts.xd,e.xscheme=!!this.opts.xs;const s=this.xhr=new Pt(e);try{s.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let o in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(o)&&s.setRequestHeader(o,this.opts.extraHeaders[o])}}catch(o){}if("POST"===this.method)try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(o){}try{s.setRequestHeader("Accept","*/*")}catch(o){}"withCredentials"in s&&(s.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(s.timeout=this.opts.requestTimeout),s.onreadystatechange=()=>{4===s.readyState&&(200===s.status||1223===s.status?this.onLoad():this.setTimeoutFn(()=>{this.onError("number"==typeof s.status?s.status:0)},0))},s.send(this.data)}catch(o){return void this.setTimeoutFn(()=>{this.onError(o)},0)}"undefined"!=typeof document&&(this.index=i.requestsCount++,i.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if(null!=this.xhr){if(this.xhr.onreadystatechange=xe,e)try{this.xhr.abort()}catch(s){}"undefined"!=typeof document&&delete i.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}return i.requestsCount=0,i.requests={},i})();function Dt(){for(let i in Y.requests)Y.requests.hasOwnProperty(i)&&Y.requests[i].abort()}"undefined"!=typeof document&&("function"==typeof attachEvent?attachEvent("onunload",Dt):"function"==typeof addEventListener&&addEventListener("onpagehide"in D?"pagehide":"unload",Dt,!1));const wt="function"==typeof Promise&&"function"==typeof Promise.resolve?n=>Promise.resolve().then(n):(n,e)=>e(n,0),Q=D.WebSocket||D.MozWebSocket,At="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),Pe={websocket:class Oe extends mt{constructor(n){super(n),this.supportsBinary=!n.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const n=this.uri(),e=this.opts.protocols,s=At?{}:ft(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=At?new Q(n,e,s):e?new Q(n,e):new Q(n)}catch(o){return this.emitReserved("error",o)}this.ws.binaryType=this.socket.binaryType||"arraybuffer",this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=n=>this.onClose({description:"websocket connection closed",context:n}),this.ws.onmessage=n=>this.onData(n.data),this.ws.onerror=n=>this.onError("websocket error",n)}write(n){this.writable=!1;for(let e=0;e<n.length;e++){const o=e===n.length-1;ht(n[e],this.supportsBinary,r=>{try{this.ws.send(r)}catch(h){}o&&wt(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){void 0!==this.ws&&(this.ws.close(),this.ws=null)}uri(){let n=this.query||{};const e=this.opts.secure?"wss":"ws";let s="";this.opts.port&&("wss"===e&&443!==Number(this.opts.port)||"ws"===e&&80!==Number(this.opts.port))&&(s=":"+this.opts.port),this.opts.timestampRequests&&(n[this.opts.timestampParam]=kt()),this.supportsBinary||(n.b64=1);const o=Mt(n);return e+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+s+this.opts.path+(o.length?"?"+o:"")}check(){return!!Q}},polling:class ke extends mt{constructor(n){if(super(n),this.polling=!1,"undefined"!=typeof location){const s="https:"===location.protocol;let o=location.port;o||(o=s?"443":"80"),this.xd="undefined"!=typeof location&&n.hostname!==location.hostname||o!==n.port,this.xs=n.secure!==s}this.supportsBinary=Ce&&!(n&&n.forceBase64)}get name(){return"polling"}doOpen(){this.poll()}pause(n){this.readyState="pausing";const e=()=>{this.readyState="paused",n()};if(this.polling||!this.writable){let s=0;this.polling&&(s++,this.once("pollComplete",function(){--s||e()})),this.writable||(s++,this.once("drain",function(){--s||e()}))}else e()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(n){((i,n)=>{const e=i.split(gt),s=[];for(let o=0;o<e.length;o++){const r=dt(e[o],n);if(s.push(r),"error"===r.type)break}return s})(n,this.socket.binaryType).forEach(s=>{if("opening"===this.readyState&&"open"===s.type&&this.onOpen(),"close"===s.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(s)}),"closed"!==this.readyState&&(this.polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this.poll())}doClose(){const n=()=>{this.write([{type:"close"}])};"open"===this.readyState?n():this.once("open",n)}write(n){this.writable=!1,((i,n)=>{const e=i.length,s=new Array(e);let o=0;i.forEach((r,l)=>{ht(r,!1,h=>{s[l]=h,++o===e&&n(s.join(gt))})})})(n,e=>{this.doWrite(e,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let n=this.query||{};const e=this.opts.secure?"https":"http";let s="";!1!==this.opts.timestampRequests&&(n[this.opts.timestampParam]=kt()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.opts.port&&("https"===e&&443!==Number(this.opts.port)||"http"===e&&80!==Number(this.opts.port))&&(s=":"+this.opts.port);const o=Mt(n);return e+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+s+this.opts.path+(o.length?"?"+o:"")}request(n={}){return Object.assign(n,{xd:this.xd,xs:this.xs},this.opts),new Y(this.uri(),n)}doWrite(n,e){const s=this.request({method:"POST",data:n});s.on("success",e),s.on("error",(o,r)=>{this.onError("xhr post error",o,r)})}doPoll(){const n=this.request();n.on("data",this.onData.bind(this)),n.on("error",(e,s)=>{this.onError("xhr poll error",e,s)}),this.pollXhr=n}}},De=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,we=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function nt(i){const n=i,e=i.indexOf("["),s=i.indexOf("]");-1!=e&&-1!=s&&(i=i.substring(0,e)+i.substring(e,s).replace(/:/g,";")+i.substring(s,i.length));let o=De.exec(i||""),r={},l=14;for(;l--;)r[we[l]]=o[l]||"";return-1!=e&&-1!=s&&(r.source=n,r.host=r.host.substring(1,r.host.length-1).replace(/;/g,":"),r.authority=r.authority.replace("[","").replace("]","").replace(/;/g,":"),r.ipv6uri=!0),r.pathNames=function Ae(i,n){const s=n.replace(/\/{2,9}/g,"/").split("/");return("/"==n.slice(0,1)||0===n.length)&&s.splice(0,1),"/"==n.slice(-1)&&s.splice(s.length-1,1),s}(0,r.path),r.queryKey=function Te(i,n){const e={};return n.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(s,o,r){o&&(e[o]=r)}),e}(0,r.query),r}let Tt=(()=>{class i extends p{constructor(e,s={}){super(),e&&"object"==typeof e&&(s=e,e=null),e?(e=nt(e),s.hostname=e.host,s.secure="https"===e.protocol||"wss"===e.protocol,s.port=e.port,e.query&&(s.query=e.query)):s.host&&(s.hostname=nt(s.host).host),J(this,s),this.secure=null!=s.secure?s.secure:"undefined"!=typeof location&&"https:"===location.protocol,s.hostname&&!s.port&&(s.port=this.secure?"443":"80"),this.hostname=s.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=s.port||("undefined"!=typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=s.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},s),this.opts.path=this.opts.path.replace(/\/$/,"")+"/","string"==typeof this.opts.query&&(this.opts.query=function ye(i){let n={},e=i.split("&");for(let s=0,o=e.length;s<o;s++){let r=e[s].split("=");n[decodeURIComponent(r[0])]=decodeURIComponent(r[1])}return n}(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,"function"==typeof addEventListener&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){const s=Object.assign({},this.opts.query);s.EIO=4,s.transport=e,this.id&&(s.sid=this.id);const o=Object.assign({},this.opts.transportOptions[e],this.opts,{query:s,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new Pe[e](o)}open(){let e;if(this.opts.rememberUpgrade&&i.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(s){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",s=>this.onClose("transport close",s))}probe(e){let s=this.createTransport(e),o=!1;i.priorWebsocketSuccess=!1;const r=()=>{o||(s.send([{type:"ping",data:"probe"}]),s.once("packet",v=>{if(!o)if("pong"===v.type&&"probe"===v.data){if(this.upgrading=!0,this.emitReserved("upgrading",s),!s)return;i.priorWebsocketSuccess="websocket"===s.name,this.transport.pause(()=>{o||"closed"!==this.readyState&&(M(),this.setTransport(s),s.send([{type:"upgrade"}]),this.emitReserved("upgrade",s),s=null,this.upgrading=!1,this.flush())})}else{const y=new Error("probe error");y.transport=s.name,this.emitReserved("upgradeError",y)}}))};function l(){o||(o=!0,M(),s.close(),s=null)}const h=v=>{const y=new Error("probe error: "+v);y.transport=s.name,l(),this.emitReserved("upgradeError",y)};function d(){h("transport closed")}function m(){h("socket closed")}function f(v){s&&v.name!==s.name&&l()}const M=()=>{s.removeListener("open",r),s.removeListener("error",h),s.removeListener("close",d),this.off("close",m),this.off("upgrading",f)};s.once("open",r),s.once("error",h),s.once("close",d),this.once("close",m),this.once("upgrading",f),s.open()}onOpen(){if(this.readyState="open",i.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade&&this.transport.pause){let e=0;const s=this.upgrades.length;for(;e<s;e++)this.probe(this.upgrades[e])}}onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const s=new Error("server error");s.code=e.data,this.onError(s);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let s=1;for(let o=0;o<this.writeBuffer.length;o++){const r=this.writeBuffer[o].data;if(r&&(s+=fe(r)),o>0&&s>this.maxPayload)return this.writeBuffer.slice(0,o);s+=2}return this.writeBuffer}write(e,s,o){return this.sendPacket("message",e,s,o),this}send(e,s,o){return this.sendPacket("message",e,s,o),this}sendPacket(e,s,o,r){if("function"==typeof s&&(r=s,s=void 0),"function"==typeof o&&(r=o,o=null),"closing"===this.readyState||"closed"===this.readyState)return;(o=o||{}).compress=!1!==o.compress;const l={type:e,data:s,options:o};this.emitReserved("packetCreate",l),this.writeBuffer.push(l),r&&this.once("flush",r),this.flush()}close(){const e=()=>{this.onClose("forced close"),this.transport.close()},s=()=>{this.off("upgrade",s),this.off("upgradeError",s),e()},o=()=>{this.once("upgrade",s),this.once("upgradeError",s)};return("opening"===this.readyState||"open"===this.readyState)&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?o():e()}):this.upgrading?o():e()),this}onError(e){i.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,s){("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"==typeof removeEventListener&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",e,s),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const s=[];let o=0;const r=e.length;for(;o<r;o++)~this.transports.indexOf(e[o])&&s.push(e[o]);return s}}return i.protocol=4,i})();const Ee="function"==typeof ArrayBuffer,Zt=Object.prototype.toString,Se="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Zt.call(Blob),Be="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===Zt.call(File);function it(i){return Ee&&(i instanceof ArrayBuffer||(i=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(i):i.buffer instanceof ArrayBuffer)(i))||Se&&i instanceof Blob||Be&&i instanceof File}function H(i,n){if(!i||"object"!=typeof i)return!1;if(Array.isArray(i)){for(let e=0,s=i.length;e<s;e++)if(H(i[e]))return!0;return!1}if(it(i))return!0;if(i.toJSON&&"function"==typeof i.toJSON&&1===arguments.length)return H(i.toJSON(),!0);for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e)&&H(i[e]))return!0;return!1}function Ne(i){const n=[],s=i;return s.data=st(i.data,n),s.attachments=n.length,{packet:s,buffers:n}}function st(i,n){if(!i)return i;if(it(i)){const e={_placeholder:!0,num:n.length};return n.push(i),e}if(Array.isArray(i)){const e=new Array(i.length);for(let s=0;s<i.length;s++)e[s]=st(i[s],n);return e}if("object"==typeof i&&!(i instanceof Date)){const e={};for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=st(i[s],n));return e}return i}function Ie(i,n){return i.data=ot(i.data,n),i.attachments=void 0,i}function ot(i,n){if(!i)return i;if(i&&!0===i._placeholder){if("number"==typeof i.num&&i.num>=0&&i.num<n.length)return n[i.num];throw new Error("illegal attachments")}if(Array.isArray(i))for(let e=0;e<i.length;e++)i[e]=ot(i[e],n);else if("object"==typeof i)for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&(i[e]=ot(i[e],n));return i}const Et=5;var u=(()=>{return(i=u||(u={}))[i.CONNECT=0]="CONNECT",i[i.DISCONNECT=1]="DISCONNECT",i[i.EVENT=2]="EVENT",i[i.ACK=3]="ACK",i[i.CONNECT_ERROR=4]="CONNECT_ERROR",i[i.BINARY_EVENT=5]="BINARY_EVENT",i[i.BINARY_ACK=6]="BINARY_ACK",u;var i})();class ze{constructor(n){this.replacer=n}encode(n){return n.type!==u.EVENT&&n.type!==u.ACK||!H(n)?[this.encodeAsString(n)]:(n.type=n.type===u.EVENT?u.BINARY_EVENT:u.BINARY_ACK,this.encodeAsBinary(n))}encodeAsString(n){let e=""+n.type;return(n.type===u.BINARY_EVENT||n.type===u.BINARY_ACK)&&(e+=n.attachments+"-"),n.nsp&&"/"!==n.nsp&&(e+=n.nsp+","),null!=n.id&&(e+=n.id),null!=n.data&&(e+=JSON.stringify(n.data,this.replacer)),e}encodeAsBinary(n){const e=Ne(n),s=this.encodeAsString(e.packet),o=e.buffers;return o.unshift(s),o}}class rt extends p{constructor(n){super(),this.reviver=n}add(n){let e;if("string"==typeof n){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");e=this.decodeString(n),e.type===u.BINARY_EVENT||e.type===u.BINARY_ACK?(this.reconstructor=new Re(e),0===e.attachments&&super.emitReserved("decoded",e)):super.emitReserved("decoded",e)}else{if(!it(n)&&!n.base64)throw new Error("Unknown type: "+n);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");e=this.reconstructor.takeBinaryData(n),e&&(this.reconstructor=null,super.emitReserved("decoded",e))}}decodeString(n){let e=0;const s={type:Number(n.charAt(0))};if(void 0===u[s.type])throw new Error("unknown packet type "+s.type);if(s.type===u.BINARY_EVENT||s.type===u.BINARY_ACK){const r=e+1;for(;"-"!==n.charAt(++e)&&e!=n.length;);const l=n.substring(r,e);if(l!=Number(l)||"-"!==n.charAt(e))throw new Error("Illegal attachments");s.attachments=Number(l)}if("/"===n.charAt(e+1)){const r=e+1;for(;++e&&","!==n.charAt(e)&&e!==n.length;);s.nsp=n.substring(r,e)}else s.nsp="/";const o=n.charAt(e+1);if(""!==o&&Number(o)==o){const r=e+1;for(;++e;){const l=n.charAt(e);if(null==l||Number(l)!=l){--e;break}if(e===n.length)break}s.id=Number(n.substring(r,e+1))}if(n.charAt(++e)){const r=this.tryParse(n.substr(e));if(!rt.isPayloadValid(s.type,r))throw new Error("invalid payload");s.data=r}return s}tryParse(n){try{return JSON.parse(n,this.reviver)}catch(e){return!1}}static isPayloadValid(n,e){switch(n){case u.CONNECT:return"object"==typeof e;case u.DISCONNECT:return void 0===e;case u.CONNECT_ERROR:return"string"==typeof e||"object"==typeof e;case u.EVENT:case u.BINARY_EVENT:return Array.isArray(e)&&e.length>0;case u.ACK:case u.BINARY_ACK:return Array.isArray(e)}}destroy(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}class Re{constructor(n){this.packet=n,this.buffers=[],this.reconPack=n}takeBinaryData(n){if(this.buffers.push(n),this.buffers.length===this.reconPack.attachments){const e=Ie(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function b(i,n,e){return i.on(n,e),function(){i.off(n,e)}}const Ue=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class at extends p{constructor(n,e,s){super(),this.connected=!1,this.receiveBuffer=[],this.sendBuffer=[],this.ids=0,this.acks={},this.flags={},this.io=n,this.nsp=e,s&&s.auth&&(this.auth=s.auth),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const n=this.io;this.subs=[b(n,"open",this.onopen.bind(this)),b(n,"packet",this.onpacket.bind(this)),b(n,"error",this.onerror.bind(this)),b(n,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...n){return n.unshift("message"),this.emit.apply(this,n),this}emit(n,...e){if(Ue.hasOwnProperty(n))throw new Error('"'+n.toString()+'" is a reserved event name');e.unshift(n);const s={type:u.EVENT,data:e,options:{}};if(s.options.compress=!1!==this.flags.compress,"function"==typeof e[e.length-1]){const l=this.ids++,h=e.pop();this._registerAckCallback(l,h),s.id=l}return this.flags.volatile&&(!(this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable)||!this.connected)||(this.connected?(this.notifyOutgoingListeners(s),this.packet(s)):this.sendBuffer.push(s)),this.flags={},this}_registerAckCallback(n,e){const s=this.flags.timeout;if(void 0===s)return void(this.acks[n]=e);const o=this.io.setTimeoutFn(()=>{delete this.acks[n];for(let r=0;r<this.sendBuffer.length;r++)this.sendBuffer[r].id===n&&this.sendBuffer.splice(r,1);e.call(this,new Error("operation has timed out"))},s);this.acks[n]=(...r)=>{this.io.clearTimeoutFn(o),e.apply(this,[null,...r])}}packet(n){n.nsp=this.nsp,this.io._packet(n)}onopen(){"function"==typeof this.auth?this.auth(n=>{this.packet({type:u.CONNECT,data:n})}):this.packet({type:u.CONNECT,data:this.auth})}onerror(n){this.connected||this.emitReserved("connect_error",n)}onclose(n,e){this.connected=!1,delete this.id,this.emitReserved("disconnect",n,e)}onpacket(n){if(n.nsp===this.nsp)switch(n.type){case u.CONNECT:n.data&&n.data.sid?this.onconnect(n.data.sid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case u.EVENT:case u.BINARY_EVENT:this.onevent(n);break;case u.ACK:case u.BINARY_ACK:this.onack(n);break;case u.DISCONNECT:this.ondisconnect();break;case u.CONNECT_ERROR:this.destroy();const s=new Error(n.data.message);s.data=n.data.data,this.emitReserved("connect_error",s)}}onevent(n){const e=n.data||[];null!=n.id&&e.push(this.ack(n.id)),this.connected?this.emitEvent(e):this.receiveBuffer.push(Object.freeze(e))}emitEvent(n){if(this._anyListeners&&this._anyListeners.length){const e=this._anyListeners.slice();for(const s of e)s.apply(this,n)}super.emit.apply(this,n)}ack(n){const e=this;let s=!1;return function(...o){s||(s=!0,e.packet({type:u.ACK,id:n,data:o}))}}onack(n){const e=this.acks[n.id];"function"==typeof e&&(e.apply(this,n.data),delete this.acks[n.id])}onconnect(n){this.id=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(n=>this.emitEvent(n)),this.receiveBuffer=[],this.sendBuffer.forEach(n=>{this.notifyOutgoingListeners(n),this.packet(n)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(n=>n()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:u.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(n){return this.flags.compress=n,this}get volatile(){return this.flags.volatile=!0,this}timeout(n){return this.flags.timeout=n,this}onAny(n){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(n),this}prependAny(n){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(n),this}offAny(n){if(!this._anyListeners)return this;if(n){const e=this._anyListeners;for(let s=0;s<e.length;s++)if(n===e[s])return e.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(n){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(n),this}prependAnyOutgoing(n){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(n),this}offAnyOutgoing(n){if(!this._anyOutgoingListeners)return this;if(n){const e=this._anyOutgoingListeners;for(let s=0;s<e.length;s++)if(n===e[s])return e.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(n){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const e=this._anyOutgoingListeners.slice();for(const s of e)s.apply(this,n.data)}}}function L(i){this.ms=(i=i||{}).min||100,this.max=i.max||1e4,this.factor=i.factor||2,this.jitter=i.jitter>0&&i.jitter<=1?i.jitter:0,this.attempts=0}L.prototype.duration=function(){var i=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var n=Math.random(),e=Math.floor(n*this.jitter*i);i=0==(1&Math.floor(10*n))?i-e:i+e}return 0|Math.min(i,this.max)},L.prototype.reset=function(){this.attempts=0},L.prototype.setMin=function(i){this.ms=i},L.prototype.setMax=function(i){this.max=i},L.prototype.setJitter=function(i){this.jitter=i};class V extends p{constructor(n,e){var s;super(),this.nsps={},this.subs=[],n&&"object"==typeof n&&(e=n,n=void 0),(e=e||{}).path=e.path||"/socket.io",this.opts=e,J(this,e),this.reconnection(!1!==e.reconnection),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(s=e.randomizationFactor)&&void 0!==s?s:.5),this.backoff=new L({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this._readyState="closed",this.uri=n;const o=e.parser||a;this.encoder=new o.Encoder,this.decoder=new o.Decoder,this._autoConnect=!1!==e.autoConnect,this._autoConnect&&this.open()}reconnection(n){return arguments.length?(this._reconnection=!!n,this):this._reconnection}reconnectionAttempts(n){return void 0===n?this._reconnectionAttempts:(this._reconnectionAttempts=n,this)}reconnectionDelay(n){var e;return void 0===n?this._reconnectionDelay:(this._reconnectionDelay=n,null===(e=this.backoff)||void 0===e||e.setMin(n),this)}randomizationFactor(n){var e;return void 0===n?this._randomizationFactor:(this._randomizationFactor=n,null===(e=this.backoff)||void 0===e||e.setJitter(n),this)}reconnectionDelayMax(n){var e;return void 0===n?this._reconnectionDelayMax:(this._reconnectionDelayMax=n,null===(e=this.backoff)||void 0===e||e.setMax(n),this)}timeout(n){return arguments.length?(this._timeout=n,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(n){if(~this._readyState.indexOf("open"))return this;this.engine=new Tt(this.uri,this.opts);const e=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const o=b(e,"open",function(){s.onopen(),n&&n()}),r=b(e,"error",l=>{s.cleanup(),s._readyState="closed",this.emitReserved("error",l),n?n(l):s.maybeReconnectOnOpen()});if(!1!==this._timeout){const l=this._timeout;0===l&&o();const h=this.setTimeoutFn(()=>{o(),e.close(),e.emit("error",new Error("timeout"))},l);this.opts.autoUnref&&h.unref(),this.subs.push(function(){clearTimeout(h)})}return this.subs.push(o),this.subs.push(r),this}connect(n){return this.open(n)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const n=this.engine;this.subs.push(b(n,"ping",this.onping.bind(this)),b(n,"data",this.ondata.bind(this)),b(n,"error",this.onerror.bind(this)),b(n,"close",this.onclose.bind(this)),b(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(n){try{this.decoder.add(n)}catch(e){this.onclose("parse error",e)}}ondecoded(n){wt(()=>{this.emitReserved("packet",n)},this.setTimeoutFn)}onerror(n){this.emitReserved("error",n)}socket(n,e){let s=this.nsps[n];return s||(s=new at(this,n,e),this.nsps[n]=s),s}_destroy(n){const e=Object.keys(this.nsps);for(const s of e)if(this.nsps[s].active)return;this._close()}_packet(n){const e=this.encoder.encode(n);for(let s=0;s<e.length;s++)this.engine.write(e[s],n.options)}cleanup(){this.subs.forEach(n=>n()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(n,e){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",n,e),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const n=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const e=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn(()=>{n.skipReconnect||(this.emitReserved("reconnect_attempt",n.backoff.attempts),!n.skipReconnect&&n.open(o=>{o?(n._reconnecting=!1,n.reconnect(),this.emitReserved("reconnect_error",o)):n.onreconnect()}))},e);this.opts.autoUnref&&s.unref(),this.subs.push(function(){clearTimeout(s)})}}onreconnect(){const n=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",n)}}const I={};function O(i,n){"object"==typeof i&&(n=i,i=void 0);const e=function Ze(i,n="",e){let s=i;e=e||"undefined"!=typeof location&&location,null==i&&(i=e.protocol+"//"+e.host),"string"==typeof i&&("/"===i.charAt(0)&&(i="/"===i.charAt(1)?e.protocol+i:e.host+i),/^(https?|wss?):\/\//.test(i)||(i=void 0!==e?e.protocol+"//"+i:"https://"+i),s=nt(i)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";const r=-1!==s.host.indexOf(":")?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+r+":"+s.port+n,s.href=s.protocol+"://"+r+(e&&e.port===s.port?"":":"+s.port),s}(i,(n=n||{}).path||"/socket.io"),s=e.source,o=e.id;let d;return n.forceNew||n["force new connection"]||!1===n.multiplex||I[o]&&e.path in I[o].nsps?d=new V(s,n):(I[o]||(I[o]=new V(s,n)),d=I[o]),e.query&&!n.query&&(n.query=e.queryKey),d.socket(e.path,n)}Object.assign(O,{Manager:V,Socket:at,io:O,connect:O});var qe=c(520);let Je=(()=>{class i{constructor(e){this.http=e}getInboxData(){return this.http.get(`${C.N.endPointUrl}/user/travelling/chat/inbox`)}fetchChatHistory(e,s){return this.http.get(`${C.N.endPointUrl}/user/travelling/chat/chat-history/${e}?booking_id=${s}`)}uploadChatImage(e){return this.http.put(`${C.N.endPointUrl}/user/travelling/chat/upload-image`,e)}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(qe.eN))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var Fe=c(6010),Ye=c(9592),j=c(4239),Qe=c(9113),Lt=c(1894),He=c(5181),Ve=c(2683),je=c(3087),lt=c(1047),z=c(3075),Ke=c(9590);const We=["scrollMe"];function $e(i,n){1&i&&t._UZ(0,"img",35)}function Xe(i,n){if(1&i&&t._UZ(0,"img",36),2&i){const e=t.oxw().$implicit;t.Q6J("src",null==e||null==e.receiver?null:e.receiver.avatar,t.LSH)}}function Ge(i,n){1&i&&(t.TgZ(0,"span"),t._uU(1,"...."),t.qZA())}function tn(i,n){if(1&i&&(t.TgZ(0,"span",37),t._uU(1),t.ALo(2,"slice"),t.YNc(3,Ge,2,0,"span",38),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",t.Dn7(2,2,null==e?null:e.message,0,30)," "),t.xp6(2),t.Q6J("ngIf",(null==e||null==e.message?null:e.message.length)>30)}}function en(i,n){1&i&&(t.TgZ(0,"span",37),t._uU(1," Photo "),t.qZA())}function nn(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"li",26),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw(4).openChat(r)}),t.TgZ(1,"div",27),t.YNc(2,$e,1,0,"img",28),t.YNc(3,Xe,1,1,"img",29),t.qZA(),t.TgZ(4,"div",30)(5,"span",31),t._uU(6),t.qZA(),t.YNc(7,tn,4,6,"span",32),t.YNc(8,en,2,0,"span",32),t.TgZ(9,"span",33),t._uU(10),t.ALo(11,"translate"),t.TgZ(12,"span"),t._uU(13),t.ALo(14,"date"),t.qZA(),t._uU(15," - "),t.TgZ(16,"span"),t._uU(17),t.ALo(18,"date"),t.qZA(),t.TgZ(19,"span",34)(20,"span"),t._uU(21),t.ALo(22,"date"),t.qZA()()()()()}if(2&i){const e=n.$implicit,s=t.oxw(4);t.xp6(2),t.Q6J("ngIf",!(null!=e&&null!=e.receiver&&e.receiver.avatar)),t.xp6(1),t.Q6J("ngIf",null==e||null==e.receiver?null:e.receiver.avatar),t.xp6(3),t.Oqu(null==e||null==e.receiver?null:e.receiver.first_name),t.xp6(1),t.Q6J("ngIf",!s.checkMessage(null==e?null:e.message)),t.xp6(1),t.Q6J("ngIf",s.checkMessage(null==e?null:e.message)),t.xp6(2),t.hij(" ",t.lcZ(11,9,"Chat.Booking")," : "),t.xp6(3),t.Oqu(t.xi3(14,11,null==e||null==e.booking?null:e.booking.booked_from,"shortDate")),t.xp6(4),t.Oqu(t.xi3(18,14,null==e||null==e.booking?null:e.booking.booked_to,"shortDate")),t.xp6(4),t.Oqu(t.xi3(22,17,null==e?null:e.created_at,"shortDate"))}}function sn(i,n){if(1&i&&(t.TgZ(0,"div",23)(1,"ul",24),t.YNc(2,nn,23,20,"li",25),t.qZA()()),2&i){const e=t.oxw(3);t.xp6(2),t.Q6J("ngForOf",e.inboxData)}}function on(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"div",39)(1,"app-empty-state",40),t.NdJ("btnClicked",function(){return t.CHM(e),t.oxw(3).onBrowseBtnClicked()}),t.qZA()()}if(2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("title",e.emptyData.title)("text",e.emptyData.text)("icon",e.emptyData.icon)("withBtn",e.emptyData.withBtn)("btnText",e.emptyData.btnText)}}const K=function(){return{span:24}},rn=function(){return{span:6}};function an(i,n){if(1&i&&(t.TgZ(0,"div",19)(1,"div",20)(2,"h4"),t._uU(3),t.ALo(4,"translate"),t.qZA()(),t.YNc(5,sn,3,1,"div",21),t.YNc(6,on,2,5,"div",22),t.qZA()),2&i){const e=t.oxw(2);t.Q6J("nzXs",t.DdM(7,K))("nzLg",t.DdM(8,rn)),t.xp6(3),t.Oqu(t.lcZ(4,5,"Chat.Messages")),t.xp6(2),t.Q6J("ngIf",null==e.inboxData?null:e.inboxData.length),t.xp6(1),t.Q6J("ngIf",!(null!=e.inboxData&&e.inboxData.length||e.loading))}}function ln(i,n){if(1&i&&(t.TgZ(0,"h2"),t._uU(1),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.AsE(" ",null==e.bookingData||null==e.bookingData.traveller?null:e.bookingData.traveller.first_name," ",null==e.bookingData||null==e.bookingData.traveller?null:e.bookingData.traveller.last_name," ")}}function cn(i,n){if(1&i&&(t.TgZ(0,"h2"),t._uU(1),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.AsE(" ",null==e.bookingData||null==e.bookingData.host?null:e.bookingData.host.first_name," ",null==e.bookingData||null==e.bookingData.host?null:e.bookingData.host.last_name," ")}}function un(i,n){1&i&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Chat.HideBookingDetails")))}function hn(i,n){1&i&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Chat.ShowBookingDetails")))}function pn(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"div",41),t._UZ(1,"span",42),t.TgZ(2,"div",43)(3,"div",44),t.YNc(4,ln,2,2,"h2",38),t.YNc(5,cn,2,2,"h2",38),t.TgZ(6,"span",45),t._uU(7),t.ALo(8,"translate"),t.TgZ(9,"span"),t._uU(10),t.ALo(11,"date"),t.qZA(),t._uU(12," - "),t.TgZ(13,"span"),t._uU(14),t.ALo(15,"date"),t.qZA()()(),t.TgZ(16,"div",46)(17,"span",47),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).openShowDetails()}),t.YNc(18,un,3,3,"span",38),t.YNc(19,hn,3,3,"span",38),t.qZA(),t.TgZ(20,"span",48),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).openDetailsForMobile()}),t.TgZ(21,"span"),t._uU(22),t.ALo(23,"translate"),t.qZA()()()()()}if(2&i){const e=t.oxw(2);t.xp6(4),t.Q6J("ngIf",e.userId===(null==e.bookingData||null==e.bookingData.host?null:e.bookingData.host.id)),t.xp6(1),t.Q6J("ngIf",e.userId!=(null==e.bookingData||null==e.bookingData.host?null:e.bookingData.host.id)),t.xp6(2),t.hij(" ",t.lcZ(8,8,"Chat.Booking")," : "),t.xp6(3),t.Oqu(t.xi3(11,10,null==e.bookingData?null:e.bookingData.booked_from,"shortDate")),t.xp6(4),t.Oqu(t.xi3(15,13,null==e.bookingData?null:e.bookingData.booked_to,"shortDate")),t.xp6(4),t.Q6J("ngIf",e.isShowDetails),t.xp6(1),t.Q6J("ngIf",!e.isShowDetails),t.xp6(3),t.Oqu(t.lcZ(23,16,"Chat.ShowBookingDetails"))}}function dn(i,n){1&i&&t._UZ(0,"img",59)}function gn(i,n){if(1&i&&t._UZ(0,"img",60),2&i){const e=t.oxw().$implicit;t.Q6J("src",null==e||null==e.sender?null:e.sender.avatar,t.LSH)}}function _n(i,n){if(1&i&&(t.TgZ(0,"div",61)(1,"span",62),t._uU(2),t.ALo(3,"date"),t.qZA(),t.TgZ(4,"span",31),t._uU(5),t.qZA()()),2&i){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(t.xi3(3,2,null==e?null:e.created_at,"d, MMM, y, h:mm a")),t.xp6(3),t.Oqu(null==e||null==e.sender?null:e.sender.first_name)}}function fn(i,n){if(1&i&&(t.TgZ(0,"div",61)(1,"span",31),t._uU(2),t.qZA(),t.TgZ(3,"span",62),t._uU(4),t.ALo(5,"date"),t.qZA()()),2&i){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(null==e||null==e.sender?null:e.sender.first_name),t.xp6(2),t.Oqu(t.xi3(5,2,null==e?null:e.created_at,"d, MMM, y, h:mm a"))}}function mn(i,n){if(1&i&&(t.TgZ(0,"span",30),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(null==e?null:e.message)}}function vn(i,n){if(1&i&&(t.TgZ(0,"span",30),t._UZ(1,"img",63),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("src",null==e?null:e.message,t.LSH)}}function yn(i,n){if(1&i&&(t.TgZ(0,"li",52)(1,"div",53),t.YNc(2,dn,1,0,"img",54),t.YNc(3,gn,1,1,"img",55),t.YNc(4,_n,6,5,"div",56),t.YNc(5,fn,6,5,"div",56),t.qZA(),t.TgZ(6,"div",57),t.YNc(7,mn,2,1,"span",58),t.YNc(8,vn,2,1,"span",58),t.qZA()()),2&i){const e=n.$implicit,s=t.oxw(3);t.Q6J("ngClass",s.userId===(null==e?null:e.sender_id)?"sender":"align-items-end"),t.xp6(2),t.Q6J("ngIf",!(null!=e&&null!=e.sender&&e.sender.avatar)),t.xp6(1),t.Q6J("ngIf",null==e||null==e.sender?null:e.sender.avatar),t.xp6(1),t.Q6J("ngIf",s.userId===(null==e?null:e.sender_id)),t.xp6(1),t.Q6J("ngIf",s.userId!=(null==e?null:e.sender_id)),t.xp6(2),t.Q6J("ngIf","MESSAGE"===(null==e?null:e.type)),t.xp6(1),t.Q6J("ngIf","IMAGE"===(null==e?null:e.type))}}function bn(i,n){1&i&&(t.TgZ(0,"li",64)(1,"div",65),t._UZ(2,"div",66)(3,"div",61),t.qZA(),t._UZ(4,"div",67),t.qZA())}function xn(i,n){if(1&i&&(t.TgZ(0,"ul",49),t.YNc(1,yn,9,7,"li",50),t.YNc(2,bn,5,0,"li",51),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.messagesData),t.xp6(1),t.Q6J("ngIf",e.uploadImageLoading)}}function Cn(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"div",68)(1,"app-empty-state",40),t.NdJ("btnClicked",function(){return t.CHM(e),t.oxw(2).onBrowseBtnClicked()}),t.qZA()()}if(2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("title",e.emptyMessagesData.title)("text",e.emptyMessagesData.text)("icon",e.emptyMessagesData.icon)("withBtn",e.emptyMessagesData.withBtn)("btnText",e.emptyMessagesData.btnText)}}function kn(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"i",69),t.NdJ("click",function(){return t.CHM(e),t.MAs(2).click()}),t.qZA(),t.TgZ(1,"input",70,71),t.NdJ("change",function(o){return t.CHM(e),t.oxw(2).onSelectImage(o)}),t.qZA()}}function Mn(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"i",72),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).sendMessage()}),t.qZA()}}const St=function(){return{span:0}},On=function(){return{span:7}};function Pn(i,n){if(1&i&&(t.TgZ(0,"div",73),t._UZ(1,"app-details-booking",74),t.qZA()),2&i){const e=t.oxw(2);t.Q6J("nzXs",t.DdM(5,St))("nzMd",t.DdM(6,St))("nzLg",t.DdM(7,On)),t.xp6(1),t.Q6J("priceDetails",e.bookingPriceData)("bookingDetails",e.bookingData)}}const Dn=function(){return{span:22}},wn=function(){return{span:11}};function An(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"section",2)(1,"div",3)(2,"div",4),t.YNc(3,an,7,9,"div",5),t.TgZ(4,"div",6),t.YNc(5,pn,24,18,"div",7),t.TgZ(6,"div",8,9),t.YNc(8,xn,3,2,"ul",10),t.TgZ(9,"div",11),t.YNc(10,Cn,2,5,"div",12),t.qZA()(),t.TgZ(11,"div",13)(12,"nz-input-group",14)(13,"input",15),t.NdJ("ngModelChange",function(o){return t.CHM(e),t.oxw().msg=o})("keyup.enter",function(){return t.CHM(e),t.oxw().sendMessage()}),t.qZA()(),t.YNc(14,kn,3,0,"ng-template",null,16,t.W1O),t.YNc(16,Mn,1,0,"ng-template",null,17,t.W1O),t.qZA()(),t.YNc(18,Pn,2,8,"div",18),t.qZA()()()}if(2&i){const e=t.MAs(7),s=t.MAs(15),o=t.MAs(17),r=t.oxw();t.xp6(1),t.Q6J("nzXs",t.DdM(14,K))("nzLg",t.DdM(15,Dn)),t.xp6(2),t.Q6J("ngIf",r.isListMessages),t.xp6(1),t.Q6J("nzXs",t.DdM(16,K))("nzLg",t.DdM(17,wn))("nzMd",t.DdM(18,K)),t.xp6(1),t.Q6J("ngIf",r.bookingData),t.xp6(1),t.Q6J("scrollTop",e.scrollHeight),t.xp6(2),t.Q6J("ngIf",null==r.messagesData?null:r.messagesData.length),t.xp6(2),t.Q6J("ngIf",!(null!=r.messagesData&&r.messagesData.length)),t.xp6(2),t.Q6J("nzSuffix",o)("nzPrefix",s),t.xp6(1),t.Q6J("ngModel",r.msg),t.xp6(5),t.Q6J("ngIf",r.isShowDetails&&!r.isCollapsedModelDetails)}}function Tn(i,n){1&i&&t._UZ(0,"span",78)}function Zn(i,n){if(1&i&&(t.TgZ(0,"div",75),t.YNc(1,Tn,1,0,"ng-template",null,76,t.W1O),t._UZ(3,"nz-spin",77),t.qZA()),2&i){const e=t.MAs(2);t.xp6(3),t.Q6J("nzIndicator",e)}}let Bt=(()=>{class i{constructor(e,s,o,r,l,h,d,m,f){this.chatService=e,this.commonService=s,this.translateService=o,this.cookieService=r,this.route=l,this.router=h,this.bookingsService=d,this.modal=m,this.viewContainerRef=f,this.isShowDetails=!1,this.isListMessages=!0,this.isScreenMessages=!0,this.loading=!1,this.inboxData=[],this.msg="",this.messagesData=[],this.userRole=C.N.userRole,this.emptyData={title:"",text:"",icon:"",withBtn:!1,btnText:""},this.emptyMessagesData={title:"",text:"",icon:"",withBtn:!1,btnText:""},this.socket=O(C.N.endPointUrl),this.uploadImageLoading=!1,this.openFirstChat=!1,this.subscriptions=new U.w0}ngOnInit(){this.getBookingFromRoute(),this.getUserData(),this.handleEmptyInboxData(),this.handleEmptyData(),this.receiveMessage()}ngAfterViewInit(){this.onResize()}onResize(){this.innerWidth=window.innerWidth,this.isCollapsedModelDetails=!(this.innerWidth>768)}getUserData(){var e;this.cookieService.get("userData")&&(this.userId=null===(e=JSON.parse(this.cookieService.get("userData")))||void 0===e?void 0:e.id,this.fetchInboxData(),this.getBookingId(),this.socketConnect())}checkMessage(e){return/(https?:\/\/)?(www\.)[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,4}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)|(https?:\/\/)?(www\.)?(?!ww)[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,4}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/.test(e)}getBookingFromRoute(){this.route.paramMap.subscribe(e=>{var s,o;(null===(s=null==e?void 0:e.params)||void 0===s?void 0:s.id)?(this.bookingId=null===(o=null==e?void 0:e.params)||void 0===o?void 0:o.id,this.fetchBookingData()):this.openFirstChat=!0})}getChatHistory(e,s){this.subscriptions.add(this.chatService.fetchChatHistory(e,s).subscribe({next:o=>{var r;(null==o?void 0:o.successful)&&(this.messagesData=null===(r=null==o?void 0:o.data)||void 0===r?void 0:r.messages.reverse())}}))}getBookingId(){this.route.paramMap.subscribe(e=>{var s,o;(null===(s=null==e?void 0:e.params)||void 0===s?void 0:s.id)&&(this.bookingId=null===(o=null==e?void 0:e.params)||void 0===o?void 0:o.id,this.bookingId&&this.fetchBookingData())})}fetchBookingData(){this.loading=!0;const e="HOST"===this.userRole?this.bookingsService.getHostBookingDetails(this.bookingId):this.bookingsService.getBookingDetails(this.bookingId);this.subscriptions.add(e.subscribe({next:s=>{var o,r,l,h,d,m,f,M,v,y;this.bookingData=null===(o=null==s?void 0:s.data)||void 0===o?void 0:o.booking,this.bookingPriceData=null===(r=null==s?void 0:s.data)||void 0===r?void 0:r.priceDetails,this.receiverId=this.userId===(null===(h=null===(l=this.bookingData)||void 0===l?void 0:l.host)||void 0===h?void 0:h.id)?null===(m=null===(d=this.bookingData)||void 0===d?void 0:d.traveller)||void 0===m?void 0:m.id:null===(M=null===(f=this.bookingData)||void 0===f?void 0:f.host)||void 0===M?void 0:M.id,this.loading=!1,this.bookingId=null===(y=null===(v=null==s?void 0:s.data)||void 0===v?void 0:v.booking)||void 0===y?void 0:y.id,this.getChatHistory(this.receiverId,this.bookingId),this.isShowDetails=!0},error:s=>{this.loading=!1}}))}fetchInboxData(){this.loading=!0,this.subscriptions.add(this.chatService.getInboxData().subscribe({next:e=>{var s,o,r,l,h,d,m,f,M,v,y;this.loading=!1,this.inboxData=null===(s=null==e?void 0:e.data)||void 0===s?void 0:s.allInbox,(null===(o=this.inboxData)||void 0===o?void 0:o.length)&&(this.receiverId=this.inboxData[0].is_me?null===(r=this.inboxData[0])||void 0===r?void 0:r.receiver_id:null===(l=this.inboxData[0])||void 0===l?void 0:l.sender_id,this.bookingId=null===(d=null===(h=this.inboxData[0])||void 0===h?void 0:h.booking)||void 0===d?void 0:d.id,(null===(m=this.inboxData)||void 0===m?void 0:m.length)&&this.openFirstChat&&(this.getChatHistory(this.inboxData[0].is_me?null===(f=this.inboxData[0])||void 0===f?void 0:f.receiver_id:null===(M=this.inboxData[0])||void 0===M?void 0:M.sender_id,null===(y=null===(v=this.inboxData[0])||void 0===v?void 0:v.booking)||void 0===y?void 0:y.id),this.fetchBookingData()))},error:e=>{var s;this.loading=!1,this.commonService.showErrorAlert(this.translateService.instant("General.Error"),null===(s=null==e?void 0:e.error)||void 0===s?void 0:s.message)}}))}handleEmptyData(){this.emptyMessagesData={title:this.translateService.instant("General.SayHi"),text:"",icon:"assets/imgs/hi-icon.png",withBtn:!1,btnText:this.translateService.instant("General.Browse")}}handleEmptyInboxData(){this.emptyData={title:this.translateService.instant("General.NoData"),text:this.translateService.instant("General.NoMessages"),icon:"https://gw.alipayobjects.com/zos/antfincdn/ZHrcdLPrvN/empty.svg",withBtn:!1,btnText:this.translateService.instant("General.Browse")}}onBrowseBtnClicked(){this.router.navigateByUrl("/")}onSelectImage(e){this.uploadChatImage(e.target.files[0])}uploadChatImage(e){this.uploadImageLoading=!0;const s=new FormData;s.set("image",e),this.subscriptions.add(this.chatService.uploadChatImage(s).subscribe({next:o=>{var r;this.uploadImageLoading=!1,this.msg=null===(r=o.data)||void 0===r?void 0:r.url,this.sendMessage("IMAGE")},error:o=>{var r;this.uploadImageLoading=!1,this.commonService.showErrorAlert(this.translateService.instant("General.Error"),null===(r=null==o?void 0:o.error)||void 0===r?void 0:r.message)}}))}socketConnect(){var e;null===(e=this.socket)||void 0===e||e.on("connected",(s,o)=>{o({user_id:this.userId})})}sendMessage(e="MESSAGE"){let s={receiver_id:this.receiverId,type:e,booking_id:this.bookingId,message:this.msg};""!=s.message&&this.socket.emit("sendMessage",s,o=>{this.msg=""})}receiveMessage(){this.socket.on("receiveMessage",e=>{this.messagesData.push(e.message)})}openChat(e){var s,o;this.bookingId=null===(s=null==e?void 0:e.booking)||void 0===s?void 0:s.id,this.receiverId=(null==e?void 0:e.is_me)?null==e?void 0:e.receiver_id:null==e?void 0:e.sender_id,this.fetchBookingData(),this.getChatHistory(this.receiverId,null===(o=null==e?void 0:e.booking)||void 0===o?void 0:o.id)}openShowDetails(){this.isShowDetails=!this.isShowDetails}openDetailsForMobile(){this.modal.create({nzTitle:this.translateService.instant("PlaceDetails.BookingDetails"),nzContent:ct,nzViewContainerRef:this.viewContainerRef,nzComponentParams:{priceDetails:this.bookingPriceData,bookingDetails:this.bookingData}})}ngOnDestroy(){this.subscriptions.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(Je),t.Y36(Fe.v),t.Y36(A.sK),t.Y36(Ye.N_),t.Y36(j.gz),t.Y36(j.F0),t.Y36(Qe.F),t.Y36(T.Sf),t.Y36(t.s_b))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-messages-layout"]],viewQuery:function(e,s){if(1&e&&t.Gf(We,5),2&e){let o;t.iGM(o=t.CRH())&&(s.myScrollContainer=o.first)}},hostBindings:function(e,s){1&e&&t.NdJ("resize",function(){return s.myScrollContainer()},!1,t.Jf7)},decls:2,vars:2,consts:[["nz-row","","id","chat",4,"ngIf"],["class","loader-wrapper mt-3",4,"ngIf"],["nz-row","","id","chat"],["nz-col","",1,"mx-auto",3,"nzXs","nzLg"],["nz-row","",1,"layouts"],["nz-col","","class","border-start-0 list-chats",3,"nzXs","nzLg",4,"ngIf"],["nz-col","",1,"border-start-0","chats-screen",3,"nzXs","nzLg","nzMd"],["class","d-flex justify-content-between align-items-center name-chat",4,"ngIf"],[1,"mess",3,"scrollTop"],["scrollMe",""],["class","list-unstyled",4,"ngIf"],[1,"mt-5","mb-5"],["class","empty-state mt-5 mb-5",4,"ngIf"],[1,"input-mess"],[3,"nzSuffix","nzPrefix"],["type","text","nz-input","","placeholder","Type a Message",3,"ngModel","ngModelChange","keyup.enter"],["prefixTemplateUser",""],["suffixTemplateInfo",""],["nz-col","","class","border-start-0 border-end-0","style","overflow-y: scroll",3,"nzXs","nzMd","nzLg",4,"ngIf"],["nz-col","",1,"border-start-0","list-chats",3,"nzXs","nzLg"],[1,"title"],["class","pepole",4,"ngIf"],["class","empty-state mb-5",4,"ngIf"],[1,"pepole"],[1,"pepole-list","list-unstyled"],["class","list-item",3,"click",4,"ngFor","ngForOf"],[1,"list-item",3,"click"],[1,"img-avatar"],["src","assets/imgs/no-user-img.jpg","class","img-fluid","alt","img-avatar",4,"ngIf"],["class","img-fluid","alt","img-avatar",3,"src",4,"ngIf"],[1,"content"],[1,"name"],["class","message",4,"ngIf"],[1,"details-booking","d-block"],[1,"d-block"],["src","assets/imgs/no-user-img.jpg","alt","img-avatar",1,"img-fluid"],["alt","img-avatar",1,"img-fluid",3,"src"],[1,"message"],[4,"ngIf"],[1,"empty-state","mb-5"],[3,"title","text","icon","withBtn","btnText","btnClicked"],[1,"d-flex","justify-content-between","align-items-center","name-chat"],["nz-icon","","nzType","caret-left","nzTheme","outline",1,"d-md-none","d-block","ms-4"],[1,"title","border-bottom-0"],[1,"user-info"],[1,"details-booking"],[1,"show-details"],[1,"details-trigger","trigger-desktop",3,"click"],[1,"details-trigger","trigger-mobile",3,"click"],[1,"list-unstyled"],["class","item-mess d-flex",3,"ngClass",4,"ngFor","ngForOf"],["class","item-mess d-flex image-loading",4,"ngIf"],[1,"item-mess","d-flex",3,"ngClass"],[1,"name-img-wrapper"],["class","user-img","src","assets/imgs/no-user-img.jpg","alt","",4,"ngIf"],["class","user-img","alt","",3,"src",4,"ngIf"],["class","name-date",4,"ngIf"],[1,"content-wrapper"],["class","content",4,"ngIf"],["src","assets/imgs/no-user-img.jpg","alt","",1,"user-img"],["alt","",1,"user-img",3,"src"],[1,"name-date"],[1,"time"],["alt","",3,"src"],[1,"item-mess","d-flex","image-loading"],[1,""],[1,"img"],[1,"img-skelton"],[1,"empty-state","mt-5","mb-5"],["nz-icon","","nzType","link","nzTheme","outline",3,"click"],["type","file",1,"d-none",3,"change"],["imgFile",""],["nz-icon","","nzType","send","nzTheme","outline",3,"click"],["nz-col","",1,"border-start-0","border-end-0",2,"overflow-y","scroll",3,"nzXs","nzMd","nzLg"],[3,"priceDetails","bookingDetails"],[1,"loader-wrapper","mt-3"],["indicatorTemplate",""],["nzSimple","",3,"nzIndicator"],["nz-icon","","nzType","loading"]],template:function(e,s){1&e&&(t.YNc(0,An,19,19,"section",0),t.YNc(1,Zn,4,1,"div",1)),2&e&&(t.Q6J("ngIf",!s.loading),t.xp6(1),t.Q6J("ngIf",s.loading))},directives:[x.O5,Lt.SK,Lt.t3,x.sg,He.s,Ve.w,je.Ls,x.mk,lt.gB,lt.ke,lt.Zp,z.Fj,z.JJ,z.On,ct,Ke.W],pipes:[A.X$,x.OU,x.uU],styles:["#chat[_ngcontent-%COMP%]{position:relative;margin-top:2em;margin-bottom:2em}#chat[_ngcontent-%COMP%]   .layouts[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{max-height:100vh;border:1px solid #e6e6e6;border-bottom:0}#chat[_ngcontent-%COMP%]   .chats-screen[_ngcontent-%COMP%], #chat[_ngcontent-%COMP%]   .list-chats[_ngcontent-%COMP%]{overflow-y:scroll}#chat[_ngcontent-%COMP%]   .name-chat[_ngcontent-%COMP%]{border-bottom:1px solid #e6e6e6}#chat[_ngcontent-%COMP%]   .name-chat[_ngcontent-%COMP%]   .report[_ngcontent-%COMP%]{color:var(--font-danger);text-decoration:underline;cursor:pointer;padding-inline-end:20px}#chat[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{padding:20px 10px;border-bottom:1px solid #e6e6e6;width:100%;display:flex;flex-direction:row;justify-content:space-between;align-items:center}#chat[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{display:inline-block}#chat[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;font-weight:700;line-height:30px;color:var(--bs-dark);margin-bottom:0}#chat[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .show-details[_ngcontent-%COMP%]{display:inline-block;font-size:14px;color:var(--bs-dark);text-align:end}#chat[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .show-details[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;text-decoration:underline;cursor:pointer}#chat[_ngcontent-%COMP%]   .details-booking[_ngcontent-%COMP%]{font-size:10px;color:var(--bs-gray-600)}#chat[_ngcontent-%COMP%]   .details-booking[_ngcontent-%COMP%]   .guest[_ngcontent-%COMP%]{color:var(--bs-blue);font-weight:600}#chat[_ngcontent-%COMP%]   .chats-screen[_ngcontent-%COMP%]   .details-booking[_ngcontent-%COMP%]{font-size:12px}#chat[_ngcontent-%COMP%]   .pepole[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]{cursor:pointer;overflow:auto;height:100%;transition:.3s background-color;padding:15px 10px;border-bottom:1px solid #e6e6e6}#chat[_ngcontent-%COMP%]   .pepole[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]:hover{background-color:#f3f3f3}@media (max-width: 991px){#chat[_ngcontent-%COMP%]   .pepole[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]{padding:15px 10px}}#chat[_ngcontent-%COMP%]   .pepole[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]   .img-avatar[_ngcontent-%COMP%]{display:inline-block;vertical-align:top}#chat[_ngcontent-%COMP%]   .pepole[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]   .img-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:100%;object-fit:fill}#chat[_ngcontent-%COMP%]   .pepole[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:inline-block;width:70%;padding-inline-start:10px}#chat[_ngcontent-%COMP%]   .pepole[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:15px;color:var(--bs-dark);font-weight:500;display:block}#chat[_ngcontent-%COMP%]   .pepole[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{font-size:12px;color:var(--bs-gray-600);display:block}#chat[_ngcontent-%COMP%]   .pepole[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:10px;color:var(--bs-gray-600);font-weight:600}#chat[_ngcontent-%COMP%]   .chats-screen[_ngcontent-%COMP%]{position:relative}#chat[_ngcontent-%COMP%]   .chats-screen[_ngcontent-%COMP%]   .mess[_ngcontent-%COMP%]{padding:30px 30px 40px;min-height:60vh;height:60vh;overflow-y:scroll}#chat[_ngcontent-%COMP%]   .chats-screen[_ngcontent-%COMP%]   .mess[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]{width:100%;margin-bottom:1em;position:sticky}#chat[_ngcontent-%COMP%]   .chats-screen[_ngcontent-%COMP%]   .mess[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{font-size:10px;color:var(--bs-gray-600);display:block;text-align:center;width:100%}#chat[_ngcontent-%COMP%]   .chats-screen[_ngcontent-%COMP%]   .mess[_ngcontent-%COMP%]   .item-mess[_ngcontent-%COMP%]{margin-bottom:20px;flex-direction:column;justify-content:start}#chat[_ngcontent-%COMP%]   .chats-screen[_ngcontent-%COMP%]   .mess[_ngcontent-%COMP%]   .item-mess[_ngcontent-%COMP%]   .name-img-wrapper[_ngcontent-%COMP%], #chat[_ngcontent-%COMP%]   .chats-screen[_ngcontent-%COMP%]   .mess[_ngcontent-%COMP%]   .item-mess[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{width:100%}#chat[_ngcontent-%COMP%]   .chats-screen[_ngcontent-%COMP%]   .mess[_ngcontent-%COMP%]   .item-mess[_ngcontent-%COMP%]   .user-img[_ngcontent-%COMP%]{width:40px;height:40px;display:block;margin-inline-end:13px;border-radius:100%;object-fit:fill;display:inline-block}#chat[_ngcontent-%COMP%]   .chats-screen[_ngcontent-%COMP%]   .mess[_ngcontent-%COMP%]   .item-mess[_ngcontent-%COMP%]   .name-date[_ngcontent-%COMP%]{display:inline-block}#chat[_ngcontent-%COMP%]   .chats-screen[_ngcontent-%COMP%]   .mess[_ngcontent-%COMP%]   .item-mess[_ngcontent-%COMP%]   .name-date[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:var(--bs-dark)}#chat[_ngcontent-%COMP%]   .chats-screen[_ngcontent-%COMP%]   .mess[_ngcontent-%COMP%]   .item-mess[_ngcontent-%COMP%]   .name-date[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{margin-inline-start:8px;margin-inline-end:8px;color:var(--bs-gray-600);font-size:12px}#chat[_ngcontent-%COMP%]   .chats-screen[_ngcontent-%COMP%]   .mess[_ngcontent-%COMP%]   .item-mess[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{margin-top:.5em;display:block;font-size:12px;color:var(--bs-gray-600);width:70%;height:auto;padding-inline-start:10%;word-break:break-all}#chat[_ngcontent-%COMP%]   .chats-screen[_ngcontent-%COMP%]   .mess[_ngcontent-%COMP%]   .item-mess[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:200px;height:300px;object-fit:cover}#chat[_ngcontent-%COMP%]   .chats-screen[_ngcontent-%COMP%]   .mess[_ngcontent-%COMP%]   .input-mess[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;left:0}[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px;border-radius:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#d4d1d1;border-radius:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#a09e9e}  #chat input{width:100%;border:none;outline:none;padding:10px;border-radius:8px;font-size:16px;font-weight:500;margin-block-end:10px}  #chat .ant-input-suffix,   #chat .ant-input-prefix{margin-inline-end:15px}  #chat .ant-input-suffix .anticon svg,   #chat .ant-input-prefix .anticon svg{font-size:22px;color:#b8b8b8}  #chat .ant-input-suffix .anticon{background-color:var(--bs-primary);width:40px;height:40px;border-radius:100%;display:flex;justify-content:center;align-items:center;padding:8px;cursor:pointer}  #chat .ant-input-suffix .anticon svg{font-size:22px;color:#f1f1f1}  #chat .ant-input-affix-wrapper{padding-inline-end:10px;border-radius:8px;margin-block-end:10px;bottom:0;max-width:100%;font-size:12px;border-inline:0}  #chat .ant-input-affix-wrapper:focus{border-color:transparent;box-shadow:none;border-right-width:0!important;outline:0}  #chat .ant-input:focus{border-right-width:0!important}  #chat .ant-input-affix-wrapper>input.ant-input{margin-block-end:0}.sender[_ngcontent-%COMP%]{justify-content:start;direction:rtl;text-align:start}.sender[_ngcontent-%COMP%]   .name-date[_ngcontent-%COMP%]{direction:ltr}.loader-wrapper[_ngcontent-%COMP%]{justify-content:center;text-align:center;min-height:60vh;display:flex;align-items:center}.loader-wrapper[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em}.image-loading[_ngcontent-%COMP%]{flex-direction:column;justify-content:start}.image-loading[_ngcontent-%COMP%]:lang(ar){direction:ltr;text-align:start}.image-loading[_ngcontent-%COMP%]:lang(en){direction:rtl;text-align:start}.image-loading[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{width:40px;height:40px;margin-inline-end:13px;border-radius:100%;background-color:var(--bs-gray-300);display:inline-block;vertical-align:bottom}.image-loading[_ngcontent-%COMP%]   .name-date[_ngcontent-%COMP%]{width:100px;height:15px;background-color:var(--bs-gray-300);display:inline-block}.image-loading[_ngcontent-%COMP%]   .img-skelton[_ngcontent-%COMP%]{margin-top:.5em;width:200px;height:300px;background-color:var(--bs-gray-300);display:block}.trigger-desktop[_ngcontent-%COMP%]{display:block}@media (max-width: 768px){.trigger-desktop[_ngcontent-%COMP%]{display:none}}.trigger-mobile[_ngcontent-%COMP%]{display:none}@media (max-width: 768px){.trigger-mobile[_ngcontent-%COMP%]{display:block}}"]}),i})();const En=[{path:"",component:Bt},{path:":id",component:Bt}];let Ln=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[j.Bz.forChild(En)],j.Bz]}),i})();var Sn=c(8306),Bn=c(3099);class Nt{constructor(n){this.config=n,this.subscribersCounter={},this.eventObservables$={},this.emptyConfig={url:"",options:{}},void 0===n&&(n=this.emptyConfig),this.ioSocket=(O||S)(n.url,n.options)}of(n){this.ioSocket.of(n)}on(n,e){this.ioSocket.on(n,e)}once(n,e){this.ioSocket.once(n,e)}connect(){return this.ioSocket.connect()}disconnect(n){return this.ioSocket.disconnect.apply(this.ioSocket,arguments)}emit(n,...e){return this.ioSocket.emit.apply(this.ioSocket,arguments)}removeListener(n,e){return this.ioSocket.removeListener.apply(this.ioSocket,arguments)}removeAllListeners(n){return this.ioSocket.removeAllListeners.apply(this.ioSocket,arguments)}fromEvent(n){return this.subscribersCounter[n]||(this.subscribersCounter[n]=0),this.subscribersCounter[n]++,this.eventObservables$[n]||(this.eventObservables$[n]=new Sn.y(e=>{const s=o=>{e.next(o)};return this.ioSocket.on(n,s),()=>{this.subscribersCounter[n]--,0===this.subscribersCounter[n]&&(this.ioSocket.removeListener(n,s),delete this.eventObservables$[n])}}).pipe((0,Bn.B)())),this.eventObservables$[n]}fromOneTimeEvent(n){return new Promise(e=>this.once(n,e))}}function Nn(i){return new Nt(i)}const It=new t.OlP("__SOCKET_IO_CONFIG__");let In=(()=>{class i{static forRoot(e){return{ngModule:i,providers:[{provide:It,useValue:e},{provide:Nt,useFactory:Nn,deps:[It]}]}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({}),i})();var zn=c(5326);const Rn={url:C.N.endPointUrl,options:{transports:["websocket"]}};let Un=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[x.ez,Ln,W.P,A.aw,z.u5,z.UX,zn.m,In.forRoot(Rn)]]}),i})()},5181:(zt,R,c)=>{c.d(R,{s:()=>G});var a=c(5e3),S=c(685),x=c(9808),W=c(6042),A=c(2643),U=c(2683),C=c(1062);function t(g,P){if(1&g&&(a.TgZ(0,"h5",3),a._uU(1),a.ALo(2,"translate"),a.qZA(),a.TgZ(3,"p",4),a._uU(4),a.ALo(5,"translate"),a.qZA()),2&g){const _=a.oxw();a.xp6(1),a.Oqu(a.lcZ(2,2,_.title)),a.xp6(3),a.Oqu(a.lcZ(5,4,_.text))}}function $(g,P){if(1&g){const _=a.EpF();a.TgZ(0,"button",7),a.NdJ("click",function(){return a.CHM(_),a.oxw(2).onButtonClicked()}),a._uU(1),a.ALo(2,"translate"),a.qZA()}if(2&g){const _=a.oxw(2);a.xp6(1),a.Oqu(a.lcZ(2,1,_.btnText))}}function T(g,P){if(1&g){const _=a.EpF();a.TgZ(0,"button",8),a.NdJ("click",function(){return a.CHM(_),a.oxw(2).onEditClicked()}),a._uU(1),a.ALo(2,"translate"),a.qZA()}2&g&&(a.xp6(1),a.Oqu(a.lcZ(2,1,"CreateListing.Edit")))}function X(g,P){if(1&g&&(a.YNc(0,$,3,3,"button",5),a.YNc(1,T,3,3,"button",6)),2&g){const _=a.oxw();a.Q6J("ngIf",_.withBtn),a.xp6(1),a.Q6J("ngIf",_.isPublish)}}let G=(()=>{class g{constructor(){this.title="",this.text="",this.icon="",this.btnText="",this.isPublish=!1,this.btnClicked=new a.vpe,this.editClicked=new a.vpe}ngOnInit(){}onButtonClicked(){this.btnClicked.emit()}onEditClicked(){this.editClicked.emit()}}return g.\u0275fac=function(_){return new(_||g)},g.\u0275cmp=a.Xpm({type:g,selectors:[["app-empty-state"]],inputs:{title:"title",text:"text",icon:"icon",withBtn:"withBtn",btnText:"btnText",isPublish:"isPublish"},outputs:{btnClicked:"btnClicked",editClicked:"editClicked"},decls:5,vars:3,consts:[[1,"empty-wrapper","pt-5","pb-5",3,"nzNotFoundImage","nzNotFoundContent","nzNotFoundFooter"],["contentTpl",""],["footerTpl",""],[1,"title"],[1,"description"],["nz-button","","nzType","primary","class","mr-1 ml-1",3,"click",4,"ngIf"],["nz-button","","class","edit-btn mr-1 ml-1",3,"click",4,"ngIf"],["nz-button","","nzType","primary",1,"mr-1","ml-1",3,"click"],["nz-button","",1,"edit-btn","mr-1","ml-1",3,"click"]],template:function(_,Z){if(1&_&&(a.TgZ(0,"nz-empty",0),a.YNc(1,t,6,6,"ng-template",null,1,a.W1O),a.YNc(3,X,2,2,"ng-template",null,2,a.W1O),a.qZA()),2&_){const B=a.MAs(2),tt=a.MAs(4);a.Q6J("nzNotFoundImage",Z.icon?Z.icon:"https://gw.alipayobjects.com/zos/antfincdn/ZHrcdLPrvN/empty.svg")("nzNotFoundContent",B)("nzNotFoundFooter",tt)}},directives:[S.p9,x.O5,W.ix,A.dQ,U.w],pipes:[C.X$],styles:[".title[_ngcontent-%COMP%]{font-weight:600;margin-top:1em;margin-bottom:1em;color:var(--bs-dark)}.description[_ngcontent-%COMP%]{width:50%;margin:auto;color:var(--bs-gray-600)}.edit-btn[_ngcontent-%COMP%]{border-color:var(--bs-gray-300);color:var(--bs-dark);background-color:var(--bs-gray-300)}.mr-1[_ngcontent-%COMP%]{margin-inline-start:5px}.ml-1[_ngcontent-%COMP%]{margin-inline-end:5px}"]}),g})()}}]);