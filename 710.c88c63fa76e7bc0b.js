"use strict";(self.webpackChunkroomz_web_app=self.webpackChunkroomz_web_app||[]).push([[710],{2710:(O,_,i)=>{i.r(_),i.d(_,{AllPropertiesModule:()=>U});var n=i(9808),v=i(5858),g=i(1062),f=i(5326),d=i(4239),C=i(727),t=i(5e3),P=i(2340),x=i(520);let z=(()=>{class o{constructor(e){this.http=e}fetchHostProperties(e){return this.http.get(`${P.N.endPointUrl}/user/hosting/my-properties`,{params:e})}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(x.eN))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var y=i(6010),h=i(1894),r=i(7413),p=i(1711),s=i(5181),m=i(2683),u=i(3087),M=i(9590);const E=function(){return{span:24}},D=function(){return{span:6}},A=function(){return{span:11}};function I(o,l){if(1&o&&(t.TgZ(0,"div",9),t._UZ(1,"app-place-card",10),t.qZA()),2&o){const e=l.$implicit;t.Q6J("nzXs",t.DdM(5,E))("nzLg",t.DdM(6,D))("nzMd",t.DdM(7,A))("nzSm",t.DdM(8,A)),t.xp6(1),t.Q6J("cardData",null==e?null:e.property[0])}}function Z(o,l){if(1&o&&(t.TgZ(0,"div",7),t.YNc(1,I,2,9,"div",8),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.cardsData)}}function S(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"div")(1,"div",11)(2,"nz-pagination",12),t.NdJ("nzPageIndexChange",function(c){return t.CHM(e),t.oxw().pageChanged(c)}),t.qZA()(),t._UZ(3,"div",13),t.qZA()}if(2&o){const e=t.oxw();t.xp6(2),t.Q6J("nzPageIndex",e.propertiesCriteria.page)("nzTotal",e.totalProperties)("nzPageSize",e.propertiesCriteria.pageSize)}}function w(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"div",14)(1,"app-empty-state",15),t.NdJ("btnClicked",function(){return t.CHM(e),t.oxw().onBrowseBtnClicked()}),t.qZA()()}if(2&o){const e=t.oxw();t.xp6(1),t.Q6J("title",e.emptyData.title)("text",e.emptyData.text)("icon",e.emptyData.icon)("withBtn",e.emptyData.withBtn)("btnText",e.emptyData.btnText)}}function B(o,l){1&o&&t._UZ(0,"span",19)}function N(o,l){if(1&o&&(t.TgZ(0,"div",16),t.YNc(1,B,1,0,"ng-template",null,17,t.W1O),t._UZ(3,"nz-spin",18),t.qZA()),2&o){const e=t.MAs(2);t.xp6(3),t.Q6J("nzIndicator",e)}}const L=function(){return{span:23}},T=function(){return{span:20}},F=[{path:"/:id",component:(()=>{class o{constructor(e,a,c,b,Y){this.allPropertiesService=e,this.translateService=a,this.commonService=c,this.router=b,this.route=Y,this.propertiesCriteria={hostId:null,page:1,pageSize:10},this.cardsData=[],this.emptyData={title:"",text:"",icon:"",withBtn:!1,btnText:""},this.subscriptions=new C.w0}ngOnInit(){this.getPropertyId(),this.handleEmptyData()}getPropertyId(){this.route.paramMap.subscribe(e=>{var a,c;(null===(a=null==e?void 0:e.params)||void 0===a?void 0:a.id)&&(this.hostId=null===(c=null==e?void 0:e.params)||void 0===c?void 0:c.id,this.propertiesCriteria.hostId=this.hostId,this.fetchHostProperties())})}handleEmptyData(){this.emptyData={title:this.translateService.instant("General.NoData"),text:this.translateService.instant("General.WishlistBrowse"),icon:"https://gw.alipayobjects.com/zos/antfincdn/ZHrcdLPrvN/empty.svg",withBtn:!0,btnText:this.translateService.instant("General.Browse")}}fetchHostProperties(){this.loading=!0,this.subscriptions.add(this.allPropertiesService.fetchHostProperties(this.propertiesCriteria).subscribe({next:e=>{var a;this.loading=!1,this.cardsData=null==e?void 0:e.favorites.data,this.totalProperties=null==e?void 0:e.favorites.meta.total,(null===(a=this.cardsData)||void 0===a?void 0:a.length)||this.handleEmptyData()},error:e=>{var a;this.loading=!1,this.commonService.showErrorAlert(this.translateService.instant("General.Error"),null===(a=null==e?void 0:e.error)||void 0===a?void 0:a.message)}}))}onBrowseBtnClicked(){this.router.navigate(["/"])}pageChanged(e){this.propertiesCriteria.page=e,this.fetchHostProperties()}ngOnDestroy(){this.subscriptions.unsubscribe()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(z),t.Y36(g.sK),t.Y36(y.v),t.Y36(d.F0),t.Y36(d.gz))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-all-properties"]],decls:12,vars:13,consts:[["nz-row","",1,"all-properties"],["nz-col","",1,"mx-auto",3,"nzXs","nzLg","nzMd"],[1,"title","mb-5"],["class","cards-wrapper","nz-row","","nzJustify","space-between",4,"ngIf"],[4,"ngIf"],["class","empty-state mb-5",4,"ngIf"],["class","loader-wrapper mt-3",4,"ngIf"],["nz-row","","nzJustify","space-between",1,"cards-wrapper"],["class","my-2","nz-col","",3,"nzXs","nzLg","nzMd","nzSm",4,"ngFor","ngForOf"],["nz-col","",1,"my-2",3,"nzXs","nzLg","nzMd","nzSm"],[3,"cardData"],[1,"pagination","justify-content-center","mt-2","mb-2"],[3,"nzPageIndex","nzTotal","nzPageSize","nzPageIndexChange"],[1,"pagination-notifi"],[1,"empty-state","mb-5"],[3,"title","text","icon","withBtn","btnText","btnClicked"],[1,"loader-wrapper","mt-3"],["indicatorTemplate",""],["nzSimple","",3,"nzIndicator"],["nz-icon","","nzType","loading"]],template:function(e,a){1&e&&(t.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"h2")(4,"span"),t._uU(5,"HOST NAME"),t.qZA(),t._uU(6),t.ALo(7,"translate"),t.qZA()(),t.YNc(8,Z,2,1,"div",3),t.YNc(9,S,4,3,"div",4),t.YNc(10,w,2,5,"div",5),t.YNc(11,N,4,1,"div",6),t.qZA()()),2&e&&(t.xp6(1),t.Q6J("nzXs",t.DdM(10,L))("nzLg",t.DdM(11,T))("nzMd",t.DdM(12,T)),t.xp6(5),t.hij(" ",t.lcZ(7,8,"ListingPage.AllProperties"),""),t.xp6(2),t.Q6J("ngIf",a.cardsData.length>0&&!a.loading),t.xp6(1),t.Q6J("ngIf",a.cardsData.length>0&&!a.loading),t.xp6(1),t.Q6J("ngIf",0==a.cardsData.length&&!a.loading),t.xp6(1),t.Q6J("ngIf",a.loading))},directives:[h.SK,h.t3,n.O5,n.sg,r.$,p.dE,s.s,m.w,u.Ls,M.W],pipes:[g.X$],styles:[".all-properties[_ngcontent-%COMP%]{padding:50px 24px 20px}.all-properties[_ngcontent-%COMP%]   .cards-wrapper[_ngcontent-%COMP%]{min-height:50vh}.all-properties[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:22px;font-weight:700;line-height:30px;color:var(--bs-dark)}.all-properties[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--bs-primary)}.all-properties[_ngcontent-%COMP%]   .loader-wrapper[_ngcontent-%COMP%]{justify-content:center;text-align:center;min-height:60vh;display:flex;align-items:center}.all-properties[_ngcontent-%COMP%]   .loader-wrapper[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em}  .all-properties .ant-pagination-next .ant-pagination-item-link,   .all-properties .ant-pagination-prev .ant-pagination-item-link{line-height:0em}  .all-properties .ant-pagination-item a,   .all-properties .ant-pagination-item:focus-visible a,   .all-properties .ant-pagination-item:hover a{text-decoration:none;line-height:1.9em}"]}),o})()}];let J=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[d.Bz.forChild(F)],d.Bz]}),o})(),U=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[n.ez,J,v.P,g.aw,f.m]]}),o})()},5181:(O,_,i)=>{i.d(_,{s:()=>h});var n=i(5e3),v=i(685),g=i(9808),f=i(6042),d=i(2643),C=i(2683),t=i(1062);function P(r,p){if(1&r&&(n.TgZ(0,"h5",3),n._uU(1),n.ALo(2,"translate"),n.qZA(),n.TgZ(3,"p",4),n._uU(4),n.ALo(5,"translate"),n.qZA()),2&r){const s=n.oxw();n.xp6(1),n.Oqu(n.lcZ(2,2,s.title)),n.xp6(3),n.Oqu(n.lcZ(5,4,s.text))}}function x(r,p){if(1&r){const s=n.EpF();n.TgZ(0,"button",7),n.NdJ("click",function(){return n.CHM(s),n.oxw(2).onButtonClicked()}),n._uU(1),n.ALo(2,"translate"),n.qZA()}if(2&r){const s=n.oxw(2);n.xp6(1),n.Oqu(n.lcZ(2,1,s.btnText))}}function z(r,p){if(1&r){const s=n.EpF();n.TgZ(0,"button",8),n.NdJ("click",function(){return n.CHM(s),n.oxw(2).onEditClicked()}),n._uU(1),n.ALo(2,"translate"),n.qZA()}2&r&&(n.xp6(1),n.Oqu(n.lcZ(2,1,"CreateListing.Edit")))}function y(r,p){if(1&r&&(n.YNc(0,x,3,3,"button",5),n.YNc(1,z,3,3,"button",6)),2&r){const s=n.oxw();n.Q6J("ngIf",s.withBtn),n.xp6(1),n.Q6J("ngIf",s.isPublish)}}let h=(()=>{class r{constructor(){this.title="",this.text="",this.icon="",this.btnText="",this.isPublish=!1,this.btnClicked=new n.vpe,this.editClicked=new n.vpe}ngOnInit(){}onButtonClicked(){this.btnClicked.emit()}onEditClicked(){this.editClicked.emit()}}return r.\u0275fac=function(s){return new(s||r)},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-empty-state"]],inputs:{title:"title",text:"text",icon:"icon",withBtn:"withBtn",btnText:"btnText",isPublish:"isPublish"},outputs:{btnClicked:"btnClicked",editClicked:"editClicked"},decls:5,vars:3,consts:[[1,"empty-wrapper","pt-5","pb-5",3,"nzNotFoundImage","nzNotFoundContent","nzNotFoundFooter"],["contentTpl",""],["footerTpl",""],[1,"title"],[1,"description"],["nz-button","","nzType","primary","class","mr-1 ml-1",3,"click",4,"ngIf"],["nz-button","","class","edit-btn mr-1 ml-1",3,"click",4,"ngIf"],["nz-button","","nzType","primary",1,"mr-1","ml-1",3,"click"],["nz-button","",1,"edit-btn","mr-1","ml-1",3,"click"]],template:function(s,m){if(1&s&&(n.TgZ(0,"nz-empty",0),n.YNc(1,P,6,6,"ng-template",null,1,n.W1O),n.YNc(3,y,2,2,"ng-template",null,2,n.W1O),n.qZA()),2&s){const u=n.MAs(2),M=n.MAs(4);n.Q6J("nzNotFoundImage",m.icon?m.icon:"https://gw.alipayobjects.com/zos/antfincdn/ZHrcdLPrvN/empty.svg")("nzNotFoundContent",u)("nzNotFoundFooter",M)}},directives:[v.p9,g.O5,f.ix,d.dQ,C.w],pipes:[t.X$],styles:[".title[_ngcontent-%COMP%]{font-weight:600;margin-top:1em;margin-bottom:1em;color:var(--bs-dark)}.description[_ngcontent-%COMP%]{width:50%;margin:auto;color:var(--bs-gray-600)}.edit-btn[_ngcontent-%COMP%]{border-color:var(--bs-gray-300);color:var(--bs-dark);background-color:var(--bs-gray-300)}.mr-1[_ngcontent-%COMP%]{margin-inline-start:5px}.ml-1[_ngcontent-%COMP%]{margin-inline-end:5px}"]}),r})()}}]);