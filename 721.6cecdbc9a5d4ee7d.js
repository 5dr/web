"use strict";(self.webpackChunkroomz_web_app=self.webpackChunkroomz_web_app||[]).push([[721],{9721:(it,x,i)=>{i.r(x),i.d(x,{ListingModule:()=>et});var c=i(3075),Z=i(8190),d=i(9808),g=i(1062),m=i(4239),b=i(141),w=i(5861),t=i(5e3),l=i(3640),u=i(2683),_=i(1047),h=i(4546),C=i(1894),L=i(5052),f=i(3087),v=i(6042),M=i(2643);const T=function(){return{width:"100%"}};function A(e,a){if(1&e&&t._UZ(0,"img",16),2&e){const n=t.oxw();t.Q6J("src",n.previewImage,t.LSH)("ngStyle",t.DdM(2,T))}}function D(e,a){if(1&e){const n=t.EpF();t.TgZ(0,"div",17)(1,"button",18),t.NdJ("click",function(){return t.CHM(n),t.oxw().closeModal()}),t._uU(2," Claim insurance "),t.qZA()()}}function U(e,a){1&e&&(t._uU(0),t.ALo(1,"translate")),2&e&&t.Oqu(t.lcZ(1,1,"ListingPage.SAR"))}let I=(()=>{class e{constructor(n,o){var r=this;this.fb=n,this.activeModal=o,this.fileList=[{uid:"-1",name:"image.png",status:"done",url:"https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png"}],this.previewImage="",this.previewVisible=!1,this.nameInfo=new t.vpe,this.handlePreview=function(){var p=(0,w.Z)(function*(s){!s.url&&!s.preview&&(s.preview=yield r.getBase64(s.originFileObj)),r.previewImage=s.url||s.preview,r.previewVisible=!0});return function(s){return p.apply(this,arguments)}}()}ngOnInit(){this.initForm()}initForm(){this.form=this.fb.group({name:[null,[c.kI.maxLength(500)]]})}closeModal(){this.activeModal.close()}getBase64(n){return new Promise((o,r)=>{const p=new FileReader;p.readAsDataURL(n),p.onload=()=>o(p.result),p.onerror=s=>r(s)})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(c.qu),t.Y36(l.Lf))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-enter-amount-modal"]],outputs:{nameInfo:"nameInfo"},decls:30,vars:21,consts:[[1,"content-modal"],[3,"nzPrefix"],["type","text","nz-input","","placeholder",""],[1,"alert-price"],[1,"header-title","mt-3"],["nz-form","","nzLayout","vertical",3,"formGroup"],[3,"nzMaxCharacterCount"],["rows","5","formControlName","name","nz-input",""],[1,"clearfix"],["nzAction","https://www.mocky.io/v2/5cc8019d300000980a055e76","nzListType","picture-card",3,"nzFileList","nzShowButton","nzPreview","nzFileListChange"],["nz-icon","","nzType","plus"],[2,"margin-top","8px"],[3,"nzVisible","nzContent","nzFooter","nzOnCancel"],["modalContent",""],["class","d-flex justify-content-center align-items-center",4,"nzModalFooter"],["prefixTemplateUser",""],[3,"src","ngStyle"],[1,"d-flex","justify-content-center","align-items-center"],["nz-button","","nzType","primary",1,"btn-submit","mt-3",3,"click"]],template:function(n,o){if(1&n&&(t.TgZ(0,"div",0)(1,"nz-input-group",1),t._UZ(2,"input",2),t.qZA(),t.TgZ(3,"p",3),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"h5",4),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"form",5)(10,"nz-form-item")(11,"nz-form-control")(12,"nz-textarea-count",6),t._UZ(13,"textarea",7),t.qZA()()()(),t.TgZ(14,"h5",4),t._uU(15),t.ALo(16,"translate"),t.qZA(),t.TgZ(17,"div",8)(18,"nz-upload",9),t.NdJ("nzFileListChange",function(p){return o.fileList=p}),t.TgZ(19,"div"),t._UZ(20,"i",10),t.TgZ(21,"div",11),t._uU(22),t.ALo(23,"translate"),t.qZA()()(),t.TgZ(24,"nz-modal",12),t.NdJ("nzOnCancel",function(){return o.previewVisible=!1}),t.YNc(25,A,1,3,"ng-template",null,13,t.W1O),t.qZA()()(),t.YNc(27,D,3,0,"div",14),t.YNc(28,U,2,3,"ng-template",null,15,t.W1O)),2&n){const r=t.MAs(26),p=t.MAs(29);t.xp6(1),t.Q6J("nzPrefix",p),t.xp6(3),t.Oqu(t.lcZ(5,13,"ListingPage.MaxAmount")),t.xp6(3),t.Oqu(t.lcZ(8,15,"ListingPage.InsuranceJustification")),t.xp6(2),t.Q6J("formGroup",o.form),t.xp6(3),t.Q6J("nzMaxCharacterCount",500),t.xp6(3),t.Oqu(t.lcZ(16,17,"ListingPage.AddPictures")),t.xp6(3),t.Q6J("nzFileList",o.fileList)("nzShowButton",o.fileList.length<8)("nzPreview",o.handlePreview),t.xp6(4),t.Oqu(t.lcZ(23,19,"ListingPage.Upload")),t.xp6(2),t.Q6J("nzVisible",o.previewVisible)("nzContent",r)("nzFooter",null)}},directives:[u.w,_.gB,_.ke,_.Zp,c._Y,c.JL,h.Lr,c.sg,C.SK,h.Nx,C.t3,h.Fd,_.w,c.Fj,c.JJ,c.u,L.FY,f.Ls,l.du,d.PC,l.Uh,v.ix,M.dQ],pipes:[g.X$],styles:[".content-modal[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:none}.content-modal[_ngcontent-%COMP%]   .clearfix[_ngcontent-%COMP%]{border:1px dashed #babdbe;padding:20px 15px}.content-modal[_ngcontent-%COMP%]   .alert-price[_ngcontent-%COMP%]{margin-block-start:10px;color:var(--bs-primary);font-size:12px}.content-modal[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:16px;line-height:38px;color:var(--bs-dark);font-weight:600}.btn-submit[_ngcontent-%COMP%]{border-color:var(--bs-primary)!important;font-size:16px;height:2.5em;color:var(--bs-white)!important;background-color:var(--bs-primary)!important}"]}),e})();function J(e,a){if(1&e){const n=t.EpF();t.TgZ(0,"div",8)(1,"button",9),t.NdJ("click",function(){return t.CHM(n),t.oxw().claim()}),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"button",10),t.NdJ("click",function(){return t.CHM(n),t.oxw().closeModal()}),t._uU(5),t.ALo(6,"translate"),t.qZA()()}2&e&&(t.xp6(2),t.hij(" ",t.lcZ(3,2,"ListingPage.ClaimInsurance")," "),t.xp6(3),t.hij(" ",t.lcZ(6,4,"ListingPage.ReleaseInsurance")," "))}let S=(()=>{class e{constructor(n,o){this.modal=n,this.activeModal=o}ngOnInit(){}closeModal(){this.activeModal.destroy()}claim(){this.closeModal(),this.modal.create({nzTitle:"Enter the amount you want to claim",nzContent:I,nzClosable:!0,nzCancelDisabled:!0,nzKeyboard:!1,nzMaskClosable:!1,nzWidth:"45%",nzOkDisabled:!1})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(l.Sf),t.Y36(l.Lf))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-insurance-modal"]],decls:39,vars:27,consts:[[1,"content-modal"],[1,"desc-insurance"],[1,"mb-3"],[1,"d-flex","align-items-center","details"],[1,"me-4"],[1,"ps-3"],[1,"details"],["class","d-flex justify-content-center align-items-center pb-2",4,"nzModalFooter"],[1,"d-flex","justify-content-center","align-items-center","pb-2"],["nz-button","","nzType","primary",1,"list-btn","mt-3",3,"click"],["nz-button","","nzType","primary",1,"btn-submit","mt-3",3,"click"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"p",1),t._uU(2),t.ALo(3,"translate"),t.TgZ(4,"span"),t._uU(5,'" Name "'),t.qZA(),t._uU(6),t.ALo(7,"translate"),t.TgZ(8,"span"),t._uU(9,'" property name "'),t.qZA(),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"h6",2),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.TgZ(15,"div",3)(16,"p",4),t._uU(17),t.ALo(18,"translate"),t.TgZ(19,"span",5),t._uU(20,"12 may 2022"),t.qZA()(),t.TgZ(21,"p",4),t._uU(22),t.ALo(23,"translate"),t.TgZ(24,"span",5),t._uU(25,"15 may 2022"),t.qZA()()(),t.TgZ(26,"div",6)(27,"p",4),t._uU(28),t.ALo(29,"translate"),t.TgZ(30,"span",5),t._uU(31,"Villa"),t.qZA()(),t.TgZ(32,"p",4),t._uU(33),t.ALo(34,"translate"),t.TgZ(35,"span",5),t._uU(36),t.ALo(37,"translate"),t.qZA()()()(),t.YNc(38,J,7,6,"div",7)),2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,9,"ListingPage.DescInsuranceOne")," "),t.xp6(4),t.hij(" ",t.lcZ(7,11,"ListingPage.foryour")," "),t.xp6(4),t.hij(" ",t.lcZ(11,13,"ListingPage.DescInsuranceTwo")," "),t.xp6(3),t.Oqu(t.lcZ(14,15,"ListingPage.Details")),t.xp6(4),t.hij("",t.lcZ(18,17,"ListingPage.From")," "),t.xp6(5),t.hij("",t.lcZ(23,19,"ListingPage.To")," "),t.xp6(6),t.Oqu(t.lcZ(29,21,"ListingPage.Property")),t.xp6(5),t.hij("",t.lcZ(34,23,"ListingPage.InsurancePrice")," "),t.xp6(3),t.hij("",t.lcZ(37,25,"ListingPage.SAR")," 500"))},directives:[l.Uh,v.ix,M.dQ,u.w],pipes:[g.X$],styles:[".btn-submit[_ngcontent-%COMP%]{border-color:var(--bs-primary)!important;font-size:16px;height:2.5em;color:var(--bs-white)!important;background-color:var(--bs-primary)!important}.list-btn[_ngcontent-%COMP%]{border-color:var(--bs-primary)!important;font-size:16px;height:2.5em;color:var(--bs-primary)!important;background-color:var(--bs-white)!important}.content-modal[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:15px}.content-modal[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;font-weight:500}.content-modal[_ngcontent-%COMP%]   .desc-insurance[_ngcontent-%COMP%]{font-size:14px;color:var(--bs-dark);line-height:18px}.content-modal[_ngcontent-%COMP%]   .desc-insurance[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px}"]}),e})();var j=i(727),z=i(2340),F=i(6010),N=i(3501),k=i(9592),O=i(7484);function Q(e,a){if(1&e&&t._UZ(0,"img",23),2&e){const n=t.oxw(2);t.Q6J("src",null==n.propertyData?null:n.propertyData.cover_photo,t.LSH)}}function Y(e,a){1&e&&t._UZ(0,"img",24)}function q(e,a){if(1&e&&(t.TgZ(0,"div",4)(1,"div",5),t.YNc(2,Q,1,1,"img",6),t.YNc(3,Y,1,0,"img",7),t.qZA(),t.TgZ(4,"div",8)(5,"div",9)(6,"h6",10),t._uU(7),t.qZA(),t.TgZ(8,"p",11),t._UZ(9,"i",12),t.TgZ(10,"span"),t._uU(11),t.qZA()()(),t.TgZ(12,"p",13),t._UZ(13,"span",14),t.TgZ(14,"span",15),t._uU(15),t.qZA()(),t.TgZ(16,"p",13),t._UZ(17,"span",16),t.TgZ(18,"span",15),t._uU(19),t.qZA()(),t.TgZ(20,"div",17)(21,"div",18),t._UZ(22,"i",19),t.TgZ(23,"span",20),t._uU(24),t.qZA(),t.TgZ(25,"span",21),t._uU(26),t.ALo(27,"translate"),t.qZA()(),t.TgZ(28,"div",18),t._UZ(29,"i",22),t.TgZ(30,"span",20),t._uU(31),t.qZA(),t.TgZ(32,"span",21),t._uU(33),t.ALo(34,"translate"),t.qZA()()()()()),2&e){const n=t.oxw();t.xp6(2),t.Q6J("ngIf",null==n.propertyData?null:n.propertyData.cover_photo),t.xp6(1),t.Q6J("ngIf",!(null!=n.propertyData&&n.propertyData.cover_photo)),t.xp6(4),t.Oqu(null==n.propertyData?null:n.propertyData.name),t.xp6(4),t.hij(" ",null==n.propertyData?null:n.propertyData.rate," "),t.xp6(4),t.Oqu(null==n.propertyData?null:n.propertyData.city),t.xp6(4),t.Oqu(null==n.propertyData?null:n.propertyData.location),t.xp6(5),t.Oqu(null==n.propertyData?null:n.propertyData.no_of_bedrooms),t.xp6(2),t.Oqu(t.lcZ(27,10,"PlaceDetails.Bedrooms")),t.xp6(5),t.Oqu(null==n.propertyData?null:n.propertyData.no_of_bathrooms),t.xp6(2),t.Oqu(t.lcZ(34,12,"PlaceDetails.Bathrooms"))}}let E=(()=>{class e{constructor(n){this.router=n}ngOnInit(){}routeReviewListing(){this.router.navigate(["/host/properties/view",this.propertyData.id])}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(m.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-properties-wrapper"]],inputs:{propertyData:"propertyData"},decls:5,vars:1,consts:[[1,"properties-wrapper"],[1,"property-card",3,"click"],[3,"nzDescription"],["descriptionTemplate",""],[1,"body-wrapper"],[1,"property-img-wrapper"],["class","property-img","alt","example",3,"src",4,"ngIf"],["class","property-img","alt","example","src","assets/imgs/booking-card-placeholder.png",4,"ngIf"],[1,"content-wrapper"],[1,"name-rate-row"],[1,"name"],[1,"rate","d-flex","align-items-center"],["nz-icon","","nzType","star","nzTheme","fill"],[1,"data-item"],["nz-icon","","nzType","environment","nzTheme","outline",1,"icon"],[1,"data"],["nz-icon","","nzType","pushpin","nzTheme","outline",1,"icon"],[1,"rooms"],[1,"spec-item"],[1,"fa-solid","fa-bed"],[1,"number"],[1,"type"],[1,"fa-solid","fa-bath"],["alt","example",1,"property-img",3,"src"],["alt","example","src","assets/imgs/booking-card-placeholder.png",1,"property-img"]],template:function(n,o){if(1&n&&(t.TgZ(0,"div",0)(1,"nz-card",1),t.NdJ("click",function(){return o.routeReviewListing()}),t._UZ(2,"nz-card-meta",2),t.qZA(),t.YNc(3,q,35,14,"ng-template",null,3,t.W1O),t.qZA()),2&n){const r=t.MAs(4);t.xp6(2),t.Q6J("nzDescription",r)}},directives:[O.bd,O.l7,d.O5,u.w,f.Ls],pipes:[g.X$],styles:[".properties-wrapper[_ngcontent-%COMP%]{justify-content:center}.property-card[_ngcontent-%COMP%]{padding:15px;border-radius:5px;margin:auto;margin-block-end:20px;width:80%;cursor:pointer}@media (max-width: 768px){.property-card[_ngcontent-%COMP%]{width:100%}}@media (max-width: 575px){.property-card[_ngcontent-%COMP%]{width:100%;padding:8px}}.property-card[_ngcontent-%COMP%]   .body-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:start;align-items:center}.property-card[_ngcontent-%COMP%]   .body-wrapper[_ngcontent-%COMP%]   .property-img-wrapper[_ngcontent-%COMP%]{position:relative;width:40%}.property-card[_ngcontent-%COMP%]   .body-wrapper[_ngcontent-%COMP%]   .property-img-wrapper[_ngcontent-%COMP%]   .property-img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:5px}.property-card[_ngcontent-%COMP%]   .body-wrapper[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{width:60%;padding-inline-start:2%}.property-card[_ngcontent-%COMP%]   .body-wrapper[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .name-rate-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center}.property-card[_ngcontent-%COMP%]   .body-wrapper[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .name-rate-row[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:1.2rem;color:var(--bs-primary);font-weight:600}.property-card[_ngcontent-%COMP%]   .body-wrapper[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .name-rate-row[_ngcontent-%COMP%]   .rate[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#ffc107;padding-inline-end:5px;vertical-align:baseline}.property-card[_ngcontent-%COMP%]   .body-wrapper[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .name-rate-row[_ngcontent-%COMP%]   .rate[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--bs-dark)}.property-card[_ngcontent-%COMP%]   .body-wrapper[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .data-item[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:1rem;color:var(--bs-primary);vertical-align:middle}.property-card[_ngcontent-%COMP%]   .body-wrapper[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .data-item[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]{font-size:1rem;color:var(--bs-dark);margin-inline-start:.5em}.property-card[_ngcontent-%COMP%]   .body-wrapper[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .rooms[_ngcontent-%COMP%]   .spec-item[_ngcontent-%COMP%]{margin-bottom:1em}.property-card[_ngcontent-%COMP%]   .body-wrapper[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .rooms[_ngcontent-%COMP%]   .spec-item[_ngcontent-%COMP%]   .fa-solid[_ngcontent-%COMP%]{font-size:1rem;color:var(--bs-primary);vertical-align:middle}.property-card[_ngcontent-%COMP%]   .body-wrapper[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .rooms[_ngcontent-%COMP%]   .spec-item[_ngcontent-%COMP%]   .number[_ngcontent-%COMP%], .property-card[_ngcontent-%COMP%]   .body-wrapper[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .rooms[_ngcontent-%COMP%]   .spec-item[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]{margin-inline-start:.5em;color:var(--bs-dark)}  .properties-wrapper .property-card .ant-card-body{padding:0!important}.name-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.5em}.name-row[_ngcontent-%COMP%]   .booking-name[_ngcontent-%COMP%]{color:var(--bs-dark);font-weight:700;margin-top:.5em;margin-bottom:.5em}.description[_ngcontent-%COMP%]{font-size:12px;color:var(--bs-gray-700)}@media (max-width: 575px){.description[_ngcontent-%COMP%]{margin:0}}"]}),e})();var B=i(1711),W=i(5181),X=i(9590);function R(e,a){if(1&e&&(t.TgZ(0,"div"),t._UZ(1,"app-properties-wrapper",12),t.qZA()),2&e){const n=a.$implicit;t.xp6(1),t.Q6J("propertyData",n)}}const P=function(){return{span:24}},y=function(){return{span:20}};function H(e,a){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"div",8),t.YNc(2,R,2,1,"div",9),t.TgZ(3,"div",10)(4,"nz-pagination",11),t.NdJ("nzPageIndexChange",function(r){return t.CHM(n),t.oxw().onPageChanged(r)}),t.qZA()()(),t.BQk()}if(2&e){const n=t.oxw();t.xp6(1),t.Q6J("nzXs",t.DdM(8,P))("nzLg",t.DdM(9,y)),t.xp6(1),t.Q6J("ngForOf",n.listingData),t.xp6(2),t.ekj("ant-pagination-rtl","ar"==n.lang),t.Q6J("nzPageIndex",n.filterCriteria.page)("nzTotal",n.totalItems)("nzPageSize",10)}}function V(e,a){if(1&e){const n=t.EpF();t.TgZ(0,"div",13)(1,"app-empty-state",14),t.NdJ("btnClicked",function(){return t.CHM(n),t.oxw().onCreateListingClicked()}),t.qZA()()}if(2&e){const n=t.oxw();t.xp6(1),t.Q6J("title",n.emptyData.title)("text",n.emptyData.text)("icon",n.emptyData.icon)("withBtn",n.emptyData.withBtn)("btnText",n.emptyData.btnText)}}function G(e,a){1&e&&t._UZ(0,"span",18)}function K(e,a){if(1&e&&(t.TgZ(0,"div",15),t.YNc(1,G,1,0,"ng-template",null,16,t.W1O),t._UZ(3,"nz-spin",17),t.qZA()),2&e){const n=t.MAs(2);t.xp6(3),t.Q6J("nzIndicator",n)}}const $=[{path:"",component:(()=>{class e{constructor(n,o,r,p,s,ot){this.modal=n,this.commonService=o,this.translateService=r,this.listingService=p,this.router=s,this.cookieService=ot,this.loading=!1,this.listingData=[],this.emptyData={title:"",text:"",icon:"",withBtn:!1,btnText:""},this.filterCriteria={page:1,pageSize:5},this.subscriptions=new j.w0,this.userRole=z.N.userRole,this.lang=z.N.lang,this.commonService.handleHostPage()}ngOnInit(){this.handleUserPermission()}handleUserPermission(){this.cookieService.get("userData")&&("HOST"!==this.userRole?this.router.navigateByUrl("/"):this.fetchListingData())}handleEmptyData(){this.emptyData={title:this.translateService.instant("General.NoData"),text:this.translateService.instant("General.NoListings"),icon:"https://gw.alipayobjects.com/zos/antfincdn/ZHrcdLPrvN/empty.svg",withBtn:!0,btnText:this.translateService.instant("ListingPage.CreateListing")}}fetchListingData(){this.loading=!0,this.subscriptions.add(this.listingService.getListings(this.filterCriteria).subscribe(n=>{var o,r,p,s;(null==n?void 0:n.successful)&&(this.loading=!1,this.listingData=null===(o=null==n?void 0:n.data)||void 0===o?void 0:o.data,this.totalItems=null===(p=null===(r=null==n?void 0:n.data)||void 0===r?void 0:r.meta)||void 0===p?void 0:p.total,console.log(this.totalItems),(null===(s=this.listingData)||void 0===s?void 0:s.length)||this.handleEmptyData())},n=>{this.loading=!1,this.handleEmptyData()}))}onSizeChanged(n){this.filterCriteria.pageSize=n,this.fetchListingData()}onPageChanged(n){this.filterCriteria.page=n,this.fetchListingData()}getUserData(){return this.cookieService.get("userData"),!0}onCreateListingClicked(){this.router.navigateByUrl("/host/create-listing")}createInsuranceModal(){this.modal.create({nzTitle:"Insurance",nzContent:S,nzClosable:!0,nzCancelDisabled:!0,nzKeyboard:!0,nzMaskClosable:!1,nzOkDisabled:!1})}ngOnDestroy(){this.subscriptions.unsubscribe()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(l.Sf),t.Y36(F.v),t.Y36(g.sK),t.Y36(N.o),t.Y36(m.F0),t.Y36(k.N_))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-listing"]],decls:13,vars:17,consts:[["nz-row","","id","listing"],["nz-col","",1,"mx-auto",3,"nzXs","nzLg"],[1,"head","mb-5"],["nz-button","","routerLink","/host/create-listing",1,"btn"],["nz-col","",1,"content-wrapper","m-auto",3,"nzXs","nzLg"],[4,"ngIf"],["class","empty-state mb-5",4,"ngIf"],["class","loader-wrapper mt-3",4,"ngIf"],["nz-col","",1,"m-auto",3,"nzXs","nzLg"],[4,"ngFor","ngForOf"],[1,"pagination","mt-2","mb-2"],[3,"nzPageIndex","nzTotal","nzPageSize","nzPageIndexChange"],[3,"propertyData"],[1,"empty-state","mb-5"],[3,"title","text","icon","withBtn","btnText","btnClicked"],[1,"loader-wrapper","mt-3"],["indicatorTemplate",""],["nzSimple","",3,"nzIndicator"],["nz-icon","","nzType","loading"]],template:function(n,o){1&n&&(t.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"h2"),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"button",3),t._uU(7),t.ALo(8,"translate"),t.qZA()()(),t.TgZ(9,"div",4),t.YNc(10,H,5,10,"ng-container",5),t.YNc(11,V,2,5,"div",6),t.YNc(12,K,4,1,"div",7),t.qZA()()),2&n&&(t.xp6(1),t.Q6J("nzXs",t.DdM(13,P))("nzLg",t.DdM(14,y)),t.xp6(3),t.Oqu(t.lcZ(5,9,"ListingPage.Listing")),t.xp6(3),t.hij(" + ",t.lcZ(8,11,"ListingPage.CreateListing")," "),t.xp6(2),t.Q6J("nzXs",t.DdM(15,P))("nzLg",t.DdM(16,y)),t.xp6(1),t.Q6J("ngIf",!o.loading&&(null==o.listingData?null:o.listingData.length)),t.xp6(1),t.Q6J("ngIf",!o.loading&&o.listingData.length<=0),t.xp6(1),t.Q6J("ngIf",o.loading))},directives:[C.SK,C.t3,v.ix,M.dQ,u.w,m.rH,d.O5,d.sg,E,B.dE,W.s,f.Ls,X.W],pipes:[g.X$],styles:["#listing[_ngcontent-%COMP%]{padding:50px 24px 20px}#listing[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]{display:flex;justify-content:space-between}#listing[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:22px;font-weight:700;line-height:30px;color:var(--bs-dark)}#listing[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-color:var(--bs-primary)!important;font-size:16px;height:2.5em;color:var(--bs-white)!important;background-color:var(--bs-primary)!important}#listing[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{min-height:70vh}.pagination[_ngcontent-%COMP%]{text-align:center;display:block}.pagination[_ngcontent-%COMP%]   nz-pagination[_ngcontent-%COMP%]{text-align:center}.loader-wrapper[_ngcontent-%COMP%]{width:100%;justify-content:center;text-align:center;min-height:60vh;display:flex;align-items:center}.loader-wrapper[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em}.empty-state[_ngcontent-%COMP%]{width:100%}  #listing .ant-pagination-next .ant-pagination-item-link,   #listing .ant-pagination-prev .ant-pagination-item-link{line-height:0em}  #listing .ant-pagination-item a,   #listing .ant-pagination-item:focus-visible a,   #listing .ant-pagination-item:hover a{text-decoration:none;line-height:1.9em}"]}),e})()},{path:"view/:id",component:b.f}];let tt=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[m.Bz.forChild($)],m.Bz]}),e})();var nt=i(5326);let et=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[d.ez,nt.m,tt,Z.P,g.aw,c.u5,c.UX]]}),e})()}}]);