"use strict";(self.webpackChunkroomz_web_app=self.webpackChunkroomz_web_app||[]).push([[77],{4077:(gt,b,o)=>{o.r(b),o.d(b,{ListingModule:()=>lt});var c=o(3075),T=o(978),u=o(9808),p=o(1062),m=o(7152),y=o(141),A=o(5861),t=o(5e3),g=o(3640),h=o(2683),_=o(1047),x=o(4546),f=o(1894),P=o(5052),C=o(3087),z=o(6042),v=o(2643);const M=function(){return{width:"100%"}};function O(e,a){if(1&e&&t._UZ(0,"img",16),2&e){const n=t.oxw();t.Q6J("src",n.previewImage,t.LSH)("ngStyle",t.DdM(2,M))}}function w(e,a){if(1&e){const n=t.EpF();t.TgZ(0,"div",17)(1,"button",18),t.NdJ("click",function(){return t.CHM(n),t.oxw().closeModal()}),t._uU(2," Claim insurance "),t.qZA()()}}function D(e,a){1&e&&(t._uU(0),t.ALo(1,"translate")),2&e&&t.Oqu(t.lcZ(1,1,"ListingPage.SAR"))}let U=(()=>{class e{constructor(n,i){var s=this;this.fb=n,this.activeModal=i,this.fileList=[{uid:"-1",name:"image.png",status:"done",url:"https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png"}],this.previewImage="",this.previewVisible=!1,this.nameInfo=new t.vpe,this.handlePreview=function(){var r=(0,A.Z)(function*(l){!l.url&&!l.preview&&(l.preview=yield s.getBase64(l.originFileObj)),s.previewImage=l.url||l.preview,s.previewVisible=!0});return function(l){return r.apply(this,arguments)}}()}ngOnInit(){this.initForm()}initForm(){this.form=this.fb.group({name:[null,[c.kI.maxLength(500)]]})}closeModal(){this.activeModal.close()}getBase64(n){return new Promise((i,s)=>{const r=new FileReader;r.readAsDataURL(n),r.onload=()=>i(r.result),r.onerror=l=>s(l)})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(c.qu),t.Y36(g.Lf))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-enter-amount-modal"]],outputs:{nameInfo:"nameInfo"},decls:30,vars:21,consts:[[1,"content-modal"],[3,"nzPrefix"],["type","text","nz-input","","placeholder",""],[1,"alert-price"],[1,"header-title","mt-3"],["nz-form","","nzLayout","vertical",3,"formGroup"],[3,"nzMaxCharacterCount"],["rows","5","formControlName","name","nz-input",""],[1,"clearfix"],["nzAction","https://www.mocky.io/v2/5cc8019d300000980a055e76","nzListType","picture-card",3,"nzFileList","nzShowButton","nzPreview","nzFileListChange"],["nz-icon","","nzType","plus"],[2,"margin-top","8px"],[3,"nzVisible","nzContent","nzFooter","nzOnCancel"],["modalContent",""],["class","d-flex justify-content-center align-items-center",4,"nzModalFooter"],["prefixTemplateUser",""],[3,"src","ngStyle"],[1,"d-flex","justify-content-center","align-items-center"],["nz-button","","nzType","primary",1,"btn-submit","mt-3",3,"click"]],template:function(n,i){if(1&n&&(t.TgZ(0,"div",0)(1,"nz-input-group",1),t._UZ(2,"input",2),t.qZA(),t.TgZ(3,"p",3),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"h5",4),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"form",5)(10,"nz-form-item")(11,"nz-form-control")(12,"nz-textarea-count",6),t._UZ(13,"textarea",7),t.qZA()()()(),t.TgZ(14,"h5",4),t._uU(15),t.ALo(16,"translate"),t.qZA(),t.TgZ(17,"div",8)(18,"nz-upload",9),t.NdJ("nzFileListChange",function(r){return i.fileList=r}),t.TgZ(19,"div"),t._UZ(20,"i",10),t.TgZ(21,"div",11),t._uU(22),t.ALo(23,"translate"),t.qZA()()(),t.TgZ(24,"nz-modal",12),t.NdJ("nzOnCancel",function(){return i.previewVisible=!1}),t.YNc(25,O,1,3,"ng-template",null,13,t.W1O),t.qZA()()(),t.YNc(27,w,3,0,"div",14),t.YNc(28,D,2,3,"ng-template",null,15,t.W1O)),2&n){const s=t.MAs(26),r=t.MAs(29);t.xp6(1),t.Q6J("nzPrefix",r),t.xp6(3),t.Oqu(t.lcZ(5,13,"ListingPage.MaxAmount")),t.xp6(3),t.Oqu(t.lcZ(8,15,"ListingPage.InsuranceJustification")),t.xp6(2),t.Q6J("formGroup",i.form),t.xp6(3),t.Q6J("nzMaxCharacterCount",500),t.xp6(3),t.Oqu(t.lcZ(16,17,"ListingPage.AddPictures")),t.xp6(3),t.Q6J("nzFileList",i.fileList)("nzShowButton",i.fileList.length<8)("nzPreview",i.handlePreview),t.xp6(4),t.Oqu(t.lcZ(23,19,"ListingPage.Upload")),t.xp6(2),t.Q6J("nzVisible",i.previewVisible)("nzContent",s)("nzFooter",null)}},directives:[h.w,_.gB,_.ke,_.Zp,c._Y,c.JL,x.Lr,c.sg,f.SK,x.Nx,f.t3,x.Fd,_.w,c.Fj,c.JJ,c.u,P.FY,C.Ls,g.du,u.PC,g.Uh,z.ix,v.dQ],pipes:[p.X$],styles:[".content-modal[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:none}.content-modal[_ngcontent-%COMP%]   .clearfix[_ngcontent-%COMP%]{border:1px dashed #babdbe;padding:20px 15px}.content-modal[_ngcontent-%COMP%]   .alert-price[_ngcontent-%COMP%]{margin-block-start:10px;color:var(--bs-primary);font-size:12px}.content-modal[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:16px;line-height:38px;color:var(--bs-dark);font-weight:600}.btn-submit[_ngcontent-%COMP%]{border-color:var(--bs-primary)!important;font-size:16px;height:2.5em;color:var(--bs-white)!important;background-color:var(--bs-primary)!important}"]}),e})();function I(e,a){if(1&e){const n=t.EpF();t.TgZ(0,"div",8)(1,"button",9),t.NdJ("click",function(){return t.CHM(n),t.oxw().claim()}),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"button",10),t.NdJ("click",function(){return t.CHM(n),t.oxw().closeModal()}),t._uU(5),t.ALo(6,"translate"),t.qZA()()}2&e&&(t.xp6(2),t.hij(" ",t.lcZ(3,2,"ListingPage.ClaimInsurance")," "),t.xp6(3),t.hij(" ",t.lcZ(6,4,"ListingPage.ReleaseInsurance")," "))}let S=(()=>{class e{constructor(n,i){this.modal=n,this.activeModal=i}ngOnInit(){}closeModal(){this.activeModal.destroy()}claim(){this.closeModal(),this.modal.create({nzTitle:"Enter the amount you want to claim",nzContent:U,nzClosable:!0,nzCancelDisabled:!0,nzKeyboard:!1,nzMaskClosable:!1,nzWidth:"45%",nzOkDisabled:!1})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(g.Sf),t.Y36(g.Lf))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-insurance-modal"]],decls:39,vars:27,consts:[[1,"content-modal"],[1,"desc-insurance"],[1,"mb-3"],[1,"d-flex","align-items-center","details"],[1,"me-4"],[1,"ps-3"],[1,"details"],["class","d-flex justify-content-center align-items-center pb-2",4,"nzModalFooter"],[1,"d-flex","justify-content-center","align-items-center","pb-2"],["nz-button","","nzType","primary",1,"list-btn","mt-3",3,"click"],["nz-button","","nzType","primary",1,"btn-submit","mt-3",3,"click"]],template:function(n,i){1&n&&(t.TgZ(0,"div",0)(1,"p",1),t._uU(2),t.ALo(3,"translate"),t.TgZ(4,"span"),t._uU(5,'" Name "'),t.qZA(),t._uU(6),t.ALo(7,"translate"),t.TgZ(8,"span"),t._uU(9,'" property name "'),t.qZA(),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"h6",2),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.TgZ(15,"div",3)(16,"p",4),t._uU(17),t.ALo(18,"translate"),t.TgZ(19,"span",5),t._uU(20,"12 may 2022"),t.qZA()(),t.TgZ(21,"p",4),t._uU(22),t.ALo(23,"translate"),t.TgZ(24,"span",5),t._uU(25,"15 may 2022"),t.qZA()()(),t.TgZ(26,"div",6)(27,"p",4),t._uU(28),t.ALo(29,"translate"),t.TgZ(30,"span",5),t._uU(31,"Villa"),t.qZA()(),t.TgZ(32,"p",4),t._uU(33),t.ALo(34,"translate"),t.TgZ(35,"span",5),t._uU(36),t.ALo(37,"translate"),t.qZA()()()(),t.YNc(38,I,7,6,"div",7)),2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,9,"ListingPage.DescInsuranceOne")," "),t.xp6(4),t.hij(" ",t.lcZ(7,11,"ListingPage.foryour")," "),t.xp6(4),t.hij(" ",t.lcZ(11,13,"ListingPage.DescInsuranceTwo")," "),t.xp6(3),t.Oqu(t.lcZ(14,15,"ListingPage.Details")),t.xp6(4),t.hij("",t.lcZ(18,17,"ListingPage.From")," "),t.xp6(5),t.hij("",t.lcZ(23,19,"ListingPage.To")," "),t.xp6(6),t.Oqu(t.lcZ(29,21,"ListingPage.Property")),t.xp6(5),t.hij("",t.lcZ(34,23,"ListingPage.InsurancePrice")," "),t.xp6(3),t.hij("",t.lcZ(37,25,"ListingPage.SAR")," 500"))},directives:[g.Uh,z.ix,v.dQ,h.w],pipes:[p.X$],styles:[".btn-submit[_ngcontent-%COMP%]{border-color:var(--bs-primary)!important;font-size:16px;height:2.5em;color:var(--bs-white)!important;background-color:var(--bs-primary)!important}.list-btn[_ngcontent-%COMP%]{border-color:var(--bs-primary)!important;font-size:16px;height:2.5em;color:var(--bs-primary)!important;background-color:var(--bs-white)!important}.content-modal[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:15px}.content-modal[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;font-weight:500}.content-modal[_ngcontent-%COMP%]   .desc-insurance[_ngcontent-%COMP%]{font-size:14px;color:var(--bs-dark);line-height:18px}.content-modal[_ngcontent-%COMP%]   .desc-insurance[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px}"]}),e})();var q=o(727),J=o(2340),N=o(6010),F=o(3501),k=o(9592),d=o(939);function j(e,a){if(1&e&&t._UZ(0,"img",11),2&e){const n=t.oxw().$implicit;t.Q6J("src",null==n?null:n.cover_photo,t.LSH)}}function Y(e,a){1&e&&t._UZ(0,"img",12)}function Q(e,a){1&e&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"CreateListing.Draft")))}function B(e,a){1&e&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"CreateListing.PendingApproval")))}function E(e,a){1&e&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"CreateListing.Published")))}function R(e,a){1&e&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"CreateListing.Unlisted")))}function H(e,a){1&e&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"CreateListing.Blocked")))}function X(e,a){1&e&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"CreateListing.Deleted")))}function V(e,a){1&e&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"CreateListing.Rejected")))}function $(e,a){if(1&e){const n=t.EpF();t.TgZ(0,"tr")(1,"td",2)(2,"div",4),t.YNc(3,j,1,1,"img",5),t.YNc(4,Y,1,0,"img",6),t.TgZ(5,"span",7),t._uU(6),t.qZA()()(),t.TgZ(7,"td"),t.YNc(8,Q,3,3,"span",8),t.YNc(9,B,3,3,"span",8),t.YNc(10,E,3,3,"span",8),t.YNc(11,R,3,3,"span",8),t.YNc(12,H,3,3,"span",8),t.YNc(13,X,3,3,"span",8),t.YNc(14,V,3,3,"span",8),t.qZA(),t.TgZ(15,"td"),t._uU(16),t.qZA(),t.TgZ(17,"td"),t._uU(18),t.qZA(),t.TgZ(19,"td"),t._uU(20),t.qZA(),t.TgZ(21,"td"),t._uU(22),t.qZA(),t.TgZ(23,"td")(24,"button",9),t.NdJ("click",function(){const r=t.CHM(n).$implicit;return t.oxw().routeReviewListing(r.id)}),t._UZ(25,"span",10),t.qZA()()()}if(2&e){const n=a.$implicit;t.xp6(3),t.Q6J("ngIf",null!=(null==n?null:n.cover_photo)),t.xp6(1),t.Q6J("ngIf",null==(null==n?null:n.cover_photo)),t.xp6(2),t.Oqu(null==n?null:n.name),t.xp6(2),t.Q6J("ngIf",1==(null==n?null:n.status)),t.xp6(1),t.Q6J("ngIf",2==(null==n?null:n.status)),t.xp6(1),t.Q6J("ngIf",3==(null==n?null:n.status)),t.xp6(1),t.Q6J("ngIf",4==(null==n?null:n.status)),t.xp6(1),t.Q6J("ngIf",5==(null==n?null:n.status)),t.xp6(1),t.Q6J("ngIf",6==(null==n?null:n.status)),t.xp6(1),t.Q6J("ngIf",7==(null==n?null:n.status)),t.xp6(2),t.Oqu(null==n?null:n.no_of_bedrooms),t.xp6(2),t.Oqu(null==n?null:n.no_of_beds),t.xp6(2),t.Oqu(null==n?null:n.no_of_bathrooms),t.xp6(2),t.Oqu(null==n?null:n.city)}}const W=function(){return[1,2,4]};let G=(()=>{class e{constructor(n){this.router=n,this.sizeChanged=new t.vpe,this.pageChanged=new t.vpe}ngOnInit(){}onPageChange(n){console.log(n),this.pageChanged.emit(n)}onSizeChange(n){console.log(n),this.sizeChanged.emit(n)}routeReviewListing(n){this.router.navigate(["/host/listing/view",n])}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(m.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-listing-data"]],inputs:{listingData:"listingData",page:"page",pageSize:"pageSize",totalItems:"totalItems"},outputs:{sizeChanged:"sizeChanged",pageChanged:"pageChanged"},decls:27,vars:31,consts:[["id","table-listing","nzBordered","",1,"mt-5","w-100",3,"nzData","nzTotal","nzFrontPagination","nzPageSize","nzPageIndex","nzShowPagination","nzShowSizeChanger","nzPageSizeOptions","nzPageIndexChange","nzPageSizeChange"],["fixedTable",""],["colspan","2"],[4,"ngFor","ngForOf"],[1,"listing-name-wrapper"],["class","place-img",3,"src",4,"ngIf"],["class","place-img","src","../../../../../../assets/imgs/account-host/No_Image_Available.jpg",4,"ngIf"],[1,"ps-2"],[4,"ngIf"],[3,"click"],["nz-icon","","nzType","eye","nzTheme","outline"],[1,"place-img",3,"src"],["src","../../../../../../assets/imgs/account-host/No_Image_Available.jpg",1,"place-img"]],template:function(n,i){1&n&&(t.TgZ(0,"nz-table",0,1),t.NdJ("nzPageIndexChange",function(r){return i.onPageChange(r)})("nzPageSizeChange",function(r){return i.onSizeChange(r)}),t.TgZ(2,"thead")(3,"tr")(4,"th",2),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"th"),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"th"),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"th"),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"th"),t._uU(17),t.ALo(18,"translate"),t.qZA(),t.TgZ(19,"th"),t._uU(20),t.ALo(21,"translate"),t.qZA(),t.TgZ(22,"th"),t._uU(23),t.ALo(24,"translate"),t.qZA()()(),t.TgZ(25,"tbody"),t.YNc(26,$,26,14,"tr",3),t.qZA()()),2&n&&(t.Q6J("nzData",i.listingData)("nzTotal",i.totalItems)("nzFrontPagination",!1)("nzPageSize",i.pageSize)("nzPageIndex",i.page)("nzShowPagination",!0)("nzShowSizeChanger",!0)("nzPageSizeOptions",t.DdM(30,W)),t.xp6(5),t.Oqu(t.lcZ(6,16,"CreateListing.PropertyName")),t.xp6(3),t.Oqu(t.lcZ(9,18,"CreateListing.Status")),t.xp6(3),t.Oqu(t.lcZ(12,20,"CreateListing.Bedrooms")),t.xp6(3),t.Oqu(t.lcZ(15,22,"CreateListing.Beds")),t.xp6(3),t.Oqu(t.lcZ(18,24,"CreateListing.Baths")),t.xp6(3),t.Oqu(t.lcZ(21,26,"CreateListing.Location")),t.xp6(3),t.Oqu(t.lcZ(24,28,"CreateListing.Actions")),t.xp6(3),t.Q6J("ngForOf",i.listingData))},directives:[d.N8,d.Om,d.$Z,d.Uo,d._C,d.p0,u.sg,u.O5,h.w,C.Ls],pipes:[p.X$],styles:[".listing-name-wrapper[_ngcontent-%COMP%]   .place-img[_ngcontent-%COMP%]{width:40px;height:40px;object-fit:cover;border-radius:5px;display:inline-block}.listing-name-wrapper[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-inline-start:.3em}  #table-listing .ant-table-thead>tr>th{text-align:center;background-color:transparent;font-size:16px;font-weight:500;line-height:15px;color:var(--font-light-2);padding:15px 0}  #table-listing .ant-table-tbody>tr>td{text-align:center;font-size:14px}  #table-listing .ant-table-tbody>tr>td .instant i{color:var(--font-success);padding-inline-end:8px;font-size:15}  #table-listing .ant-table-tbody>tr>td button{background-color:transparent;border:0;outline:0}  #table-listing .ant-table-tbody>tr>td button span{font-size:20px;transition:.3s}  #table-listing .ant-table-tbody>tr>td button span:hover{color:var(--bs-primary)}  .ant-table-pagination.ant-pagination{justify-content:center;margin-top:50px}  .ant-pagination-disabled .ant-pagination-item-link{border:2px solid #f9537bd6;border-radius:5px}  .ant-pagination-disabled .ant-pagination-item-link .anticon{display:flex;justify-content:center;align-items:center;color:#f9537bd6;font-size:14px}  .ant-pagination-next{border:2px solid #f9537bd6;border-radius:5px}  .ant-pagination-next .anticon{display:flex;justify-content:center;align-items:center;color:#f9537bd6;font-size:14px}  .ant-pagination-next .ant-pagination-item-link{border:none}  .ant-pagination-next:hover .ant-pagination-item-link{color:var(--bs-white);border-color:transparent}  .ant-pagination-item{border-radius:5px;font-weight:600;background-color:#f1f1f1}  .ant-pagination-item:hover{border-color:transparent}  .ant-pagination-item a{text-decoration:none}  .ant-pagination-item a:hover{color:#4f5e7c}  .ant-pagination-item-active{background-color:#ee5076;border-color:transparent}  .ant-pagination-item-active a{color:var(--bs-white)}  .ant-pagination-item-active a:hover{color:var(--bs-white)}  .ant-checkbox-inner{width:24px;height:24px;background-color:#f3f3f3;border-color:#babdbe}  .ant-checkbox-inner:after{left:29.5%}  .ant-checkbox-checked .ant-checkbox-inner{background-color:var(--bs-blue);border-color:#fff}  .ant-checkbox-wrapper:after{content:none}"]}),e})();var K=o(5181),tt=o(9590);const Z=function(){return{span:24}},L=function(){return{span:20}};function nt(e,a){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"div",1)(2,"app-listing-data",7),t.NdJ("sizeChanged",function(s){return t.CHM(n),t.oxw().onSizeChanged(s)})("pageChanged",function(s){return t.CHM(n),t.oxw().onPageChanged(s)}),t.qZA()(),t.BQk()}if(2&e){const n=t.oxw();t.xp6(1),t.Q6J("nzXs",t.DdM(6,Z))("nzLg",t.DdM(7,L)),t.xp6(1),t.Q6J("totalItems",n.totalItems)("pageSize",n.filterCriteria.pageSize)("page",n.filterCriteria.page)("listingData",n.listingData)}}function et(e,a){if(1&e){const n=t.EpF();t.TgZ(0,"div",8)(1,"app-empty-state",9),t.NdJ("btnClicked",function(){return t.CHM(n),t.oxw().onCreateListingClicked()}),t.qZA()()}if(2&e){const n=t.oxw();t.xp6(1),t.Q6J("title",n.emptyData.title)("text",n.emptyData.text)("icon",n.emptyData.icon)("withBtn",n.emptyData.withBtn)("btnText",n.emptyData.btnText)}}function it(e,a){1&e&&t._UZ(0,"span",13)}function at(e,a){if(1&e&&(t.TgZ(0,"div",10),t.YNc(1,it,1,0,"ng-template",null,11,t.W1O),t._UZ(3,"nz-spin",12),t.qZA()),2&e){const n=t.MAs(2);t.xp6(3),t.Q6J("nzIndicator",n)}}const ot=[{path:"",component:(()=>{class e{constructor(n,i,s,r,l,ct){this.modal=n,this.commonService=i,this.translateService=s,this.listingService=r,this.router=l,this.cookieService=ct,this.loading=!1,this.listingData=[],this.emptyData={title:"",text:"",icon:"",withBtn:!1,btnText:""},this.filterCriteria={page:1,pageSize:5},this.subscriptions=new q.w0,this.userRole=J.N.userRole}ngOnInit(){this.handleUserPermission()}handleUserPermission(){this.cookieService.get("userData")&&("HOST"!==this.userRole?this.router.navigateByUrl("/"):this.fetchListingData())}handleEmptyData(){this.emptyData={title:this.translateService.instant("General.NoData"),text:this.translateService.instant("General.NoListings"),icon:"https://gw.alipayobjects.com/zos/antfincdn/ZHrcdLPrvN/empty.svg",withBtn:!0,btnText:this.translateService.instant("ListingPage.CreateListing")}}fetchListingData(){this.loading=!0,this.subscriptions.add(this.listingService.getListings(this.filterCriteria).subscribe(n=>{var i,s,r,l;(null==n?void 0:n.successful)&&(this.loading=!1,this.listingData=null===(i=null==n?void 0:n.data)||void 0===i?void 0:i.data,this.totalItems=null===(r=null===(s=null==n?void 0:n.data)||void 0===s?void 0:s.meta)||void 0===r?void 0:r.total,console.log(this.totalItems),(null===(l=this.listingData)||void 0===l?void 0:l.length)||this.handleEmptyData())},n=>{this.loading=!1,this.handleEmptyData()}))}onSizeChanged(n){this.filterCriteria.pageSize=n,this.fetchListingData()}onPageChanged(n){this.filterCriteria.page=n,this.fetchListingData()}getUserData(){return this.cookieService.get("userData"),!0}onCreateListingClicked(){this.router.navigateByUrl("/host/create-listing")}createInsuranceModal(){this.modal.create({nzTitle:"Insurance",nzContent:S,nzClosable:!0,nzCancelDisabled:!0,nzKeyboard:!0,nzMaskClosable:!1,nzOkDisabled:!1})}ngOnDestroy(){this.subscriptions.unsubscribe()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(g.Sf),t.Y36(N.v),t.Y36(p.sK),t.Y36(F.o),t.Y36(m.F0),t.Y36(k.N_))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-listing"]],decls:12,vars:13,consts:[["nz-row","","id","listing"],["nz-col","",1,"m-auto",3,"nzXs","nzLg"],[1,"head","mb-5"],["nz-button","","routerLink","/host/create-listing",1,"btn"],[4,"ngIf"],["class","empty-state mb-5",4,"ngIf"],["class","loader-wrapper mt-3",4,"ngIf"],[3,"totalItems","pageSize","page","listingData","sizeChanged","pageChanged"],[1,"empty-state","mb-5"],[3,"title","text","icon","withBtn","btnText","btnClicked"],[1,"loader-wrapper","mt-3"],["indicatorTemplate",""],["nzSimple","",3,"nzIndicator"],["nz-icon","","nzType","loading"]],template:function(n,i){1&n&&(t.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"h2"),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"button",3),t._uU(7),t.ALo(8,"translate"),t.qZA()()(),t.YNc(9,nt,3,8,"ng-container",4),t.YNc(10,et,2,5,"div",5),t.YNc(11,at,4,1,"div",6),t.qZA()),2&n&&(t.xp6(1),t.Q6J("nzXs",t.DdM(11,Z))("nzLg",t.DdM(12,L)),t.xp6(3),t.Oqu(t.lcZ(5,7,"ListingPage.Listing")),t.xp6(3),t.hij(" + ",t.lcZ(8,9,"ListingPage.CreateListing")," "),t.xp6(2),t.Q6J("ngIf",!i.loading&&(null==i.listingData?null:i.listingData.length)),t.xp6(1),t.Q6J("ngIf",!i.loading&&i.listingData.length<=0),t.xp6(1),t.Q6J("ngIf",i.loading))},directives:[f.SK,f.t3,z.ix,v.dQ,h.w,m.rH,u.O5,G,K.s,C.Ls,tt.W],pipes:[p.X$],styles:["#listing[_ngcontent-%COMP%]{padding:50px 24px 20px}#listing[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]{display:flex;justify-content:space-between}#listing[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:22px;font-weight:700;line-height:30px;color:var(--bs-dark)}#listing[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-color:var(--bs-primary)!important;font-size:16px;height:2.5em;color:var(--bs-white)!important;background-color:var(--bs-primary)!important}.loader-wrapper[_ngcontent-%COMP%]{width:100%;justify-content:center;text-align:center;min-height:60vh;display:flex;align-items:center}.loader-wrapper[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em}.empty-state[_ngcontent-%COMP%]{width:100%}"]}),e})()},{path:"view/:id",component:y.f}];let st=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[m.Bz.forChild(ot)],m.Bz]}),e})();var rt=o(5326);let lt=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[u.ez,rt.m,st,T.P,p.aw,c.u5,c.UX]]}),e})()}}]);