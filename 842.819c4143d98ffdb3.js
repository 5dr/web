"use strict";(self.webpackChunkroomz_web_app=self.webpackChunkroomz_web_app||[]).push([[842],{5842:(E,C,e)=>{e.r(C),e.d(C,{NotificationsModule:()=>Q});var n=e(9808),M=e(5858),f=e(1062),m=e(4239),x=e(727),t=e(5e3),O=e(6010),P=e(2340),z=e(520);let y=(()=>{class o{constructor(i){this.http=i}getAllNotifications(i){return this.http.get(`${P.N.endPointUrl}/user/hosting/notifications`,{params:i})}}return o.\u0275fac=function(i){return new(i||o)(t.LFG(z.eN))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var b=e(9592),h=e(1894),c=e(7484),r=e(5181),s=e(2683),p=e(3087),_=e(9590),N=e(1711);const v=function(){return{span:24}},D=function(){return{span:2}},w=function(){return{span:3}},T=function(){return{span:22}},A=function(){return{span:21}};function S(o,l){if(1&o&&(t.TgZ(0,"div",11)(1,"nz-card")(2,"div",12)(3,"div",13)(4,"span"),t._uU(5),t.qZA()(),t.TgZ(6,"div",14)(7,"h6",15),t._uU(8),t.qZA(),t._UZ(9,"div",16),t.TgZ(10,"p",17),t._uU(11),t.ALo(12,"date"),t.qZA()()()()()),2&o){const i=l.$implicit;t.Q6J("nzXs",t.DdM(17,v))("nzLg",t.DdM(18,v))("nzMd",t.DdM(19,v)),t.xp6(3),t.Q6J("nzLg",t.DdM(20,D))("nzMd",t.DdM(21,D))("nzXs",t.DdM(22,w)),t.xp6(2),t.AsE(" ",null==i||null==i.user?null:i.user.first_name.slice(0,1)," ",null==i||null==i.user?null:i.user.last_name.slice(0,1)," "),t.xp6(1),t.Q6J("nzLg",t.DdM(23,T))("nzMd",t.DdM(24,T))("nzXs",t.DdM(25,A)),t.xp6(2),t.Oqu(null==i?null:i.title),t.xp6(1),t.Q6J("innerHtml",null==i?null:i.description,t.oJD),t.xp6(2),t.hij(" ",t.xi3(12,14,null==i?null:i.created_at,"mediumDate")," ")}}function Z(o,l){if(1&o&&(t.TgZ(0,"div",9),t.YNc(1,S,13,26,"div",10),t.qZA()),2&o){const i=t.oxw();t.xp6(1),t.Q6J("ngForOf",i.notificationsData)}}function L(o,l){if(1&o){const i=t.EpF();t.TgZ(0,"div",18)(1,"app-empty-state",19),t.NdJ("btnClicked",function(){return t.CHM(i),t.oxw().onBrowseBtnClicked()}),t.qZA()()}if(2&o){const i=t.oxw();t.xp6(1),t.Q6J("title",i.emptyData.title)("text",i.emptyData.text)("icon",i.emptyData.icon)("withBtn",i.emptyData.withBtn)("btnText",i.emptyData.btnText)}}function I(o,l){1&o&&t._UZ(0,"span",23)}function B(o,l){if(1&o&&(t.TgZ(0,"div",20),t.YNc(1,I,1,0,"ng-template",null,21,t.W1O),t._UZ(3,"nz-spin",22),t.qZA()),2&o){const i=t.MAs(2);t.xp6(3),t.Q6J("nzIndicator",i)}}const F=function(){return{span:20}},U=[{path:"",component:(()=>{class o{constructor(i,a,g,d,u){this.commonService=i,this.translateService=a,this.notificationsService=g,this.cookieService=d,this.router=u,this.notificationsFilterCriteria={page:1,pageSize:10},this.loading=!1,this.notificationsData=[],this.emptyData={title:"",text:"",icon:"",withBtn:!1,btnText:""},this.subscriptions=new x.w0}ngOnInit(){this.getUserData()}getUserData(){this.cookieService.get("userData")?(this.userData=JSON.parse(this.cookieService.get("userData")),this.fetchNotificationsData()):this.handleNotAuthorized()}handleEmptyData(){this.emptyData={title:this.translateService.instant("General.NoData"),text:this.translateService.instant("General.NoNotifications"),icon:"https://gw.alipayobjects.com/zos/antfincdn/ZHrcdLPrvN/empty.svg",withBtn:!1,btnText:this.translateService.instant("General.Browse")}}onBrowseBtnClicked(){var i;(null===(i=this.userData)||void 0===i?void 0:i.id)?this.router.navigateByUrl("/"):this.router.navigateByUrl("auth/sign-up")}handleNotAuthorized(){this.emptyData={title:this.translateService.instant("General.NotLoggedIn"),text:this.translateService.instant("General.PleaseLogin"),icon:"https://gw.alipayobjects.com/zos/antfincdn/ZHrcdLPrvN/empty.svg",withBtn:!0,btnText:this.translateService.instant("General.LoginOrSignup")}}fetchNotificationsData(){console.log("called"),this.loading=!0,this.subscriptions.add(this.notificationsService.getAllNotifications(this.notificationsFilterCriteria).subscribe(i=>{var a,g,d,u;(null==i?void 0:i.successful)&&(this.loading=!1,this.notificationsData=null===(a=null==i?void 0:i.data)||void 0===a?void 0:a.data,this.totalNotifications=null===(d=null===(g=null==i?void 0:i.data)||void 0===g?void 0:g.meta)||void 0===d?void 0:d.total,(null===(u=this.notificationsData)||void 0===u?void 0:u.length)||this.handleEmptyData())},i=>{var a;this.loading=!1,this.commonService.showErrorAlert(this.translateService.instant("General.Error"),null===(a=null==i?void 0:i.error)||void 0===a?void 0:a.message)}))}pageChanged(i){this.notificationsFilterCriteria.page=i,this.fetchNotificationsData()}ngOnDestroy(){this.subscriptions.unsubscribe()}}return o.\u0275fac=function(i){return new(i||o)(t.Y36(O.v),t.Y36(f.sK),t.Y36(y),t.Y36(b.N_),t.Y36(m.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-notifications"]],decls:12,vars:13,consts:[["nz-row","","id","notification"],["nz-col","",1,"mx-auto",3,"nzXs","nzLg"],[1,"title","mb-5"],["class","notification-list","nz-row","",4,"ngIf"],["class","empty-state mb-5",4,"ngIf"],["class","loader-wrapper mt-3",4,"ngIf"],[1,"pagination","mt-2","mb-2"],[3,"nzPageIndex","nzTotal","nzPageSize","nzPageIndexChange"],[1,"pagination-notifi"],["nz-row","",1,"notification-list"],["class","notification-item","nz-col","",3,"nzXs","nzLg","nzMd",4,"ngFor","ngForOf"],["nz-col","",1,"notification-item",3,"nzXs","nzLg","nzMd"],["nz-row","","nzJustify","space-between","nzAlign","bottom"],["nz-col","",1,"first-Letter",3,"nzLg","nzMd","nzXs"],["nz-col","",1,"notification-content",3,"nzLg","nzMd","nzXs"],[1,"title"],[1,"desc",3,"innerHtml"],[1,"date"],[1,"empty-state","mb-5"],[3,"title","text","icon","withBtn","btnText","btnClicked"],[1,"loader-wrapper","mt-3"],["indicatorTemplate",""],["nzSimple","",3,"nzIndicator"],["nz-icon","","nzType","loading"]],template:function(i,a){1&i&&(t.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"h2"),t._uU(4),t.ALo(5,"translate"),t.qZA()(),t.YNc(6,Z,2,1,"div",3),t.YNc(7,L,2,5,"div",4),t.YNc(8,B,4,1,"div",5),t.TgZ(9,"div",6)(10,"nz-pagination",7),t.NdJ("nzPageIndexChange",function(d){return a.pageChanged(d)}),t.qZA()(),t._UZ(11,"div",8),t.qZA()()),2&i&&(t.xp6(1),t.Q6J("nzXs",t.DdM(11,v))("nzLg",t.DdM(12,F)),t.xp6(3),t.Oqu(t.lcZ(5,9,"Notifications.Notifications")),t.xp6(2),t.Q6J("ngIf",(null==a.notificationsData?null:a.notificationsData.length)&&!a.loading),t.xp6(1),t.Q6J("ngIf",!(null!=a.notificationsData&&a.notificationsData.length||a.loading)),t.xp6(1),t.Q6J("ngIf",a.loading),t.xp6(2),t.Q6J("nzPageIndex",a.notificationsFilterCriteria.page)("nzTotal",a.totalNotifications)("nzPageSize",a.notificationsFilterCriteria.pageSize))},directives:[h.SK,h.t3,n.O5,n.sg,c.bd,r.s,s.w,p.Ls,_.W,N.dE],pipes:[f.X$,n.uU],styles:["#notification[_ngcontent-%COMP%]{padding:50px 24px 20px;margin-bottom:2em}#notification[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:22px;font-weight:700;line-height:30px;color:var(--bs-dark)}#notification[_ngcontent-%COMP%]   .notification-list[_ngcontent-%COMP%]   .notification-item[_ngcontent-%COMP%]{position:relative;margin-bottom:1em;align-items:center}#notification[_ngcontent-%COMP%]   .notification-list[_ngcontent-%COMP%]   .notification-item[_ngcontent-%COMP%]   .ant-card[_ngcontent-%COMP%]{border-radius:5px}@media (max-width: 575px){#notification[_ngcontent-%COMP%]   .notification-list[_ngcontent-%COMP%]   .notification-item[_ngcontent-%COMP%]   .ant-card[_ngcontent-%COMP%]   .ant-card-body[_ngcontent-%COMP%]{padding:15}}#notification[_ngcontent-%COMP%]   .notification-list[_ngcontent-%COMP%]   .notification-item[_ngcontent-%COMP%]   .first-Letter[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:80px;height:80px;color:var(--bs-primary);display:block;margin:0 auto 7px;border-radius:50%;background-color:#ffedf1;display:flex;justify-content:center;align-items:center;font-size:41px;line-height:27px}@media (max-width: 991px){#notification[_ngcontent-%COMP%]   .notification-list[_ngcontent-%COMP%]   .notification-item[_ngcontent-%COMP%]   .first-Letter[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:70px;height:70px;font-size:35px}}@media (max-width: 768px){#notification[_ngcontent-%COMP%]   .notification-list[_ngcontent-%COMP%]   .notification-item[_ngcontent-%COMP%]   .first-Letter[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:60px;height:60px}}@media (max-width: 575px){#notification[_ngcontent-%COMP%]   .notification-list[_ngcontent-%COMP%]   .notification-item[_ngcontent-%COMP%]   .first-Letter[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-inline:0 10px}}#notification[_ngcontent-%COMP%]   .notification-list[_ngcontent-%COMP%]   .notification-item[_ngcontent-%COMP%]   .notification-content[_ngcontent-%COMP%]{padding-inline-start:22px}#notification[_ngcontent-%COMP%]   .notification-list[_ngcontent-%COMP%]   .notification-item[_ngcontent-%COMP%]   .notification-content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:18px;line-height:20px;color:var(--bs-dark);font-weight:500;margin-bottom:10px}@media (max-width: 575px){#notification[_ngcontent-%COMP%]   .notification-list[_ngcontent-%COMP%]   .notification-item[_ngcontent-%COMP%]   .notification-content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:16px}}#notification[_ngcontent-%COMP%]   .notification-list[_ngcontent-%COMP%]   .notification-item[_ngcontent-%COMP%]   .notification-content[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{font-size:14px;color:var(--bs-gray-600);line-height:1.5em;margin-bottom:0}@media (max-width: 575px){#notification[_ngcontent-%COMP%]   .notification-list[_ngcontent-%COMP%]   .notification-item[_ngcontent-%COMP%]   .notification-content[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{font-size:12px}}#notification[_ngcontent-%COMP%]   .notification-list[_ngcontent-%COMP%]   .notification-item[_ngcontent-%COMP%]   .notification-content[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{text-align:end;color:var(--bs-gray-400);margin-bottom:0;font-size:12px}#notification[_ngcontent-%COMP%]   .notification-list[_ngcontent-%COMP%]   .notification-item[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{position:absolute;right:20px;top:14px}  #notification .notification-item .ant-row-bottom{align-items:center!important}@media (max-width: 575px){  #notification .notification-item .ant-card-body{padding:15px}}  #notification .ant-pagination-next .ant-pagination-item-link,   #notification .ant-pagination-prev .ant-pagination-item-link{line-height:0em}  #notification .ant-pagination-item a,   #notification .ant-pagination-item:focus-visible a,   #notification .ant-pagination-item:hover a{text-decoration:none;line-height:1.9em}.loader-wrapper[_ngcontent-%COMP%]{justify-content:center;text-align:center;min-height:60vh;display:flex;align-items:center}.loader-wrapper[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em}.pagination[_ngcontent-%COMP%]{text-align:center;display:block}.pagination[_ngcontent-%COMP%]   nz-pagination[_ngcontent-%COMP%]{text-align:center}"]}),o})()}];let J=(()=>{class o{}return o.\u0275fac=function(i){return new(i||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[m.Bz.forChild(U)],m.Bz]}),o})();var k=e(5326);let Q=(()=>{class o{}return o.\u0275fac=function(i){return new(i||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[n.ez,J,M.P,f.aw,k.m]]}),o})()},5181:(E,C,e)=>{e.d(C,{s:()=>h});var n=e(5e3),M=e(685),f=e(9808),m=e(6042),x=e(2643),t=e(2683),O=e(1062);function P(c,r){if(1&c&&(n.TgZ(0,"h5",3),n._uU(1),n.ALo(2,"translate"),n.qZA(),n.TgZ(3,"p",4),n._uU(4),n.ALo(5,"translate"),n.qZA()),2&c){const s=n.oxw();n.xp6(1),n.Oqu(n.lcZ(2,2,s.title)),n.xp6(3),n.Oqu(n.lcZ(5,4,s.text))}}function z(c,r){if(1&c){const s=n.EpF();n.TgZ(0,"button",7),n.NdJ("click",function(){return n.CHM(s),n.oxw(2).onButtonClicked()}),n._uU(1),n.ALo(2,"translate"),n.qZA()}if(2&c){const s=n.oxw(2);n.xp6(1),n.Oqu(n.lcZ(2,1,s.btnText))}}function y(c,r){if(1&c){const s=n.EpF();n.TgZ(0,"button",8),n.NdJ("click",function(){return n.CHM(s),n.oxw(2).onEditClicked()}),n._uU(1),n.ALo(2,"translate"),n.qZA()}2&c&&(n.xp6(1),n.Oqu(n.lcZ(2,1,"CreateListing.Edit")))}function b(c,r){if(1&c&&(n.YNc(0,z,3,3,"button",5),n.YNc(1,y,3,3,"button",6)),2&c){const s=n.oxw();n.Q6J("ngIf",s.withBtn),n.xp6(1),n.Q6J("ngIf",s.isPublish)}}let h=(()=>{class c{constructor(){this.title="",this.text="",this.icon="",this.btnText="",this.isPublish=!1,this.btnClicked=new n.vpe,this.editClicked=new n.vpe}ngOnInit(){}onButtonClicked(){this.btnClicked.emit()}onEditClicked(){this.editClicked.emit()}}return c.\u0275fac=function(s){return new(s||c)},c.\u0275cmp=n.Xpm({type:c,selectors:[["app-empty-state"]],inputs:{title:"title",text:"text",icon:"icon",withBtn:"withBtn",btnText:"btnText",isPublish:"isPublish"},outputs:{btnClicked:"btnClicked",editClicked:"editClicked"},decls:5,vars:3,consts:[[1,"empty-wrapper","pt-5","pb-5",3,"nzNotFoundImage","nzNotFoundContent","nzNotFoundFooter"],["contentTpl",""],["footerTpl",""],[1,"title"],[1,"description"],["nz-button","","nzType","primary","class","mr-1 ml-1",3,"click",4,"ngIf"],["nz-button","","class","edit-btn mr-1 ml-1",3,"click",4,"ngIf"],["nz-button","","nzType","primary",1,"mr-1","ml-1",3,"click"],["nz-button","",1,"edit-btn","mr-1","ml-1",3,"click"]],template:function(s,p){if(1&s&&(n.TgZ(0,"nz-empty",0),n.YNc(1,P,6,6,"ng-template",null,1,n.W1O),n.YNc(3,b,2,2,"ng-template",null,2,n.W1O),n.qZA()),2&s){const _=n.MAs(2),N=n.MAs(4);n.Q6J("nzNotFoundImage",p.icon?p.icon:"https://gw.alipayobjects.com/zos/antfincdn/ZHrcdLPrvN/empty.svg")("nzNotFoundContent",_)("nzNotFoundFooter",N)}},directives:[M.p9,f.O5,m.ix,x.dQ,t.w],pipes:[O.X$],styles:[".title[_ngcontent-%COMP%]{font-weight:600;margin-top:1em;margin-bottom:1em;color:var(--bs-dark)}.description[_ngcontent-%COMP%]{width:50%;margin:auto;color:var(--bs-gray-600)}.edit-btn[_ngcontent-%COMP%]{border-color:var(--bs-gray-300);color:var(--bs-dark);background-color:var(--bs-gray-300)}.mr-1[_ngcontent-%COMP%]{margin-inline-start:5px}.ml-1[_ngcontent-%COMP%]{margin-inline-end:5px}"]}),c})()}}]);