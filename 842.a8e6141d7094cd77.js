"use strict";(self.webpackChunkroomz_web_app=self.webpackChunkroomz_web_app||[]).push([[842],{5842:(Y,p,e)=>{e.r(p),e.d(p,{NotificationsModule:()=>X});var r=e(9808),v=e(978),d=e(1062),f=e(7152),C=e(727),t=e(5e3),M=e(6010),P=e(2340),x=e(520);let z=(()=>{class i{constructor(n){this.http=n}getAllNotifications(n){return this.http.get(`${P.N.endPointUrl}/user/hosting/notifications`,{params:n})}}return i.\u0275fac=function(n){return new(n||i)(t.LFG(x.eN))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var O=e(9592),m=e(1894),_=e(7484),N=e(5181),y=e(2683),D=e(3087),b=e(9590),w=e(1711);const g=function(){return{span:24}},h=function(){return{span:2}},S=function(){return{span:3}},u=function(){return{span:22}},T=function(){return{span:21}};function Z(i,a){if(1&i&&(t.TgZ(0,"div",11)(1,"nz-card")(2,"div",12)(3,"div",13)(4,"span"),t._uU(5),t.qZA()(),t.TgZ(6,"div",14)(7,"h6",15),t._uU(8),t.qZA(),t._UZ(9,"div",16),t.TgZ(10,"p",17),t._uU(11),t.ALo(12,"date"),t.qZA()()()()()),2&i){const n=a.$implicit;t.Q6J("nzXs",t.DdM(17,g))("nzLg",t.DdM(18,g))("nzMd",t.DdM(19,g)),t.xp6(3),t.Q6J("nzLg",t.DdM(20,h))("nzMd",t.DdM(21,h))("nzXs",t.DdM(22,S)),t.xp6(2),t.AsE(" ",null==n||null==n.user?null:n.user.first_name.slice(0,1)," ",null==n||null==n.user?null:n.user.last_name.slice(0,1)," "),t.xp6(1),t.Q6J("nzLg",t.DdM(23,u))("nzMd",t.DdM(24,u))("nzXs",t.DdM(25,T)),t.xp6(2),t.Oqu(null==n?null:n.title),t.xp6(1),t.Q6J("innerHtml",null==n?null:n.description,t.oJD),t.xp6(2),t.hij(" ",t.xi3(12,14,null==n?null:n.created_at,"mediumDate")," ")}}function L(i,a){if(1&i&&(t.TgZ(0,"div",9),t.YNc(1,Z,13,26,"div",10),t.qZA()),2&i){const n=t.oxw();t.xp6(1),t.Q6J("ngForOf",n.notificationsData)}}function A(i,a){if(1&i){const n=t.EpF();t.TgZ(0,"div",18)(1,"app-empty-state",19),t.NdJ("btnClicked",function(){return t.CHM(n),t.oxw().onBrowseBtnClicked()}),t.qZA()()}if(2&i){const n=t.oxw();t.xp6(1),t.Q6J("title",n.emptyData.title)("text",n.emptyData.text)("icon",n.emptyData.icon)("withBtn",n.emptyData.withBtn)("btnText",n.emptyData.btnText)}}function J(i,a){1&i&&t._UZ(0,"span",23)}function B(i,a){if(1&i&&(t.TgZ(0,"div",20),t.YNc(1,J,1,0,"ng-template",null,21,t.W1O),t._UZ(3,"nz-spin",22),t.qZA()),2&i){const n=t.MAs(2);t.xp6(3),t.Q6J("nzIndicator",n)}}const I=function(){return{span:20}},F=[{path:"",component:(()=>{class i{constructor(n,o,c,s,l){this.commonService=n,this.translateService=o,this.notificationsService=c,this.cookieService=s,this.router=l,this.notificationsFilterCriteria={page:1,pageSize:5},this.loading=!1,this.notificationsData=[],this.emptyData={title:"",text:"",icon:"",withBtn:!1,btnText:""},this.subscriptions=new C.w0}ngOnInit(){this.getUserData()}getUserData(){this.cookieService.get("userData")?(this.userData=JSON.parse(this.cookieService.get("userData")),this.fetchNotificationsData()):this.handleNotAuthorized()}handleEmptyData(){this.emptyData={title:this.translateService.instant("General.NoData"),text:this.translateService.instant("General.NoNotifications"),icon:"https://gw.alipayobjects.com/zos/antfincdn/ZHrcdLPrvN/empty.svg",withBtn:!1,btnText:this.translateService.instant("General.Browse")}}onBrowseBtnClicked(){var n;(null===(n=this.userData)||void 0===n?void 0:n.id)?this.router.navigateByUrl("/"):this.router.navigateByUrl("auth/sign-up")}handleNotAuthorized(){this.emptyData={title:this.translateService.instant("General.NotLoggedIn"),text:this.translateService.instant("General.PleaseLogin"),icon:"https://gw.alipayobjects.com/zos/antfincdn/ZHrcdLPrvN/empty.svg",withBtn:!0,btnText:this.translateService.instant("General.LoginOrSignup")}}fetchNotificationsData(){this.loading=!0,this.subscriptions.add(this.notificationsService.getAllNotifications(this.notificationsFilterCriteria).subscribe(n=>{var o,c,s,l;(null==n?void 0:n.successful)&&(this.loading=!1,this.notificationsData=null===(o=null==n?void 0:n.data)||void 0===o?void 0:o.data,this.totalNotifications=null===(s=null===(c=null==n?void 0:n.data)||void 0===c?void 0:c.meta)||void 0===s?void 0:s.total,(null===(l=this.notificationsData)||void 0===l?void 0:l.length)||this.handleEmptyData())},n=>{var o;this.loading=!1,this.commonService.showErrorAlert(this.translateService.instant("General.Error"),null===(o=null==n?void 0:n.error)||void 0===o?void 0:o.message)}))}pageChanged(n){this.notificationsFilterCriteria.page=n,this.fetchNotificationsData()}ngOnDestroy(){this.subscriptions.unsubscribe()}}return i.\u0275fac=function(n){return new(n||i)(t.Y36(M.v),t.Y36(d.sK),t.Y36(z),t.Y36(O.N_),t.Y36(f.F0))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-notifications"]],decls:12,vars:13,consts:[["nz-row","","id","notification"],["nz-col","",1,"m-auto",3,"nzXs","nzLg"],[1,"title","mb-5"],["class","notification-list","nz-row","",4,"ngIf"],["class","empty-state mb-5",4,"ngIf"],["class","loader-wrapper mt-3",4,"ngIf"],[1,"pagination","mt-2","mb-2"],[3,"nzPageIndex","nzTotal","nzPageSize","nzPageIndexChange"],[1,"pagination-notifi"],["nz-row","",1,"notification-list"],["class","notification-item","nz-col","",3,"nzXs","nzLg","nzMd",4,"ngFor","ngForOf"],["nz-col","",1,"notification-item",3,"nzXs","nzLg","nzMd"],["nz-row","","nzJustify","space-between","nzAlign","bottom"],["nz-col","",1,"first-Letter",3,"nzLg","nzMd","nzXs"],["nz-col","",1,"notification-content",3,"nzLg","nzMd","nzXs"],[1,"title"],[1,"desc",3,"innerHtml"],[1,"date"],[1,"empty-state","mb-5"],[3,"title","text","icon","withBtn","btnText","btnClicked"],[1,"loader-wrapper","mt-3"],["indicatorTemplate",""],["nzSimple","",3,"nzIndicator"],["nz-icon","","nzType","loading"]],template:function(n,o){1&n&&(t.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"h2"),t._uU(4),t.ALo(5,"translate"),t.qZA()(),t.YNc(6,L,2,1,"div",3),t.YNc(7,A,2,5,"div",4),t.YNc(8,B,4,1,"div",5),t.TgZ(9,"div",6)(10,"nz-pagination",7),t.NdJ("nzPageIndexChange",function(s){return o.pageChanged(s)}),t.qZA()(),t._UZ(11,"div",8),t.qZA()()),2&n&&(t.xp6(1),t.Q6J("nzXs",t.DdM(11,g))("nzLg",t.DdM(12,I)),t.xp6(3),t.Oqu(t.lcZ(5,9,"Notifications.Notifications")),t.xp6(2),t.Q6J("ngIf",(null==o.notificationsData?null:o.notificationsData.length)&&!o.loading),t.xp6(1),t.Q6J("ngIf",!(null!=o.notificationsData&&o.notificationsData.length||o.loading)),t.xp6(1),t.Q6J("ngIf",o.loading),t.xp6(2),t.Q6J("nzPageIndex",o.notificationsFilterCriteria.page)("nzTotal",o.totalNotifications)("nzPageSize",o.notificationsFilterCriteria.pageSize))},directives:[m.SK,m.t3,r.O5,r.sg,_.bd,N.s,y.w,D.Ls,b.W,w.dE],pipes:[d.X$,r.uU],styles:["#notification[_ngcontent-%COMP%]{padding:50px 24px 20px;margin-bottom:2em}#notification[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:22px;font-weight:700;line-height:30px;color:var(--bs-dark)}#notification[_ngcontent-%COMP%]   .notification-list[_ngcontent-%COMP%]   .notification-item[_ngcontent-%COMP%]{position:relative;margin-bottom:1em;align-items:center}#notification[_ngcontent-%COMP%]   .notification-list[_ngcontent-%COMP%]   .notification-item[_ngcontent-%COMP%]   .ant-card[_ngcontent-%COMP%]{border-radius:5px}@media (max-width: 575px){#notification[_ngcontent-%COMP%]   .notification-list[_ngcontent-%COMP%]   .notification-item[_ngcontent-%COMP%]   .ant-card[_ngcontent-%COMP%]   .ant-card-body[_ngcontent-%COMP%]{padding:15}}#notification[_ngcontent-%COMP%]   .notification-list[_ngcontent-%COMP%]   .notification-item[_ngcontent-%COMP%]   .first-Letter[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:80px;height:80px;color:var(--bs-primary);display:block;margin:0 auto 7px;border-radius:50%;background-color:#ffedf1;display:flex;justify-content:center;align-items:center;font-size:41px;line-height:27px}@media (max-width: 991px){#notification[_ngcontent-%COMP%]   .notification-list[_ngcontent-%COMP%]   .notification-item[_ngcontent-%COMP%]   .first-Letter[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:70px;height:70px;font-size:35px}}@media (max-width: 768px){#notification[_ngcontent-%COMP%]   .notification-list[_ngcontent-%COMP%]   .notification-item[_ngcontent-%COMP%]   .first-Letter[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:60px;height:60px}}@media (max-width: 575px){#notification[_ngcontent-%COMP%]   .notification-list[_ngcontent-%COMP%]   .notification-item[_ngcontent-%COMP%]   .first-Letter[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-inline:0 10px}}#notification[_ngcontent-%COMP%]   .notification-list[_ngcontent-%COMP%]   .notification-item[_ngcontent-%COMP%]   .notification-content[_ngcontent-%COMP%]{padding-inline-start:22px}#notification[_ngcontent-%COMP%]   .notification-list[_ngcontent-%COMP%]   .notification-item[_ngcontent-%COMP%]   .notification-content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:18px;line-height:20px;color:var(--bs-dark);font-weight:500;margin-bottom:10px}@media (max-width: 575px){#notification[_ngcontent-%COMP%]   .notification-list[_ngcontent-%COMP%]   .notification-item[_ngcontent-%COMP%]   .notification-content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:16px}}#notification[_ngcontent-%COMP%]   .notification-list[_ngcontent-%COMP%]   .notification-item[_ngcontent-%COMP%]   .notification-content[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{font-size:14px;color:var(--bs-gray-600);line-height:1.5em;margin-bottom:0}@media (max-width: 575px){#notification[_ngcontent-%COMP%]   .notification-list[_ngcontent-%COMP%]   .notification-item[_ngcontent-%COMP%]   .notification-content[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{font-size:12px}}#notification[_ngcontent-%COMP%]   .notification-list[_ngcontent-%COMP%]   .notification-item[_ngcontent-%COMP%]   .notification-content[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{text-align:end;color:var(--bs-gray-400);margin-bottom:0;font-size:12px}#notification[_ngcontent-%COMP%]   .notification-list[_ngcontent-%COMP%]   .notification-item[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{position:absolute;right:20px;top:14px}  .notification-item .ant-row-bottom{align-items:center!important}@media (max-width: 575px){  .notification-item .ant-card-body{padding:15px}}  .ant-pagination-next .ant-pagination-item-link,   .ant-pagination-prev .ant-pagination-item-link{line-height:0em}  .ant-pagination-item a,   .ant-pagination-item:focus-visible a,   .ant-pagination-item:hover a{text-decoration:none;line-height:1.9em}.loader-wrapper[_ngcontent-%COMP%]{justify-content:center;text-align:center;min-height:60vh;display:flex;align-items:center}.loader-wrapper[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em}.pagination[_ngcontent-%COMP%]{text-align:center;display:block}.pagination[_ngcontent-%COMP%]   nz-pagination[_ngcontent-%COMP%]{text-align:center}"]}),i})()}];let U=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[f.Bz.forChild(F)],f.Bz]}),i})();var Q=e(5326);let X=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[r.ez,U,v.P,d.aw,Q.m]]}),i})()}}]);