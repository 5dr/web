"use strict";(self.webpackChunkroomz_web_app=self.webpackChunkroomz_web_app||[]).push([[842],{5842:(b,u,e)=>{e.r(u),e.d(u,{NotificationsModule:()=>Y});var i=e(9808),M=e(978),d=e(1062),f=e(4239),v=e(727),t=e(5e3),x=e(6010),O=e(2340),P=e(520);let z=(()=>{class o{constructor(n){this.http=n}getAllNotifications(n){return this.http.get(`${O.N.endPointUrl}/user/hosting/notifications`,{params:n})}}return o.\u0275fac=function(n){return new(n||o)(t.LFG(P.eN))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var y=e(9592),c=e(1894),r=e(7484),s=e(5181),m=e(2683),h=e(3087),N=e(9590),w=e(1711);const C=function(){return{span:24}},D=function(){return{span:2}},A=function(){return{span:3}},T=function(){return{span:22}},E=function(){return{span:21}};function Z(o,l){if(1&o&&(t.TgZ(0,"div",11)(1,"nz-card")(2,"div",12)(3,"div",13)(4,"span"),t._uU(5),t.qZA()(),t.TgZ(6,"div",14)(7,"h6",15),t._uU(8),t.qZA(),t._UZ(9,"div",16),t.TgZ(10,"p",17),t._uU(11),t.ALo(12,"date"),t.qZA()()()()()),2&o){const n=l.$implicit;t.Q6J("nzXs",t.DdM(17,C))("nzLg",t.DdM(18,C))("nzMd",t.DdM(19,C)),t.xp6(3),t.Q6J("nzLg",t.DdM(20,D))("nzMd",t.DdM(21,D))("nzXs",t.DdM(22,A)),t.xp6(2),t.AsE(" ",null==n||null==n.user?null:n.user.first_name.slice(0,1)," ",null==n||null==n.user?null:n.user.last_name.slice(0,1)," "),t.xp6(1),t.Q6J("nzLg",t.DdM(23,T))("nzMd",t.DdM(24,T))("nzXs",t.DdM(25,E)),t.xp6(2),t.Oqu(null==n?null:n.title),t.xp6(1),t.Q6J("innerHtml",null==n?null:n.description,t.oJD),t.xp6(2),t.hij(" ",t.xi3(12,14,null==n?null:n.created_at,"mediumDate")," ")}}function S(o,l){if(1&o&&(t.TgZ(0,"div",9),t.YNc(1,Z,13,26,"div",10),t.qZA()),2&o){const n=t.oxw();t.xp6(1),t.Q6J("ngForOf",n.notificationsData)}}function L(o,l){if(1&o){const n=t.EpF();t.TgZ(0,"div",18)(1,"app-empty-state",19),t.NdJ("btnClicked",function(){return t.CHM(n),t.oxw().onBrowseBtnClicked()}),t.qZA()()}if(2&o){const n=t.oxw();t.xp6(1),t.Q6J("title",n.emptyData.title)("text",n.emptyData.text)("icon",n.emptyData.icon)("withBtn",n.emptyData.withBtn)("btnText",n.emptyData.btnText)}}function B(o,l){1&o&&t._UZ(0,"span",23)}function I(o,l){if(1&o&&(t.TgZ(0,"div",20),t.YNc(1,B,1,0,"ng-template",null,21,t.W1O),t._UZ(3,"nz-spin",22),t.qZA()),2&o){const n=t.MAs(2);t.xp6(3),t.Q6J("nzIndicator",n)}}const F=function(){return{span:20}},U=[{path:"",component:(()=>{class o{constructor(n,a,g,p,_){this.commonService=n,this.translateService=a,this.notificationsService=g,this.cookieService=p,this.router=_,this.notificationsFilterCriteria={page:1,pageSize:5},this.loading=!1,this.notificationsData=[],this.emptyData={title:"",text:"",icon:"",withBtn:!1,btnText:""},this.subscriptions=new v.w0}ngOnInit(){this.getUserData()}getUserData(){this.cookieService.get("userData")?(this.userData=JSON.parse(this.cookieService.get("userData")),this.fetchNotificationsData()):this.handleNotAuthorized()}handleEmptyData(){this.emptyData={title:this.translateService.instant("General.NoData"),text:this.translateService.instant("General.NoNotifications"),icon:"https://gw.alipayobjects.com/zos/antfincdn/ZHrcdLPrvN/empty.svg",withBtn:!1,btnText:this.translateService.instant("General.Browse")}}onBrowseBtnClicked(){var n;(null===(n=this.userData)||void 0===n?void 0:n.id)?this.router.navigateByUrl("/"):this.router.navigateByUrl("auth/sign-up")}handleNotAuthorized(){this.emptyData={title:this.translateService.instant("General.NotLoggedIn"),text:this.translateService.instant("General.PleaseLogin"),icon:"https://gw.alipayobjects.com/zos/antfincdn/ZHrcdLPrvN/empty.svg",withBtn:!0,btnText:this.translateService.instant("General.LoginOrSignup")}}fetchNotificationsData(){console.log("called"),this.loading=!0,this.subscriptions.add(this.notificationsService.getAllNotifications(this.notificationsFilterCriteria).subscribe(n=>{var a,g,p,_;(null==n?void 0:n.successful)&&(this.loading=!1,this.notificationsData=null===(a=null==n?void 0:n.data)||void 0===a?void 0:a.data,this.totalNotifications=null===(p=null===(g=null==n?void 0:n.data)||void 0===g?void 0:g.meta)||void 0===p?void 0:p.total,(null===(_=this.notificationsData)||void 0===_?void 0:_.length)||this.handleEmptyData())},n=>{this.loading=!1,this.handleEmptyData()}))}pageChanged(n){this.notificationsFilterCriteria.page=n,this.fetchNotificationsData()}ngOnDestroy(){this.subscriptions.unsubscribe()}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(x.v),t.Y36(d.sK),t.Y36(z),t.Y36(y.N_),t.Y36(f.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-notifications"]],decls:12,vars:13,consts:[["nz-row","","id","notification"],["nz-col","",1,"m-auto",3,"nzXs","nzLg"],[1,"title","mb-5"],["class","notification-list","nz-row","",4,"ngIf"],["class","empty-state mb-5",4,"ngIf"],["class","loader-wrapper mt-3",4,"ngIf"],[1,"pagination","mt-2","mb-2"],[3,"nzPageIndex","nzTotal","nzPageSize","nzPageIndexChange"],[1,"pagination-notifi"],["nz-row","",1,"notification-list"],["class","notification-item","nz-col","",3,"nzXs","nzLg","nzMd",4,"ngFor","ngForOf"],["nz-col","",1,"notification-item",3,"nzXs","nzLg","nzMd"],["nz-row","","nzJustify","space-between","nzAlign","bottom"],["nz-col","",1,"first-Letter",3,"nzLg","nzMd","nzXs"],["nz-col","",1,"notification-content",3,"nzLg","nzMd","nzXs"],[1,"title"],[1,"desc",3,"innerHtml"],[1,"date"],[1,"empty-state","mb-5"],[3,"title","text","icon","withBtn","btnText","btnClicked"],[1,"loader-wrapper","mt-3"],["indicatorTemplate",""],["nzSimple","",3,"nzIndicator"],["nz-icon","","nzType","loading"]],template:function(n,a){1&n&&(t.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"h2"),t._uU(4),t.ALo(5,"translate"),t.qZA()(),t.YNc(6,S,2,1,"div",3),t.YNc(7,L,2,5,"div",4),t.YNc(8,I,4,1,"div",5),t.TgZ(9,"div",6)(10,"nz-pagination",7),t.NdJ("nzPageIndexChange",function(p){return a.pageChanged(p)}),t.qZA()(),t._UZ(11,"div",8),t.qZA()()),2&n&&(t.xp6(1),t.Q6J("nzXs",t.DdM(11,C))("nzLg",t.DdM(12,F)),t.xp6(3),t.Oqu(t.lcZ(5,9,"Notifications.Notifications")),t.xp6(2),t.Q6J("ngIf",(null==a.notificationsData?null:a.notificationsData.length)&&!a.loading),t.xp6(1),t.Q6J("ngIf",!(null!=a.notificationsData&&a.notificationsData.length||a.loading)),t.xp6(1),t.Q6J("ngIf",a.loading),t.xp6(2),t.Q6J("nzPageIndex",a.notificationsFilterCriteria.page)("nzTotal",a.totalNotifications)("nzPageSize",a.notificationsFilterCriteria.pageSize))},directives:[c.SK,c.t3,i.O5,i.sg,r.bd,s.s,m.w,h.Ls,N.W,w.dE],pipes:[d.X$,i.uU],styles:["#notification[_ngcontent-%COMP%]{padding:50px 24px 20px;margin-bottom:2em}#notification[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:22px;font-weight:700;line-height:30px;color:var(--bs-dark)}#notification[_ngcontent-%COMP%]   .notification-list[_ngcontent-%COMP%]   .notification-item[_ngcontent-%COMP%]{position:relative;margin-bottom:1em;align-items:center}#notification[_ngcontent-%COMP%]   .notification-list[_ngcontent-%COMP%]   .notification-item[_ngcontent-%COMP%]   .ant-card[_ngcontent-%COMP%]{border-radius:5px}@media (max-width: 575px){#notification[_ngcontent-%COMP%]   .notification-list[_ngcontent-%COMP%]   .notification-item[_ngcontent-%COMP%]   .ant-card[_ngcontent-%COMP%]   .ant-card-body[_ngcontent-%COMP%]{padding:15}}#notification[_ngcontent-%COMP%]   .notification-list[_ngcontent-%COMP%]   .notification-item[_ngcontent-%COMP%]   .first-Letter[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:80px;height:80px;color:var(--bs-primary);display:block;margin:0 auto 7px;border-radius:50%;background-color:#ffedf1;display:flex;justify-content:center;align-items:center;font-size:41px;line-height:27px}@media (max-width: 991px){#notification[_ngcontent-%COMP%]   .notification-list[_ngcontent-%COMP%]   .notification-item[_ngcontent-%COMP%]   .first-Letter[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:70px;height:70px;font-size:35px}}@media (max-width: 768px){#notification[_ngcontent-%COMP%]   .notification-list[_ngcontent-%COMP%]   .notification-item[_ngcontent-%COMP%]   .first-Letter[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:60px;height:60px}}@media (max-width: 575px){#notification[_ngcontent-%COMP%]   .notification-list[_ngcontent-%COMP%]   .notification-item[_ngcontent-%COMP%]   .first-Letter[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-inline:0 10px}}#notification[_ngcontent-%COMP%]   .notification-list[_ngcontent-%COMP%]   .notification-item[_ngcontent-%COMP%]   .notification-content[_ngcontent-%COMP%]{padding-inline-start:22px}#notification[_ngcontent-%COMP%]   .notification-list[_ngcontent-%COMP%]   .notification-item[_ngcontent-%COMP%]   .notification-content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:18px;line-height:20px;color:var(--bs-dark);font-weight:500;margin-bottom:10px}@media (max-width: 575px){#notification[_ngcontent-%COMP%]   .notification-list[_ngcontent-%COMP%]   .notification-item[_ngcontent-%COMP%]   .notification-content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:16px}}#notification[_ngcontent-%COMP%]   .notification-list[_ngcontent-%COMP%]   .notification-item[_ngcontent-%COMP%]   .notification-content[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{font-size:14px;color:var(--bs-gray-600);line-height:1.5em;margin-bottom:0}@media (max-width: 575px){#notification[_ngcontent-%COMP%]   .notification-list[_ngcontent-%COMP%]   .notification-item[_ngcontent-%COMP%]   .notification-content[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{font-size:12px}}#notification[_ngcontent-%COMP%]   .notification-list[_ngcontent-%COMP%]   .notification-item[_ngcontent-%COMP%]   .notification-content[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{text-align:end;color:var(--bs-gray-400);margin-bottom:0;font-size:12px}#notification[_ngcontent-%COMP%]   .notification-list[_ngcontent-%COMP%]   .notification-item[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{position:absolute;right:20px;top:14px}  #notification .notification-item .ant-row-bottom{align-items:center!important}@media (max-width: 575px){  #notification .notification-item .ant-card-body{padding:15px}}  #notification .ant-pagination-next .ant-pagination-item-link,   #notification .ant-pagination-prev .ant-pagination-item-link{line-height:0em}  #notification .ant-pagination-item a,   #notification .ant-pagination-item:focus-visible a,   #notification .ant-pagination-item:hover a{text-decoration:none;line-height:1.9em}.loader-wrapper[_ngcontent-%COMP%]{justify-content:center;text-align:center;min-height:60vh;display:flex;align-items:center}.loader-wrapper[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em}.pagination[_ngcontent-%COMP%]{text-align:center;display:block}.pagination[_ngcontent-%COMP%]   nz-pagination[_ngcontent-%COMP%]{text-align:center}"]}),o})()}];let J=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[f.Bz.forChild(U)],f.Bz]}),o})();var Q=e(5326);let Y=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[i.ez,J,M.P,d.aw,Q.m]]}),o})()},5181:(b,u,e)=>{e.d(u,{s:()=>y});var i=e(5e3),M=e(685),d=e(9808),f=e(6042),v=e(2643),t=e(2683),x=e(1062);function O(c,r){if(1&c&&(i.TgZ(0,"h5",3),i._uU(1),i.ALo(2,"translate"),i.qZA(),i.TgZ(3,"p",4),i._uU(4),i.ALo(5,"translate"),i.qZA()),2&c){const s=i.oxw();i.xp6(1),i.Oqu(i.lcZ(2,2,s.title)),i.xp6(3),i.Oqu(i.lcZ(5,4,s.text))}}function P(c,r){if(1&c){const s=i.EpF();i.TgZ(0,"button",6),i.NdJ("click",function(){return i.CHM(s),i.oxw(2).onButtonClicked()}),i._uU(1),i.ALo(2,"translate"),i.qZA()}if(2&c){const s=i.oxw(2);i.xp6(1),i.Oqu(i.lcZ(2,1,s.btnText))}}function z(c,r){if(1&c&&i.YNc(0,P,3,3,"button",5),2&c){const s=i.oxw();i.Q6J("ngIf",s.withBtn)}}let y=(()=>{class c{constructor(){this.title="",this.text="",this.icon="",this.btnText="",this.btnClicked=new i.vpe}ngOnInit(){}onButtonClicked(){this.btnClicked.emit()}}return c.\u0275fac=function(s){return new(s||c)},c.\u0275cmp=i.Xpm({type:c,selectors:[["app-empty-state"]],inputs:{title:"title",text:"text",icon:"icon",withBtn:"withBtn",btnText:"btnText"},outputs:{btnClicked:"btnClicked"},decls:5,vars:3,consts:[[1,"empty-wrapper","pt-5","pb-5",3,"nzNotFoundImage","nzNotFoundContent","nzNotFoundFooter"],["contentTpl",""],["footerTpl",""],[1,"title"],[1,"description"],["nz-button","","nzType","primary",3,"click",4,"ngIf"],["nz-button","","nzType","primary",3,"click"]],template:function(s,m){if(1&s&&(i.TgZ(0,"nz-empty",0),i.YNc(1,O,6,6,"ng-template",null,1,i.W1O),i.YNc(3,z,1,1,"ng-template",null,2,i.W1O),i.qZA()),2&s){const h=i.MAs(2),N=i.MAs(4);i.Q6J("nzNotFoundImage",m.icon?m.icon:"https://gw.alipayobjects.com/zos/antfincdn/ZHrcdLPrvN/empty.svg")("nzNotFoundContent",h)("nzNotFoundFooter",N)}},directives:[M.p9,d.O5,f.ix,v.dQ,t.w],pipes:[x.X$],styles:[".title[_ngcontent-%COMP%]{font-weight:600;margin-top:1em;margin-bottom:1em;color:var(--bs-dark)}.description[_ngcontent-%COMP%]{width:50%;margin:auto;color:var(--bs-gray-600)}"]}),c})()}}]);