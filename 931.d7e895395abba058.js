"use strict";(self.webpackChunkroomz_web_app=self.webpackChunkroomz_web_app||[]).push([[931],{3501:(u,d,p)=>{p.d(d,{o:()=>m});var i=p(2340),g=p(5e3),t=p(520);let m=(()=>{class c{constructor(s){this.http=s}getListings(s){return this.http.get(`${i.N.endPointUrl}/user/hosting/my-properties`,{params:s})}fetchPropertyDetails(s){return this.http.get(`${i.N.endPointUrl}/user/travelling/property-details/${s}`)}}return c.\u0275fac=function(s){return new(s||c)(g.LFG(t.eN))},c.\u0275prov=g.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()},1107:(u,d,p)=>{p.d(d,{Z:()=>k});var i=p(5439),t=p(5e3),m=p(4239),c=p(7484),_=p(9808),s=p(2683),C=p(3087),O=p(1062);function M(n,a){1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"PlaceDetailsPage.Draft")))}function y(n,a){1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"PlaceDetailsPage.PendingApproval")))}function f(n,a){1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"PlaceDetailsPage.Published")))}function D(n,a){1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"PlaceDetailsPage.Unlisted")))}function x(n,a){1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"PlaceDetailsPage.Blocked")))}function h(n,a){1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"PlaceDetailsPage.Deleted")))}function v(n,a){1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"PlaceDetailsPage.Rejected")))}function w(n,a){if(1&n&&t._UZ(0,"img",26),2&n){const e=t.oxw(2);t.Q6J("src",null==e.propertyData?null:e.propertyData.cover_photo,t.LSH)}}function Z(n,a){1&n&&t._UZ(0,"img",27)}function T(n,a){if(1&n&&(t.TgZ(0,"p",15),t._UZ(1,"span",28),t.TgZ(2,"span",17),t._uU(3),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(3),t.Oqu(null==e.propertyData?null:e.propertyData.location)}}function b(n,a){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit,r=t.oxw(3);t.xp6(1),t.Oqu(r.handleCalendarDate(e))}}function A(n,a){1&n&&(t.TgZ(0,"span",35),t._UZ(1,"span",36),t.qZA())}function U(n,a){1&n&&(t.TgZ(0,"span",37),t._UZ(1,"span",38),t.qZA())}function z(n,a){1&n&&(t.TgZ(0,"span",39),t._UZ(1,"span",40),t.qZA())}function I(n,a){if(1&n&&(t.TgZ(0,"span",31)(1,"span"),t.YNc(2,b,2,1,"span",7),t.YNc(3,A,2,0,"span",32),t.YNc(4,U,2,0,"span",33),t.YNc(5,z,2,0,"span",34),t.qZA()()),2&n){const e=a.$implicit,r=t.oxw(3);t.xp6(2),t.Q6J("ngIf","B"!=r.handleCalendarDate(e)&&"X"!=r.handleCalendarDate(e)&&"%"!=r.handleCalendarDate(e)),t.xp6(1),t.Q6J("ngIf","B"==r.handleCalendarDate(e)),t.xp6(1),t.Q6J("ngIf","X"==r.handleCalendarDate(e)),t.xp6(1),t.Q6J("ngIf","%"==r.handleCalendarDate(e))}}function E(n,a){if(1&n&&(t.TgZ(0,"div",29),t.YNc(1,I,6,4,"span",30),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.currentMonthDates)}}function W(n,a){if(1&n&&(t.TgZ(0,"div",4)(1,"div",5)(2,"span",6),t.YNc(3,M,3,3,"span",7),t.YNc(4,y,3,3,"span",7),t.YNc(5,f,3,3,"span",7),t.YNc(6,D,3,3,"span",7),t.YNc(7,x,3,3,"span",7),t.YNc(8,h,3,3,"span",7),t.YNc(9,v,3,3,"span",7),t.qZA(),t.YNc(10,w,1,1,"img",8),t.YNc(11,Z,1,0,"img",9),t.qZA(),t.TgZ(12,"div",10)(13,"div",11)(14,"h6",12),t._uU(15),t.qZA(),t.TgZ(16,"p",13),t._UZ(17,"i",14),t.TgZ(18,"span"),t._uU(19),t.qZA()()(),t.TgZ(20,"p",15),t._UZ(21,"span",16),t.TgZ(22,"span",17),t._uU(23),t.qZA()(),t.YNc(24,T,4,1,"p",18),t.TgZ(25,"div",19)(26,"div",20),t._UZ(27,"i",21),t.TgZ(28,"span",22),t._uU(29),t.qZA(),t.TgZ(30,"span",23),t._uU(31),t.ALo(32,"translate"),t.qZA()(),t.TgZ(33,"div",20),t._UZ(34,"i",24),t.TgZ(35,"span",22),t._uU(36),t.qZA(),t.TgZ(37,"span",23),t._uU(38),t.ALo(39,"translate"),t.qZA()()()(),t.YNc(40,E,2,1,"div",25),t.qZA()),2&n){const e=t.oxw();t.xp6(3),t.Q6J("ngIf","1"==e.propertyData.status),t.xp6(1),t.Q6J("ngIf","2"==e.propertyData.status),t.xp6(1),t.Q6J("ngIf","3"==e.propertyData.status),t.xp6(1),t.Q6J("ngIf","4"==e.propertyData.status),t.xp6(1),t.Q6J("ngIf","5"==e.propertyData.status),t.xp6(1),t.Q6J("ngIf","6"==e.propertyData.status),t.xp6(1),t.Q6J("ngIf","7"==e.propertyData.status),t.xp6(1),t.Q6J("ngIf",null==e.propertyData?null:e.propertyData.cover_photo),t.xp6(1),t.Q6J("ngIf",!(null!=e.propertyData&&e.propertyData.cover_photo)),t.xp6(4),t.Oqu(null==e.propertyData?null:e.propertyData.name),t.xp6(4),t.hij(" ",null==e.propertyData?null:e.propertyData.rate," "),t.xp6(4),t.Oqu(null==e.propertyData?null:e.propertyData.city),t.xp6(1),t.Q6J("ngIf",null==e.propertyData?null:e.propertyData.location),t.xp6(5),t.Oqu(null==e.propertyData?null:e.propertyData.no_of_bedrooms),t.xp6(2),t.Oqu(t.lcZ(32,18,"PlaceDetails.Bedrooms")),t.xp6(5),t.Oqu(null==e.propertyData?null:e.propertyData.no_of_bathrooms),t.xp6(2),t.Oqu(t.lcZ(39,20,"PlaceDetails.Bathrooms")),t.xp6(2),t.Q6J("ngIf","calendar"===e.type)}}let k=(()=>{class n{constructor(e){this.router=e,this.type="property",this.currentMonthDates=[],this.preparedBlockedDates=[],this.preparedSpecialDates=[],this.preparedBookedDates=[]}ngOnInit(){this.prepareBlockedDates(),this.prepareSpecialDates(),this.prepareBookedDates(),this.getCurrentMonthDates(),console.log(this.propertyData)}prepareBlockedDates(){var e,r;null===(r=null===(e=this.propertyData)||void 0===e?void 0:e.block_dates)||void 0===r||r.map(o=>{this.preparedBlockedDates.push(i(null==o?void 0:o.blocked_date).format("DD-MM-YYYY"))})}prepareBookedDates(){var e,r;null===(r=null===(e=this.propertyData)||void 0===e?void 0:e.booking_days)||void 0===r||r.map(o=>{this.preparedBookedDates.push(i(o).format("DD-MM-YYYY"))})}prepareSpecialDates(){var e;null===(e=this.propertyData)||void 0===e||e.specific_date.map(r=>{this.preparedSpecialDates.push(null==r?void 0:r.specific_date)})}getCurrentMonthDates(){let e=Array.from({length:i().daysInMonth()},(r,o)=>i().startOf("month").add(o,"days"));this.currentMonthDates=e.map(r=>i(r).format("DD-MM-YYYY"))}routeReviewListing(){this.router.navigate("property"===this.type?["/host/properties/view",this.propertyData.id]:["/host/calendar/view",this.propertyData.id])}handleCalendarDate(e){var r,o,P;let l=e.slice(0,2);return(null===(r=this.preparedBlockedDates)||void 0===r?void 0:r.includes(e))&&(l="X"),(null===(o=this.preparedSpecialDates)||void 0===o?void 0:o.includes(e))&&(l="%"),(null===(P=this.preparedBookedDates)||void 0===P?void 0:P.includes(e))&&(l="B"),l}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(m.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-properties-wrapper"]],inputs:{propertyData:"propertyData",type:"type"},decls:5,vars:2,consts:[[1,"properties-wrapper"],[1,"property-card",3,"ngClass","click"],[3,"nzDescription"],["descriptionTemplate",""],[1,"body-wrapper"],[1,"property-img-wrapper"],[1,"status"],[4,"ngIf"],["class","property-img","alt","example",3,"src",4,"ngIf"],["class","property-img","alt","example","src","assets/imgs/booking-card-placeholder.png",4,"ngIf"],[1,"content-wrapper"],[1,"name-rate-row"],[1,"name"],[1,"rate","d-flex","align-items-center"],["nz-icon","","nzType","star","nzTheme","fill"],[1,"data-item"],["nz-icon","","nzType","environment","nzTheme","outline",1,"icon"],[1,"data"],["class","data-item",4,"ngIf"],[1,"rooms"],[1,"spec-item"],[1,"fa-solid","fa-bed"],[1,"number"],[1,"type"],[1,"fa-solid","fa-bath"],["class","dates-wrapper",4,"ngIf"],["alt","example",1,"property-img",3,"src"],["alt","example","src","assets/imgs/booking-card-placeholder.png",1,"property-img"],["nz-icon","","nzType","pushpin","nzTheme","outline",1,"icon"],[1,"dates-wrapper"],["class","date",4,"ngFor","ngForOf"],[1,"date"],["class","booked-date",4,"ngIf"],["class","blocked-date",4,"ngIf"],["class","special-date",4,"ngIf"],[1,"booked-date"],["nz-icon","","nzType","check-circle","nzTheme","outline"],[1,"blocked-date"],["nz-icon","","nzType","close-circle","nzTheme","outline"],[1,"special-date"],["nz-icon","","nzType","dollar-circle","nzTheme","outline"]],template:function(e,r){if(1&e&&(t.TgZ(0,"div",0)(1,"nz-card",1),t.NdJ("click",function(){return r.routeReviewListing()}),t._UZ(2,"nz-card-meta",2),t.qZA(),t.YNc(3,W,41,22,"ng-template",null,3,t.W1O),t.qZA()),2&e){const o=t.MAs(4);t.xp6(1),t.Q6J("ngClass","property"===r.type?"property-width":"calendar-width"),t.xp6(1),t.Q6J("nzDescription",o)}},directives:[c.bd,_.mk,c.l7,_.O5,s.w,C.Ls,_.sg],pipes:[O.X$],styles:[".properties-wrapper[_ngcontent-%COMP%]{justify-content:center}.calendar-width[_ngcontent-%COMP%]{width:100%}.property-width[_ngcontent-%COMP%]{width:80%}.property-card[_ngcontent-%COMP%]{padding:15px;border-radius:5px;margin:auto;margin-block-end:20px;cursor:pointer}@media (max-width: 768px){.property-card[_ngcontent-%COMP%]{width:100%}}@media (max-width: 575px){.property-card[_ngcontent-%COMP%]{width:100%;padding:8px}}.property-card[_ngcontent-%COMP%]   .body-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:start;align-items:center}.property-card[_ngcontent-%COMP%]   .body-wrapper[_ngcontent-%COMP%]   .property-img-wrapper[_ngcontent-%COMP%]{position:relative;width:40%}.property-card[_ngcontent-%COMP%]   .body-wrapper[_ngcontent-%COMP%]   .property-img-wrapper[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{position:absolute;top:3%;inset-inline-start:4%;background-color:var(--bs-white);font-size:12px;padding:5px 10px;border-radius:5px;color:var(--bs-primary);font-weight:700}.property-card[_ngcontent-%COMP%]   .body-wrapper[_ngcontent-%COMP%]   .property-img-wrapper[_ngcontent-%COMP%]   .property-img[_ngcontent-%COMP%]{width:100%;height:15em;object-fit:cover;border-radius:5px}.property-card[_ngcontent-%COMP%]   .body-wrapper[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{width:60%;padding-inline-start:2%;padding-inline-end:2%}.property-card[_ngcontent-%COMP%]   .body-wrapper[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .name-rate-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding-inline-end:2%}.property-card[_ngcontent-%COMP%]   .body-wrapper[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .name-rate-row[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:1.2rem;color:var(--bs-primary);font-weight:600}.property-card[_ngcontent-%COMP%]   .body-wrapper[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .name-rate-row[_ngcontent-%COMP%]   .rate[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#ffc107;padding-inline-end:5px;vertical-align:baseline}.property-card[_ngcontent-%COMP%]   .body-wrapper[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .name-rate-row[_ngcontent-%COMP%]   .rate[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--bs-dark)}.property-card[_ngcontent-%COMP%]   .body-wrapper[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .data-item[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:1rem;color:var(--bs-primary);vertical-align:middle}.property-card[_ngcontent-%COMP%]   .body-wrapper[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .data-item[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]{font-size:1rem;color:var(--bs-dark);margin-inline-start:.5em}.property-card[_ngcontent-%COMP%]   .body-wrapper[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .rooms[_ngcontent-%COMP%]   .spec-item[_ngcontent-%COMP%]{margin-bottom:1em}.property-card[_ngcontent-%COMP%]   .body-wrapper[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .rooms[_ngcontent-%COMP%]   .spec-item[_ngcontent-%COMP%]   .fa-solid[_ngcontent-%COMP%]{font-size:1rem;color:var(--bs-primary);vertical-align:middle}.property-card[_ngcontent-%COMP%]   .body-wrapper[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .rooms[_ngcontent-%COMP%]   .spec-item[_ngcontent-%COMP%]   .number[_ngcontent-%COMP%], .property-card[_ngcontent-%COMP%]   .body-wrapper[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .rooms[_ngcontent-%COMP%]   .spec-item[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]{margin-inline-start:.5em;color:var(--bs-dark)}.property-card[_ngcontent-%COMP%]   .dates-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;border:1px solid #ddd;padding:5px;padding-inline-start:10px;border-radius:5px}.property-card[_ngcontent-%COMP%]   .dates-wrapper[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:14.2857142857%;text-align:start;margin-bottom:.5em;font-size:12px}.booked-date[_ngcontent-%COMP%]{color:var(--bs-primary)}.booked-date[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px!important}.special-date[_ngcontent-%COMP%]{color:var(--bs-primary)}.special-date[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px!important}.blocked-date[_ngcontent-%COMP%]{color:var(--bs-dark)}.blocked-date[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px!important}  .properties-wrapper .property-card .ant-card-body{padding:0!important}.name-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.5em}.name-row[_ngcontent-%COMP%]   .booking-name[_ngcontent-%COMP%]{color:var(--bs-dark);font-weight:700;margin-top:.5em;margin-bottom:.5em}.description[_ngcontent-%COMP%]{font-size:12px;color:var(--bs-gray-700)}@media (max-width: 575px){.description[_ngcontent-%COMP%]{margin:0}}"]}),n})()}}]);